<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Running qpdf &mdash; QPDF 11.1.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/wraptable.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="QDF Mode" href="qdf.html" />
    <link rel="prev" title="Notes for Packagers" href="packaging.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> QPDF
            <img src="_static/qpdf.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                11.1.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">What is QPDF?</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="download.html">Downloading QPDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Building and Installing QPDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="packaging.html">Notes for Packagers</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running qpdf</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-invocation">Basic Invocation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#related-options">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exit-status">Exit Status</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#shell-completion">Shell Completion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#help-information">Help/Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#general-options">General Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-control-options">Advanced Control Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pdf-transformation">PDF Transformation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#page-ranges">Page Ranges</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pdf-modification">PDF Modification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id12">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#encryption">Encryption</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#page-selection">Page Selection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limitations">Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#overlay-and-underlay">Overlay and Underlay</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id15">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#embedded-files-attachments">Embedded Files/Attachments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">Related Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pdf-date-format">PDF Date Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#options-for-adding-attachments">Options for Adding Attachments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#options-for-copying-attachments">Options for Copying Attachments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pdf-inspection">PDF Inspection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#json-options">JSON Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id19">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#options-for-testing-or-debugging">Options for Testing or Debugging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#idempotency">Idempotency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">Related Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#unicode-passwords">Unicode Passwords</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="qdf.html">QDF Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="library.html">Using the QPDF Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="weak-crypto.html">Weak Cryptography</a></li>
<li class="toctree-l1"><a class="reference internal" href="json.html">qpdf JSON</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to qpdf</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design and Library Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="qpdf-job.html">QPDFJob: a Job-Based Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="linearization.html">Linearization</a></li>
<li class="toctree-l1"><a class="reference internal" href="object-streams.html">Object and Cross-Reference Streams</a></li>
<li class="toctree-l1"><a class="reference internal" href="encryption.html">PDF Encryption</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgement.html">Acknowledgments</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">QPDF</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Running qpdf</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/cli.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="running-qpdf">
<span id="using"></span><h1>Running qpdf<a class="headerlink" href="#running-qpdf" title="Permalink to this heading"></a></h1>
<p>This chapter describes how to run the qpdf program from the command
line.</p>
<section id="basic-invocation">
<span id="invocation"></span><h2>Basic Invocation<a class="headerlink" href="#basic-invocation" title="Permalink to this heading"></a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Usage: qpdf [infile] [options] [outfile]
</pre></div>
</div>
<p>The <strong class="command">qpdf</strong> command reads the PDF file <code class="samp docutils literal notranslate"><em><span class="pre">infile</span></em></code>,
applies various transformations or modifications to the file in
memory, and writes the result to <code class="samp docutils literal notranslate"><em><span class="pre">outfile</span></em></code>. When run with no
options, the output file is functionally identical to the input file
but may be structurally reorganized, and orphaned objects are removed
from the file. Many options are available for applying transformations
or modifications to the file.</p>
<p><code class="samp docutils literal notranslate"><em><span class="pre">infile</span></em></code> can be a regular file, or it can be
<a class="reference internal" href="#option-empty" title="option-empty"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--empty</span></code></a> to start with an empty PDF file. There is no way
to use standard input since the input file has to be seekable.</p>
<p><code class="samp docutils literal notranslate"><em><span class="pre">outfile</span></em></code> can be a regular file, <code class="docutils literal notranslate"><span class="pre">-</span></code> to represent standard
output, or <a class="reference internal" href="#option-replace-input" title="option-replace-input"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--replace-input</span></code></a> to indicate that the input file
should be overwritten. The output file does not have to be seekable,
even when generating linearized files. You can also use
<a class="reference internal" href="#option-split-pages" title="option-split-pages"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--split-pages</span></code></a> to create separate output files for each
page (or group of pages) instead of a single output file.</p>
<p>Password-protected files may be opened by specifying a password with
<a class="reference internal" href="#option-password" title="option-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password</span></code></a>.</p>
<p>All options other than help options (see <a class="reference internal" href="#help-options"><span class="std std-ref">Help/Information</span></a>) require
an input file. If inspection or JSON options (see
<a class="reference internal" href="#inspection-options"><span class="std std-ref">PDF Inspection</span></a> and <a class="reference internal" href="#json-options"><span class="std std-ref">JSON Options</span></a>) or help options are
given, an output file must not be given. Otherwise, an output file is
required.</p>
<p>If <code class="samp docutils literal notranslate"><span class="pre">&#64;filename</span></code> appears as a word anywhere in the command-line,
it will be read line by line, and each line will be treated as a
command-line argument. Leading and trailing whitespace is
intentionally not removed from lines, which makes it possible to
handle arguments that start or end with spaces. The <code class="samp docutils literal notranslate"><span class="pre">&#64;-</span></code> option
allows arguments to be read from standard input. This allows qpdf to
be invoked with an arbitrary number of arbitrarily long arguments. It
is also very useful for avoiding having to pass passwords on the
command line, though see also <a class="reference internal" href="#option-password-file" title="option-password-file"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password-file</span></code></a>. Note that
the <code class="samp docutils literal notranslate"><span class="pre">&#64;filename</span></code> can’t appear in the middle of an argument, so
constructs such as <code class="samp docutils literal notranslate"><span class="pre">--arg=&#64;filename</span></code> will not work. Instead, you
would have to include the option and its parameter (e.g.,
<code class="samp docutils literal notranslate"><span class="pre">--option=parameter</span></code>) as a line in the <code class="file docutils literal notranslate"><span class="pre">filename</span></code> file and
just pass <code class="samp docutils literal notranslate"><span class="pre">&#64;filename</span></code> on the command line.</p>
<section id="related-options">
<h3>Related Options<a class="headerlink" href="#related-options" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-empty">
<span class="sig-name descname"><span class="pre">--empty</span></span><a class="headerlink" href="#option-empty" title="Permalink to this definition"></a></dt>
<dd><p>This option may be given in place of <code class="samp docutils literal notranslate"><em><span class="pre">infile</span></em></code>. This causes
qpdf to use a dummy input file that contains zero pages. This
option is useful in conjunction with <a class="reference internal" href="#option-pages" title="option-pages"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--pages</span></code></a>. See
<a class="reference internal" href="#page-selection"><span class="std std-ref">Page Selection</span></a> for details.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-replace-input">
<span class="sig-name descname"><span class="pre">--replace-input</span></span><a class="headerlink" href="#option-replace-input" title="Permalink to this definition"></a></dt>
<dd><p>This option may be given in place of <code class="samp docutils literal notranslate"><em><span class="pre">outfile</span></em></code>. This causes
qpdf to replace the input file with the output. It does this by
writing to <code class="file docutils literal notranslate"><em><span class="pre">infilename</span></em><span class="pre">.~qpdf-temp#</span></code> and, when done,
overwriting the input file with the temporary file. If there were
any warnings, the original input is saved as
<code class="file docutils literal notranslate"><em><span class="pre">infilename</span></em><span class="pre">.~qpdf-orig</span></code>. If there are errors, the input
file is left untouched.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-job-json-file">
<span class="sig-name descname"><span class="pre">--job-json-file=file</span></span><a class="headerlink" href="#option-job-json-file" title="Permalink to this definition"></a></dt>
<dd><p>Specify the name of a file whose contents are expected to contain a
QPDFJob JSON file. This file is read and treated as if the
equivalent command-line arguments were supplied. It can be repeated
and mixed freely with other options. Run <code class="docutils literal notranslate"><span class="pre">qpdf</span></code> with
<a class="reference internal" href="#option-job-json-help" title="option-job-json-help"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--job-json-help</span></code></a> for a description of the job JSON input
file format. For more information, see <a class="reference internal" href="qpdf-job.html#qpdf-job"><span class="std std-ref">QPDFJob: a Job-Based Interface</span></a>. Note that
this is unrelated to <a class="reference internal" href="#option-json" title="option-json"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json</span></code></a> but may be combined with
it.</p>
</dd></dl>

</section>
</section>
<section id="exit-status">
<span id="id1"></span><h2>Exit Status<a class="headerlink" href="#exit-status" title="Permalink to this heading"></a></h2>
<p>The exit status of <strong class="command">qpdf</strong> may be interpreted as follows:</p>
<table class="docutils align-default" id="id23">
<caption><span class="caption-text">Exit Codes</span><a class="headerlink" href="#id23" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 5.9%" />
<col style="width: 94.1%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>no errors or warnings were found</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>not used</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>errors were found; the file was not processed</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>warnings were found without errors</p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul class="simple">
<li><p>A PDF file may have problems that qpdf can’t detect.</p></li>
<li><p>With the <a class="reference internal" href="#option-warning-exit-0" title="option-warning-exit-0"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--warning-exit-0</span></code></a> option, exit status <code class="docutils literal notranslate"><span class="pre">0</span></code> is
used even if there are warnings.</p></li>
<li><p><strong class="command">qpdf</strong> does not exit with status <code class="docutils literal notranslate"><span class="pre">1</span></code> since the shell uses
this exit code if it is unable to invoke the command.</p></li>
<li><p>If both errors and warnings were found, exit status <code class="docutils literal notranslate"><span class="pre">2</span></code> is used.</p></li>
<li><p>The <a class="reference internal" href="#option-is-encrypted" title="option-is-encrypted"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--is-encrypted</span></code></a> and <a class="reference internal" href="#option-requires-password" title="option-requires-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--requires-password</span></code></a>
options use different exit codes. See their help for details.</p></li>
</ul>
<section id="id2">
<h3>Related Options<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-warning-exit-0">
<span class="sig-name descname"><span class="pre">--warning-exit-0</span></span><a class="headerlink" href="#option-warning-exit-0" title="Permalink to this definition"></a></dt>
<dd><p>If there were warnings only and no errors, exit with exit code
<code class="docutils literal notranslate"><span class="pre">0</span></code> instead of <code class="docutils literal notranslate"><span class="pre">3</span></code>. When combined with <a class="reference internal" href="#option-no-warn" title="option-no-warn"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--no-warn</span></code></a>,
the effect is for <strong class="command">qpdf</strong> to completely ignore warnings.</p>
</dd></dl>

</section>
</section>
<section id="shell-completion">
<span id="id3"></span><h2>Shell Completion<a class="headerlink" href="#shell-completion" title="Permalink to this heading"></a></h2>
<p><strong class="command">qpdf</strong> provides its own completion support for zsh and bash.
You can enable bash completion with <strong class="command">eval $(qpdf
--completion-bash)</strong> and zsh completion with <strong class="command">eval $(qpdf
--completion-zsh)</strong>. If <strong class="command">qpdf</strong> is not in your path, you should
use an absolute path to qpdf in the above invocation. If you invoke it
with a relative path, it will warn you, and the completion won’t work
if you’re in a different directory.</p>
<p><strong class="command">qpdf</strong> will use <code class="docutils literal notranslate"><span class="pre">argv[0]</span></code> to figure out where its
executable is. This may produce unwanted results in some cases,
especially if you are trying to use completion with a copy of qpdf that
is run directly out of the source tree or that is invoked with a
wrapper script. You can specify a full path to the qpdf you want to
use for completion in the <code class="docutils literal notranslate"><span class="pre">QPDF_EXECUTABLE</span></code> environment variable.</p>
<section id="id4">
<h3>Related Options<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-completion-bash">
<span class="sig-name descname"><span class="pre">--completion-bash</span></span><a class="headerlink" href="#option-completion-bash" title="Permalink to this definition"></a></dt>
<dd><p>Output a completion command you can eval to enable shell completion
from bash.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-completion-zsh">
<span class="sig-name descname"><span class="pre">--completion-zsh</span></span><a class="headerlink" href="#option-completion-zsh" title="Permalink to this definition"></a></dt>
<dd><p>Output a completion command you can eval to enable shell completion
from zsh.</p>
</dd></dl>

</section>
</section>
<section id="help-information">
<span id="help-options"></span><h2>Help/Information<a class="headerlink" href="#help-information" title="Permalink to this heading"></a></h2>
<p>Help options provide some information about qpdf itself. Help options
are only valid as the first and only command-line argument.</p>
<section id="id5">
<h3>Related Options<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-help">
<span class="sig-name descname"><span class="pre">--help[=--option|topic]</span></span><a class="headerlink" href="#option-help" title="Permalink to this definition"></a></dt>
<dd><p>Display command-line invocation help. Use <code class="samp docutils literal notranslate"><span class="pre">--help=</span><em><span class="pre">--option</span></em></code>
for help on a specific option and <code class="samp docutils literal notranslate"><span class="pre">--help=</span><em><span class="pre">topic</span></em></code> for help
on a help topic and also provides a list of available help topics.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-version">
<span class="sig-name descname"><span class="pre">--version</span></span><a class="headerlink" href="#option-version" title="Permalink to this definition"></a></dt>
<dd><p>Display the version of qpdf. The version number displayed is the
one that is compiled into the qpdf library. If you don’t see the
version number you expect, you may have more than one version of
<strong class="command">qpdf</strong> installed and may not have your library path set up
correctly.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-copyright">
<span class="sig-name descname"><span class="pre">--copyright</span></span><a class="headerlink" href="#option-copyright" title="Permalink to this definition"></a></dt>
<dd><p>Display copyright and license information.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-show-crypto">
<span class="sig-name descname"><span class="pre">--show-crypto</span></span><a class="headerlink" href="#option-show-crypto" title="Permalink to this definition"></a></dt>
<dd><p>Show a list of available crypto providers, each on a line by
itself. The default provider is always listed first. See
<a class="reference internal" href="installation.html#crypto"><span class="std std-ref">Crypto Providers</span></a> for more information about crypto providers.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-job-json-help">
<span class="sig-name descname"><span class="pre">--job-json-help</span></span><a class="headerlink" href="#option-job-json-help" title="Permalink to this definition"></a></dt>
<dd><p>Describe the format of the QPDFJob JSON input used by
<a class="reference internal" href="#option-job-json-file" title="option-job-json-file"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--job-json-file</span></code></a>. For more information about QPDFJob,
see <a class="reference internal" href="qpdf-job.html#qpdf-job"><span class="std std-ref">QPDFJob: a Job-Based Interface</span></a>.</p>
</dd></dl>

</section>
</section>
<section id="general-options">
<span id="id6"></span><h2>General Options<a class="headerlink" href="#general-options" title="Permalink to this heading"></a></h2>
<p>This section describes general options that control <strong class="command">qpdf</strong>’s
behavior. They are not necessarily related to the specific operation
that is being performed and may be used whether or not an output file
is being created.</p>
<section id="id7">
<h3>Related Options<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-password">
<span class="sig-name descname"><span class="pre">--password=password</span></span><a class="headerlink" href="#option-password" title="Permalink to this definition"></a></dt>
<dd><p>Specifies a password for accessing encrypted, password-protected
files. To read the password from a file or standard input, you can
use <a class="reference internal" href="#option-password-file" title="option-password-file"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password-file</span></code></a>.</p>
<p>Prior to 8.4.0, in the case of passwords that contain characters
that fall outside of 7-bit US-ASCII, qpdf left the burden of
supplying properly encoded encryption and decryption passwords to
the user. Starting in qpdf 8.4.0, qpdf does this automatically in
most cases. For an in-depth discussion, please see
<a class="reference internal" href="#unicode-passwords"><span class="std std-ref">Unicode Passwords</span></a>. Previous versions of this manual
described workarounds using the <strong class="command">iconv</strong> command. Such
workarounds are no longer required or recommended starting with
qpdf 8.4.0. However, for backward compatibility, qpdf attempts to
detect those workarounds and do the right thing in most cases.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-password-file">
<span class="sig-name descname"><span class="pre">--password-file=filename</span></span><a class="headerlink" href="#option-password-file" title="Permalink to this definition"></a></dt>
<dd><p>Reads the first line from the specified file and uses it as the
password for accessing encrypted files. <code class="samp docutils literal notranslate"><em><span class="pre">filename</span></em></code> may be
<code class="docutils literal notranslate"><span class="pre">-</span></code> to read the password from standard input, but if you do that
the password is echoed and there is no prompt, so use <code class="docutils literal notranslate"><span class="pre">-</span></code> with
caution. Note that leading and trailing spaces are not stripped
from the password.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-verbose">
<span class="sig-name descname"><span class="pre">--verbose</span></span><a class="headerlink" href="#option-verbose" title="Permalink to this definition"></a></dt>
<dd><p>Increase verbosity of output. This includes information about files
created, image optimization, and several other operations. In some
cases, it also displays additional information when inspection
options (see <a class="reference internal" href="#inspection-options"><span class="std std-ref">PDF Inspection</span></a>) are used.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-progress">
<span class="sig-name descname"><span class="pre">--progress</span></span><a class="headerlink" href="#option-progress" title="Permalink to this definition"></a></dt>
<dd><p>Indicate progress while writing output files. Progress indication
does not start until writing starts, so there may be a delay before
progress indicators are seen if complicated transformations are
being applied before the write process begins.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-no-warn">
<span class="sig-name descname"><span class="pre">--no-warn</span></span><a class="headerlink" href="#option-no-warn" title="Permalink to this definition"></a></dt>
<dd><p>Suppress writing of warnings to stderr. If warnings were detected
and suppressed, <strong class="command">qpdf</strong> will still exit with exit code 3.
To completely ignore warnings, also specify
<a class="reference internal" href="#option-warning-exit-0" title="option-warning-exit-0"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--warning-exit-0</span></code></a>. Use with caution as qpdf is not
always successful in recovering from situations that cause warnings
to be issued.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-deterministic-id">
<span class="sig-name descname"><span class="pre">--deterministic-id</span></span><a class="headerlink" href="#option-deterministic-id" title="Permalink to this definition"></a></dt>
<dd><p>Generate a secure, random document ID using deterministic values.
This prevents use of timestamp and output file name information in
the ID generation. Instead, at some slight additional runtime cost,
the ID field is generated to include a digest of the significant
parts of the content of the output PDF file. This means that a
given qpdf operation should generate the same ID each time it is
run, which can be useful when caching results or for generation of
some test data. Use of this flag is not compatible with creation of
encrypted files. This option can be useful for testing. See also
<a class="reference internal" href="#option-static-id" title="option-static-id"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--static-id</span></code></a>.</p>
<p>While qpdf will generate the same deterministic ID given the same
output PDF, there is no guarantee that different versions of qpdf
will generate exactly the same PDF output for the same input and
options. While care is taken to avoid gratuitous changes to qpdf’s
PDF generation, new versions of qpdf may include changes or bug
fixes that cause slightly different PDF code to be generated. Such
changes are noted in the release notes.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-allow-weak-crypto">
<span class="sig-name descname"><span class="pre">--allow-weak-crypto</span></span><a class="headerlink" href="#option-allow-weak-crypto" title="Permalink to this definition"></a></dt>
<dd><p>Encrypted PDF files using 40-bit keys or 128-bit keys without AES
use the insecure <em>RC4</em> encryption algorithm. Starting with version
11.0, qpdf’s default behavior is to refuse to write files using RC4
encryption. Use this option to allow creation of such files. In
versions 10.4 through 10.6, attempting to create weak encrypted
files was a warning, rather than an error, without this flag. See
<a class="reference internal" href="weak-crypto.html#weak-crypto"><span class="std std-ref">Weak Cryptography</span></a> for additional details.</p>
<p>No check is performed for weak crypto when preserving encryption
parameters from or copying encryption parameters from other files.
The rationale for this is discussed in <a class="reference internal" href="weak-crypto.html#weak-crypto"><span class="std std-ref">Weak Cryptography</span></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-keep-files-open">
<span class="sig-name descname"><span class="pre">--keep-files-open=[y|n]</span></span><a class="headerlink" href="#option-keep-files-open" title="Permalink to this definition"></a></dt>
<dd><p>This option controls whether qpdf keeps individual files open while
merging. By default, qpdf keeps files open when merging unless more
than 200 files are specified, in which case files are opened as
needed and closed when finished. Repeatedly opening
and closing files may impose a large performance penalty with some
file systems, especially networked file systems. If you know that
you have a large enough open file limit and are suffering from
performance problems, or if you have an open file limit smaller
than 200, you can use this option to override the default behavior
by specifying <code class="samp docutils literal notranslate"><span class="pre">--keep-files-open=y</span></code> to force <strong class="command">qpdf</strong>
to keep files open or <code class="samp docutils literal notranslate"><span class="pre">--keep-files-open=n</span></code> to force it to
only open files as needed. See also
<a class="reference internal" href="#option-keep-files-open-threshold" title="option-keep-files-open-threshold"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--keep-files-open-threshold</span></code></a>.</p>
<p>Historical note: prior to version 8.1.0, qpdf always kept all files
open, but this meant that the number of files that could be merged
was limited by the operating system’s open file limit. Version
8.1.0 opened files as they were referenced and closed them after
each read, but this caused a major performance impact. Version
8.2.0 optimized the performance but did so in a way that, for local
file systems, there was a small but unavoidable performance hit,
but for networked file systems the performance impact could be
very high. The current behavior was introduced in qpdf version
8.2.1.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-keep-files-open-threshold">
<span class="sig-name descname"><span class="pre">--keep-files-open-threshold=count</span></span><a class="headerlink" href="#option-keep-files-open-threshold" title="Permalink to this definition"></a></dt>
<dd><p>If specified, overrides the default value of 200 used as the
threshold for qpdf deciding whether or not to keep files open. See
<a class="reference internal" href="#option-keep-files-open" title="option-keep-files-open"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--keep-files-open</span></code></a> for details.</p>
</dd></dl>

</section>
</section>
<section id="advanced-control-options">
<span id="id8"></span><h2>Advanced Control Options<a class="headerlink" href="#advanced-control-options" title="Permalink to this heading"></a></h2>
<p>Advanced control options control qpdf’s behavior in ways that would
normally never be needed by a user but that may be useful to
developers or people investigating problems with specific files.</p>
<section id="id9">
<h3>Related Options<a class="headerlink" href="#id9" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-password-is-hex-key">
<span class="sig-name descname"><span class="pre">--password-is-hex-key</span></span><a class="headerlink" href="#option-password-is-hex-key" title="Permalink to this definition"></a></dt>
<dd><p>Overrides the usual computation/retrieval of the PDF file’s
encryption key from user/owner password with an explicit
specification of the encryption key. When this option is specified,
the parameter to the <a class="reference internal" href="#option-password" title="option-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password</span></code></a> option is interpreted as
a hexadecimal-encoded key value. This only applies to the password
used to open the main input file. It does not apply to other files
opened by <a class="reference internal" href="#option-pages" title="option-pages"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--pages</span></code></a> or other options or to files being
written.</p>
<p>Most users will never have a need for this option, and no standard
viewers support this mode of operation, but it can be useful for
forensic or investigatory purposes. For example, if a PDF file is
encrypted with an unknown password, a brute-force attack using the
key directly is sometimes more efficient than one using the
password. Also, if a file is heavily damaged, it may be possible to
derive the encryption key and recover parts of the file using it
directly. To expose the encryption key used by an encrypted file
that you can open normally, use the
<a class="reference internal" href="#option-show-encryption-key" title="option-show-encryption-key"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--show-encryption-key</span></code></a> option.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-suppress-password-recovery">
<span class="sig-name descname"><span class="pre">--suppress-password-recovery</span></span><a class="headerlink" href="#option-suppress-password-recovery" title="Permalink to this definition"></a></dt>
<dd><p>Ordinarily, qpdf attempts to automatically compensate for passwords
encoded with the wrong character encoding. This option suppresses
that behavior. Under normal conditions, there are no reasons to use
this option. See <a class="reference internal" href="#unicode-passwords"><span class="std std-ref">Unicode Passwords</span></a> for a discussion.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-password-mode">
<span class="sig-name descname"><span class="pre">--password-mode=mode</span></span><a class="headerlink" href="#option-password-mode" title="Permalink to this definition"></a></dt>
<dd><p>This option can be used to fine-tune how qpdf interprets Unicode
(non-ASCII) password strings passed on the command line. With the
exception of the <code class="samp docutils literal notranslate"><span class="pre">hex-bytes</span></code> mode, these only apply to
passwords provided when encrypting files. The <code class="samp docutils literal notranslate"><span class="pre">hex-bytes</span></code>
mode also applies to passwords specified for reading files. For
additional discussion of the supported password modes and when you
might want to use them, see <a class="reference internal" href="#unicode-passwords"><span class="std std-ref">Unicode Passwords</span></a>. The following
modes are supported:</p>
<ul class="simple">
<li><p><code class="samp docutils literal notranslate"><span class="pre">auto</span></code>: Automatically determine whether the specified
password is a properly encoded Unicode (UTF-8) string, and
transcode it as required by the PDF spec based on the type of
encryption being applied. On Windows starting with version 8.4.0,
and on almost all other modern platforms, incoming passwords will
be properly encoded in UTF-8, so this is almost always what you
want.</p></li>
<li><p><code class="samp docutils literal notranslate"><span class="pre">unicode</span></code>: Tells qpdf that the incoming password is UTF-8,
overriding whatever its automatic detection determines. The only
difference between this mode and <code class="samp docutils literal notranslate"><span class="pre">auto</span></code> is that qpdf will
fail with an error message if the password is not valid UTF-8
instead of falling back to <code class="samp docutils literal notranslate"><span class="pre">bytes</span></code> mode with a warning.</p></li>
<li><p><code class="samp docutils literal notranslate"><span class="pre">bytes</span></code>: Interpret the password as a literal byte string.
For non-Windows platforms, this is what versions of qpdf prior to
8.4.0 did. For Windows platforms, there is no way to specify
strings of binary data on the command line directly, but you can
use a <code class="samp docutils literal notranslate"><span class="pre">&#64;filename</span></code> option or <a class="reference internal" href="#option-password-file" title="option-password-file"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password-file</span></code></a> to
do it, in which case this option forces qpdf to respect the
string of bytes as provided. Note that this option may cause you
to encrypt PDF files with passwords that will not be usable by
other readers.</p></li>
<li><p><code class="samp docutils literal notranslate"><span class="pre">hex-bytes</span></code>: Interpret the password as a hex-encoded
string. This provides a way to pass binary data as a password on
all platforms including Windows. As with <code class="samp docutils literal notranslate"><span class="pre">bytes</span></code>, this
option may allow creation of files that can’t be opened by other
readers. This mode affects qpdf’s interpretation of passwords
specified for decrypting files as well as for encrypting them. It
makes it possible to specify strings that are encoded in some
manner other than the system’s default encoding.</p></li>
</ul>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-suppress-recovery">
<span class="sig-name descname"><span class="pre">--suppress-recovery</span></span><a class="headerlink" href="#option-suppress-recovery" title="Permalink to this definition"></a></dt>
<dd><p>Prevents qpdf from attempting to reconstruct a file’s cross
reference table when there are errors reading objects from the
file. Recovery is triggered by a variety of situations. While
usually successful, it uses heuristics that don’t work on all
files. If this option is given, <strong class="command">qpdf</strong> fails on the first
error it encounters.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-ignore-xref-streams">
<span class="sig-name descname"><span class="pre">--ignore-xref-streams</span></span><a class="headerlink" href="#option-ignore-xref-streams" title="Permalink to this definition"></a></dt>
<dd><p>Tells qpdf to ignore any cross-reference streams, falling back to
any embedded cross-reference tables or triggering document
recovery. Ordinarily, qpdf reads cross-reference streams when they
are present in a PDF file. If this option is specified,
qpdf will ignore any cross-reference streams for hybrid PDF files.
The purpose of hybrid files is to make some content available to
viewers that are not aware of cross-reference streams. It is almost
never desirable to ignore them. The only time when you might want
to use this feature is if you are testing creation of hybrid PDF
files and wish to see how a PDF consumer that doesn’t understand
object and cross-reference streams would interpret such a file.</p>
</dd></dl>

</section>
</section>
<section id="pdf-transformation">
<span id="transformation-options"></span><h2>PDF Transformation<a class="headerlink" href="#pdf-transformation" title="Permalink to this heading"></a></h2>
<p>The options discussed in this section tell qpdf to apply
transformations that change the structure of a PDF file without
changing its content. Examples include creating linearized
(web-optimized) files, adding or removing encryption, restructuring
files for older viewers, and rewriting files for human inspection. See
also <a class="reference internal" href="#modification-options"><span class="std std-ref">PDF Modification</span></a>.</p>
<section id="id10">
<h3>Related Options<a class="headerlink" href="#id10" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-linearize">
<span class="sig-name descname"><span class="pre">--linearize</span></span><a class="headerlink" href="#option-linearize" title="Permalink to this definition"></a></dt>
<dd><p>Create linearized (web-optimized) output files. Linearized files
are formatted in a way that allows compliant readers to begin
displaying a PDF file before it is fully downloaded. Ordinarily,
the entire file must be present before it can be rendered because
important cross-reference information typically appears at the end
of the file.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-encrypt">
<span class="sig-name descname"><span class="pre">--encrypt</span> <span class="pre">user-password</span> <span class="pre">owner-password</span> <span class="pre">key-length</span> <span class="pre">[options]</span> <span class="pre">--</span></span><a class="headerlink" href="#option-encrypt" title="Permalink to this definition"></a></dt>
<dd><p>This flag starts encryption options, used to create encrypted
files. Please see <a class="reference internal" href="#encryption-options"><span class="std std-ref">Encryption</span></a> for details.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-decrypt">
<span class="sig-name descname"><span class="pre">--decrypt</span></span><a class="headerlink" href="#option-decrypt" title="Permalink to this definition"></a></dt>
<dd><p>Create an output file with no encryption even if the input file is
encrypted. This option overrides the default behavior of preserving
whatever encryption was present on the input file. This
functionality is not intended to be used for bypassing copyright
restrictions or other restrictions placed on files by their
producers. See also <a class="reference internal" href="#option-copy-encryption" title="option-copy-encryption"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--copy-encryption</span></code></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-copy-encryption">
<span class="sig-name descname"><span class="pre">--copy-encryption=file</span></span><a class="headerlink" href="#option-copy-encryption" title="Permalink to this definition"></a></dt>
<dd><p>Copy all encryption parameters, including the user password, the
owner password, and all security restrictions, from the specified
file instead of preserving the encryption details from the input
file. This works even if only one of the user password or owner
password is known. If the encryption file requires a password, use
the <a class="reference internal" href="#option-encryption-file-password" title="option-encryption-file-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--encryption-file-password</span></code></a> option to set it. Note
that copying the encryption parameters from a file also copies the
first half of <code class="docutils literal notranslate"><span class="pre">/ID</span></code> from the file since this is part of the
encryption parameters. This option can be useful if you need to
decrypt a file to make manual changes to it or to change it outside
of qpdf, and then want to restore the original encryption on the
file without having to manual specify all the individual settings.
See also <a class="reference internal" href="#option-decrypt" title="option-decrypt"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--decrypt</span></code></a>.</p>
<p>Checks for weak cryptographic algorithms are intentionally not made
by this operation. See <a class="reference internal" href="weak-crypto.html#weak-crypto"><span class="std std-ref">Weak Cryptography</span></a> for the rationale.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-encryption-file-password">
<span class="sig-name descname"><span class="pre">--encryption-file-password=password</span></span><a class="headerlink" href="#option-encryption-file-password" title="Permalink to this definition"></a></dt>
<dd><p>If the file specified with <a class="reference internal" href="#option-copy-encryption" title="option-copy-encryption"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--copy-encryption</span></code></a>
requires a password, supply the password using this option. This
option is necessary because the <a class="reference internal" href="#option-password" title="option-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password</span></code></a> option
applies to the input file, not the file from which encryption is
being copied.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-qdf">
<span class="sig-name descname"><span class="pre">--qdf</span></span><a class="headerlink" href="#option-qdf" title="Permalink to this definition"></a></dt>
<dd><p>Create a PDF file suitable for viewing and editing in a text
editor. This is to edit the PDF code, not the page contents. To
edit a QDF file, your text editor must preserve binary data. In a
QDF file, all streams that can be uncompressed are uncompressed,
and content streams are normalized, among other changes. The
companion tool <strong class="command">fix-qdf</strong> can be used to repair hand-edited
QDF files. QDF is a feature specific to the qpdf tool. For
additional information, see <a class="reference internal" href="qdf.html#qdf"><span class="std std-ref">QDF Mode</span></a>. Note that
<a class="reference internal" href="#option-linearize" title="option-linearize"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--linearize</span></code></a> disables QDF mode.</p>
<p>QDF mode has full support for object streams, but sometimes it’s
easier to locate a specific object if object streams are disabled.
When trying to understand some PDF construct by inspecting an
existing file, it can be useful to combine <code class="samp docutils literal notranslate"><span class="pre">--qdf</span></code> with
<code class="samp docutils literal notranslate"><span class="pre">--object-streams=disable</span></code>.</p>
<p>This flag changes some of the defaults of other options: stream
data is uncompressed, content streams are normalized, and
encryption is removed. These defaults can still be overridden by
specifying the appropriate options with <code class="samp docutils literal notranslate"><span class="pre">--qdf</span></code>.
Additionally, in QDF mode, stream lengths are stored as indirect
objects, objects are formatted in a less efficient but more
readable fashion, and the documents are interspersed with comments
that make it easier for the user to find things and also make it
possible for <strong class="command">fix-qdf</strong> to work properly. When editing QDF
files, it is not necessary to maintain the object formatting.</p>
<p>When normalizing content, if qpdf runs into any lexical errors, it
will print a warning indicating that content may be damaged. If you
want to create QDF files without content normalization, specify
<code class="samp docutils literal notranslate"><span class="pre">--qdf</span> <span class="pre">--normalize-content=n</span></code>. You can also create a non-QDF
file with uncompressed streams using
<code class="samp docutils literal notranslate"><span class="pre">--stream-data=uncompress</span></code>. Either option will uncompress all
the streams but will not attempt to normalize content. Please note
that if you are using content normalization or QDF mode for the
purpose of manually inspecting files, you don’t have to care about
this.</p>
<p>See also <a class="reference internal" href="#option-no-original-object-ids" title="option-no-original-object-ids"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--no-original-object-ids</span></code></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-no-original-object-ids">
<span class="sig-name descname"><span class="pre">--no-original-object-ids</span></span><a class="headerlink" href="#option-no-original-object-ids" title="Permalink to this definition"></a></dt>
<dd><p>Suppresses inclusion of original object ID comments in QDF files.
This can be useful when generating QDF files for test purposes,
particularly when comparing them to determine whether two PDF files
have identical content. The original object ID comment is there by
default because it makes it easier to trace objects back to the
original file.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-compress-streams">
<span class="sig-name descname"><span class="pre">--compress-streams=[y|n]</span></span><a class="headerlink" href="#option-compress-streams" title="Permalink to this definition"></a></dt>
<dd><p>By default, or with <code class="samp docutils literal notranslate"><span class="pre">--compress-streams=y</span></code>, qpdf will
compress streams using the flate compression algorithm (used by zip
and gzip) unless those streams are compressed in some other way.
This analysis is made after qpdf attempts to uncompress streams and
is therefore closely related to <a class="reference internal" href="#option-decode-level" title="option-decode-level"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--decode-level</span></code></a>. To
suppress this behavior and leave streams streams uncompressed, use
<code class="samp docutils literal notranslate"><span class="pre">--compress-streams=n</span></code>. In QDF mode (see <a class="reference internal" href="qdf.html#qdf"><span class="std std-ref">QDF Mode</span></a> and
<a class="reference internal" href="#option-qdf" title="option-qdf"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--qdf</span></code></a>), the default is to leave streams uncompressed.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-decode-level">
<span class="sig-name descname"><span class="pre">--decode-level=parameter</span></span><a class="headerlink" href="#option-decode-level" title="Permalink to this definition"></a></dt>
<dd><p>Controls which streams qpdf tries to decode. The default is
<code class="samp docutils literal notranslate"><span class="pre">generalized</span></code>.</p>
<p>The following values for <code class="samp docutils literal notranslate"><em><span class="pre">parameter</span></em></code> are available:</p>
<ul class="simple">
<li><p><code class="samp docutils literal notranslate"><span class="pre">none</span></code>: do not attempt to decode any streams. This is the
default with <a class="reference internal" href="#option-json-output" title="option-json-output"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-output</span></code></a>.</p></li>
<li><p><code class="samp docutils literal notranslate"><span class="pre">generalized</span></code>: decode streams filtered with supported
generalized filters: <code class="docutils literal notranslate"><span class="pre">/LZWDecode</span></code>, <code class="docutils literal notranslate"><span class="pre">/FlateDecode</span></code>,
<code class="docutils literal notranslate"><span class="pre">/ASCII85Decode</span></code>, and <code class="docutils literal notranslate"><span class="pre">/ASCIIHexDecode</span></code>. We define
generalized filters as those to be used for general-purpose
compression or encoding, as opposed to filters specifically
designed for image data. This is the default except when
<a class="reference internal" href="#option-json-output" title="option-json-output"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-output</span></code></a> is given.</p></li>
<li><p><code class="samp docutils literal notranslate"><span class="pre">specialized</span></code>: in addition to generalized, decode streams
with supported non-lossy specialized filters; currently this is
just <code class="docutils literal notranslate"><span class="pre">/RunLengthDecode</span></code></p></li>
<li><p><code class="samp docutils literal notranslate"><span class="pre">all</span></code>: in addition to generalized and specialized, decode
streams with supported lossy filters; currently this is just
<code class="docutils literal notranslate"><span class="pre">/DCTDecode</span></code> (JPEG)</p></li>
</ul>
<p>There are several filters that <strong class="command">qpdf</strong> does not support.
These are left untouched regardless of the option. Future versions
of qpdf may support additional filters.</p>
<p>Because the default value is <code class="docutils literal notranslate"><span class="pre">generalized</span></code>, qpdf’s default
behavior is to uncompress any stream that is encoded using
non-lossy filters that qpdf understands. If
<code class="docutils literal notranslate"><span class="pre">--compress-streams=y</span></code> is also in effect, which is the default
(see <a class="reference internal" href="#option-compress-streams" title="option-compress-streams"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--compress-streams</span></code></a>), the overall effect is that
qpdf will recompress streams with generalized filters using flate
compression, effectively eliminating LZW and ASCII-based filters.
This is usually desirable behavior but can be disabled with
<code class="docutils literal notranslate"><span class="pre">--decode-level=none</span></code>. Note that <code class="docutils literal notranslate"><span class="pre">--decode-level=none</span></code> is the
default when <a class="reference internal" href="#option-json-output" title="option-json-output"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-output</span></code></a> is specified, but it can be
overridden in that case as well.</p>
<p>As a special case, streams already compressed with <code class="docutils literal notranslate"><span class="pre">/FlateDecode</span></code>
are not uncompressed and recompressed. You can change this behavior
with <a class="reference internal" href="#option-recompress-flate" title="option-recompress-flate"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--recompress-flate</span></code></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-stream-data">
<span class="sig-name descname"><span class="pre">--stream-data=parameter</span></span><a class="headerlink" href="#option-stream-data" title="Permalink to this definition"></a></dt>
<dd><p>Controls transformation of stream data. This option predates the
<a class="reference internal" href="#option-compress-streams" title="option-compress-streams"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--compress-streams</span></code></a> and <a class="reference internal" href="#option-decode-level" title="option-decode-level"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--decode-level</span></code></a>
options. Those options can be used to achieve the same effect with
more control. The value of <code class="samp docutils literal notranslate"><em><span class="pre">parameter</span></em></code> may be one of the
following:</p>
<ul class="simple">
<li><p><code class="samp docutils literal notranslate"><span class="pre">compress</span></code>: recompress stream data when possible (default);
equivalent to <code class="samp docutils literal notranslate"><span class="pre">--compress-streams=y</span></code>
<code class="samp docutils literal notranslate"><span class="pre">--decode-level=generalized</span></code>. Does not recompress streams
already compressed with <code class="docutils literal notranslate"><span class="pre">/FlateDecode</span></code> unless
<a class="reference internal" href="#option-recompress-flate" title="option-recompress-flate"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--recompress-flate</span></code></a> is also specified.</p></li>
<li><p><code class="samp docutils literal notranslate"><span class="pre">preserve</span></code>: leave all stream data as is; equivalent to
<code class="samp docutils literal notranslate"><span class="pre">--compress-streams=n</span></code> <code class="samp docutils literal notranslate"><span class="pre">--decode-level=none</span></code></p></li>
<li><p><code class="samp docutils literal notranslate"><span class="pre">uncompress</span></code>: uncompress stream data compressed with
generalized filters when possible; equivalent to
<code class="samp docutils literal notranslate"><span class="pre">--compress-streams=n</span></code> <code class="samp docutils literal notranslate"><span class="pre">--decode-level=generalized</span></code></p></li>
</ul>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-recompress-flate">
<span class="sig-name descname"><span class="pre">--recompress-flate</span></span><a class="headerlink" href="#option-recompress-flate" title="Permalink to this definition"></a></dt>
<dd><p>The default generalized compression scheme used by PDF is flate
(<code class="docutils literal notranslate"><span class="pre">/FlateDecode</span></code>), which is the same as used by <strong class="command">zip</strong> and
<strong class="command">gzip</strong>. Usually qpdf just leaves these alone. This option
tells <strong class="command">qpdf</strong> to uncompress and recompress streams
compressed with flate. This can be useful when combined with
<a class="reference internal" href="#option-compression-level" title="option-compression-level"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--compression-level</span></code></a>. Using this option may make
<strong class="command">qpdf</strong> much slower when writing output files.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-compression-level">
<span class="sig-name descname"><span class="pre">--compression-level=level</span></span><a class="headerlink" href="#option-compression-level" title="Permalink to this definition"></a></dt>
<dd><p>When writing new streams that are compressed with <code class="docutils literal notranslate"><span class="pre">/FlateDecode</span></code>,
use the specified compression level. The value of <code class="samp docutils literal notranslate"><span class="pre">level</span></code>
should be a number from 1 to 9 and is passed directly to zlib,
which implements deflate compression. Lower numbers compress less
and are faster; higher numbers compress more and are slower. Note
that <strong class="command">qpdf</strong> doesn’t uncompress and recompress streams
compressed with flate by default. To have this option apply to
already compressed streams, you should also specify
<a class="reference internal" href="#option-recompress-flate" title="option-recompress-flate"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--recompress-flate</span></code></a>. If your goal is to shrink the size
of PDF files, you should also use
<code class="samp docutils literal notranslate"><span class="pre">--object-streams=generate</span></code>. If you omit this option, qpdf
defers to the compression library’s default behavior.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-normalize-content">
<span class="sig-name descname"><span class="pre">--normalize-content=[y|n]</span></span><a class="headerlink" href="#option-normalize-content" title="Permalink to this definition"></a></dt>
<dd><p>Enables or disables normalization of newlines in PDF content
streams to UNIX-style newlines, which is useful for viewing files
in a programmer-friendly text edit across multiple platforms.
Content normalization is off by default, but is automatically
enabled by <a class="reference internal" href="#option-qdf" title="option-qdf"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--qdf</span></code></a> (see also <a class="reference internal" href="qdf.html#qdf"><span class="std std-ref">QDF Mode</span></a>). It is not
recommended to use this option for production use. If qpdf runs
into any lexical errors while normalizing content, it will print a
warning indicating that content may be damaged.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-object-streams">
<span class="sig-name descname"><span class="pre">--object-streams=mode</span></span><a class="headerlink" href="#option-object-streams" title="Permalink to this definition"></a></dt>
<dd><p>Controls handling of object streams. The value of <code class="samp docutils literal notranslate"><em><span class="pre">mode</span></em></code>
may be one of the following:</p>
<table class="docutils align-default" id="id24">
<caption><span class="caption-text">Object Stream Modes</span><a class="headerlink" href="#id24" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 11.1%" />
<col style="width: 88.9%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="samp docutils literal notranslate"><span class="pre">preserve</span></code></p></td>
<td><p>preserve original object streams, if any (the default)</p></td>
</tr>
<tr class="row-even"><td><p><code class="samp docutils literal notranslate"><span class="pre">disable</span></code></p></td>
<td><p>create output files with no object streams</p></td>
</tr>
<tr class="row-odd"><td><p><code class="samp docutils literal notranslate"><span class="pre">generate</span></code></p></td>
<td><p>create object streams, and compress objects when possible</p></td>
</tr>
</tbody>
</table>
<p>Object streams are PDF streams that contain other objects. Putting
objects into object streams allows the PDF objects themselves to be
compressed, which can result in much smaller PDF files. Combining
this option with <a class="reference internal" href="#option-compression-level" title="option-compression-level"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--compression-level</span></code></a> and
<a class="reference internal" href="#option-recompress-flate" title="option-recompress-flate"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--recompress-flate</span></code></a> can often result in the creation of
smaller PDF files.</p>
<p>Object streams, also known as compressed objects, were introduced
into the PDF specification at version 1.5 around 2003. Some ancient
PDF viewers may not support files with object streams. qpdf can be
used to transform files with object streams into files without object
streams or vice versa.</p>
<p>In <code class="samp docutils literal notranslate"><span class="pre">preserve</span></code> mode, the relationship between objects and the
streams that contain them is preserved from the original file. If
the file has no object streams, qpdf will not add any. In
<code class="samp docutils literal notranslate"><span class="pre">disable</span></code> mode, all objects are written as regular,
uncompressed objects. The resulting file should be structurally
readable by older PDF viewers, though there is still a chance that
the file may contain other content that some older readers can’t
support. In <code class="samp docutils literal notranslate"><span class="pre">generate</span></code> mode, qpdf will create its own object
streams. This will usually result in more compact PDF files. In
this mode, qpdf will also make sure the PDF version number in the
header is at least 1.5.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-preserve-unreferenced">
<span class="sig-name descname"><span class="pre">--preserve-unreferenced</span></span><a class="headerlink" href="#option-preserve-unreferenced" title="Permalink to this definition"></a></dt>
<dd><p>Tells qpdf to preserve objects that are not referenced when writing
the file. Ordinarily any object that is not referenced in a
traversal of the document from the trailer dictionary will be
discarded. Disabling this default behavior may be useful in working
with some damaged files or inspecting files with known unreferenced
objects.</p>
<p>This flag is ignored for linearized files and has the effect of
causing objects in the new file to be written ordered by object ID
from the original file. This does not mean that object numbers will
be the same since qpdf may create stream lengths as direct or
indirect differently from the original file, and the original file
may have gaps in its numbering.</p>
<p>See also <a class="reference internal" href="#option-preserve-unreferenced-resources" title="option-preserve-unreferenced-resources"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--preserve-unreferenced-resources</span></code></a>, which does
something completely different.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-remove-unreferenced-resources">
<span class="sig-name descname"><span class="pre">--remove-unreferenced-resources=parameter</span></span><a class="headerlink" href="#option-remove-unreferenced-resources" title="Permalink to this definition"></a></dt>
<dd><p>Parameters: <code class="docutils literal notranslate"><span class="pre">auto</span></code> (the default), <code class="docutils literal notranslate"><span class="pre">yes</span></code>, or <code class="docutils literal notranslate"><span class="pre">no</span></code>.</p>
<p>Starting with qpdf 8.1, when splitting pages, qpdf is able to
attempt to remove images and fonts that are not used by a page even
if they are referenced in the page’s resources dictionary. When
shared resources are in use, this behavior can greatly reduce the
file sizes of split pages, but the analysis is very slow. In
versions from 8.1 through 9.1.1, qpdf did this analysis by default.
Starting in qpdf 10.0.0, if <code class="docutils literal notranslate"><span class="pre">auto</span></code> is used, qpdf does a quick
analysis of the file to determine whether the file is likely to
have unreferenced objects on pages, a pattern that frequently
occurs when resource dictionaries are shared across multiple pages
and rarely occurs otherwise. If it discovers this pattern, then it
will attempt to remove unreferenced resources. Usually this means
you get the slower splitting speed only when it’s actually going to
create smaller files. You can suppress removal of unreferenced
resources altogether by specifying <code class="docutils literal notranslate"><span class="pre">no</span></code> or force qpdf to do the
full algorithm by specifying <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p>
<p>Other than cases in which you don’t care about file size and care a
lot about runtime, there are few reasons to use this option,
especially now that <code class="docutils literal notranslate"><span class="pre">auto</span></code> mode is supported. One reason to use
this is if you suspect that qpdf is removing resources it shouldn’t
be removing. If you encounter such a case, please report it as a bug at
<a class="reference external" href="https://github.com/qpdf/qpdf/issues/">https://github.com/qpdf/qpdf/issues/</a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-preserve-unreferenced-resources">
<span class="sig-name descname"><span class="pre">--preserve-unreferenced-resources</span></span><a class="headerlink" href="#option-preserve-unreferenced-resources" title="Permalink to this definition"></a></dt>
<dd><p>This is a synonym for <code class="samp docutils literal notranslate"><span class="pre">--remove-unreferenced-resources=no</span></code>.
See <a class="reference internal" href="#option-remove-unreferenced-resources" title="option-remove-unreferenced-resources"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--remove-unreferenced-resources</span></code></a>.</p>
<p>See also <a class="reference internal" href="#option-preserve-unreferenced" title="option-preserve-unreferenced"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--preserve-unreferenced</span></code></a>, which does something
completely different. To reduce confusion, you should use
<code class="samp docutils literal notranslate"><span class="pre">--remove-unreferenced-resources=no</span></code> instead.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-newline-before-endstream">
<span class="sig-name descname"><span class="pre">--newline-before-endstream</span></span><a class="headerlink" href="#option-newline-before-endstream" title="Permalink to this definition"></a></dt>
<dd><p>Tell qpdf to insert a newline before the <code class="docutils literal notranslate"><span class="pre">endstream</span></code> keyword,
not counted in the length, after any stream content even if the
last character of the stream was a newline. This may result in two
newlines in some cases. This is a requirement of PDF/A. While qpdf
doesn’t specifically know how to generate PDF/A-compliant PDFs,
this at least prevents it from removing compliance on already
compliant files.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-coalesce-contents">
<span class="sig-name descname"><span class="pre">--coalesce-contents</span></span><a class="headerlink" href="#option-coalesce-contents" title="Permalink to this definition"></a></dt>
<dd><p>When a page’s contents are split across multiple streams, this
option causes qpdf to combine them into a single stream. Use of
this option is never necessary for ordinary usage, but it can help
when working with some files in some cases. For example, this can
be combined with QDF mode or content normalization to make it
easier to look at all of a page’s contents at once. It is common
for PDF writers to create multiple content streams for a variety of
reasons such as making it easier to modify page contents and
splitting very large content streams so PDF viewers may be able to
use less memory.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-externalize-inline-images">
<span class="sig-name descname"><span class="pre">--externalize-inline-images</span></span><a class="headerlink" href="#option-externalize-inline-images" title="Permalink to this definition"></a></dt>
<dd><p>Convert inline images to regular images. By default, images whose
data is at least 1,024 bytes are converted when this option is
selected. Use <a class="reference internal" href="#option-ii-min-bytes" title="option-ii-min-bytes"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--ii-min-bytes</span></code></a> to change the size
threshold. This option is implicitly selected when
<a class="reference internal" href="#option-optimize-images" title="option-optimize-images"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--optimize-images</span></code></a> is selected unless
<a class="reference internal" href="#option-keep-inline-images" title="option-keep-inline-images"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--keep-inline-images</span></code></a> is also specified.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-ii-min-bytes">
<span class="sig-name descname"><span class="pre">--ii-min-bytes=size-in-bytes</span></span><a class="headerlink" href="#option-ii-min-bytes" title="Permalink to this definition"></a></dt>
<dd><p>Avoid converting inline images whose size is below the specified
minimum size to regular images. The default is 1,024 bytes. Use 0
for no minimum.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-min-version">
<span class="sig-name descname"><span class="pre">--min-version=version</span></span><a class="headerlink" href="#option-min-version" title="Permalink to this definition"></a></dt>
<dd><p>Force the PDF version of the output file to be at least
<code class="samp docutils literal notranslate"><em><span class="pre">version</span></em></code>. In other words, if the input file has a lower
version than the specified version, the specified version will be
used. If the input file has a higher version, the input file’s
original version will be used. It is seldom necessary to use this
option since qpdf will automatically increase the version as needed
when adding features that require newer PDF readers.</p>
<p>The version number may be expressed in the form
<code class="samp docutils literal notranslate"><em><span class="pre">major</span></em><span class="pre">.</span><em><span class="pre">minor</span></em><span class="pre">[.</span><em><span class="pre">extension-level</span></em><span class="pre">]</span></code>. If
<code class="samp docutils literal notranslate"><span class="pre">.</span><em><span class="pre">extension-level</span></em></code>, is given, version is interpreted as
<code class="samp docutils literal notranslate"><em><span class="pre">major.minor</span></em></code> at extension level <code class="samp docutils literal notranslate"><em><span class="pre">extension-level</span></em></code>.
For example, version <code class="docutils literal notranslate"><span class="pre">1.7.8</span></code> represents version 1.7 at extension
level 8. Note that minimal syntax checking is done on the command
line. <strong class="command">qpdf</strong> does not check whether the specified version
is actually required.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-force-version">
<span class="sig-name descname"><span class="pre">--force-version=version</span></span><a class="headerlink" href="#option-force-version" title="Permalink to this definition"></a></dt>
<dd><p>This option forces the PDF version to be the exact version
specified <em>even when the file may have content that is not
supported in that version</em>. The version number is interpreted in
the same way as with <a class="reference internal" href="#option-min-version" title="option-min-version"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--min-version</span></code></a> so that extension
levels can be set. In some cases, forcing the output file’s PDF
version to be lower than that of the input file will cause qpdf to
disable certain features of the document. Specifically, 256-bit
keys are disabled if the version is less than 1.7 with extension
level 8 (except the deprecated, unsupported “R5” format is allowed
with extension levels 3 through 7), AES encryption is disabled if
the version is less than 1.6, cleartext metadata and object streams
are disabled if less than 1.5, 128-bit encryption keys are disabled
if less than 1.4, and all encryption is disabled if less than 1.3.
Even with these precautions, qpdf won’t be able to do things like
eliminate use of newer image compression schemes, transparency
groups, or other features that may have been added in more recent
versions of PDF.</p>
<p>As a general rule, with the exception of big structural things like
the use of object streams or AES encryption, PDF viewers are
supposed to ignore features they don’t support. This means that
forcing the version to a lower version may make it possible to open
your PDF file with an older version, though bear in mind that some
of the original document’s functionality may be lost.</p>
</dd></dl>

</section>
</section>
<section id="page-ranges">
<span id="id11"></span><h2>Page Ranges<a class="headerlink" href="#page-ranges" title="Permalink to this heading"></a></h2>
<p>Several <strong class="command">qpdf</strong> command-line options use page ranges. This
section describes the syntax of a page range.</p>
<ul class="simple">
<li><p>A plain number indicates a page numbered from <code class="docutils literal notranslate"><span class="pre">1</span></code>, so <code class="docutils literal notranslate"><span class="pre">1</span></code>
represents the first page.</p></li>
<li><p>A number preceded by <code class="docutils literal notranslate"><span class="pre">r</span></code> counts from the end, so <code class="docutils literal notranslate"><span class="pre">r1</span></code> is the
last page, <code class="docutils literal notranslate"><span class="pre">r2</span></code> is the second-to-last page, etc.</p></li>
<li><p>The letter <code class="docutils literal notranslate"><span class="pre">z</span></code> represents the last page and is the same as <code class="docutils literal notranslate"><span class="pre">r1</span></code>.</p></li>
<li><p>Page numbers may appear in any order separated by commas.</p></li>
<li><p>Two page numbers separated by dashes represents the inclusive range
of pages from the first to the second. If the first number is higher
than the second number, it is the range of pages in reverse.</p></li>
<li><p>The range may be appended with <code class="docutils literal notranslate"><span class="pre">:odd</span></code> or <code class="docutils literal notranslate"><span class="pre">:even</span></code> to select only
pages from the resulting range in odd or even positions. In this
case, odd and even refer to positions in the final range, not
whether the original page number is odd or even.</p></li>
</ul>
<table class="docutils align-default" id="id25">
<caption><span class="caption-text">Example Page Ranges</span><a class="headerlink" href="#id25" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">1,6,4</span></code></p></td>
<td><p>pages 1, 6, and 4 in that order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">3-7</span></code></p></td>
<td><p>pages 3 through 7 inclusive in increasing order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">7-3</span></code></p></td>
<td><p>pages 7, 6, 5, 4, and 3 in that order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1-z</span></code></p></td>
<td><p>all pages in order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">z-1</span></code></p></td>
<td><p>all pages in reverse order</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1,3,5-9,15-12</span></code></p></td>
<td><p>pages 1, 3, 5, 6, 7, 8, 9, 15, 14, 13, and 12 in that order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">r3-r1</span></code></p></td>
<td><p>the last three pages of the document</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">r1-r3</span></code></p></td>
<td><p>the last three pages of the document in reverse order</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">1-20:even</span></code></p></td>
<td><p>even pages from 2 to 20</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">5,7-9,12</span></code></p></td>
<td><p>pages 5, 7, 8, 9, and 12</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">5,7-9,12:odd</span></code></p></td>
<td><p>pages 5, 8, and 12, which are the pages in odd positions from
the original set of 5, 7, 8, 9, 12</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">5,7-9,12:even</span></code></p></td>
<td><p>pages 7 and 9, which are the pages in even positions from the
original set of 5, 7, 8, 9, 12</p></td>
</tr>
</tbody>
</table>
</section>
<section id="pdf-modification">
<span id="modification-options"></span><h2>PDF Modification<a class="headerlink" href="#pdf-modification" title="Permalink to this heading"></a></h2>
<p>Modification options make systematic changes to certain parts of the
PDF, causing the PDF to render differently from the original. See also
<a class="reference internal" href="#transformation-options"><span class="std std-ref">PDF Transformation</span></a>.</p>
<section id="id12">
<h3>Related Options<a class="headerlink" href="#id12" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-pages">
<span class="sig-name descname"><span class="pre">--pages</span> <span class="pre">file</span> <span class="pre">[--password=password]</span> <span class="pre">[page-range]</span> <span class="pre">[...]</span> <span class="pre">--</span></span><a class="headerlink" href="#option-pages" title="Permalink to this definition"></a></dt>
<dd><p>This flag starts page selection options, which are used to select
pages from one or more input files to perform operations such as
splitting, merging, and collating files.</p>
<p>Please see <a class="reference internal" href="#page-selection"><span class="std std-ref">Page Selection</span></a> for details about selecting pages.</p>
<p>See also <a class="reference internal" href="#option-split-pages" title="option-split-pages"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--split-pages</span></code></a>, <a class="reference internal" href="#option-collate" title="option-collate"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--collate</span></code></a>,
<a class="reference internal" href="#page-ranges"><span class="std std-ref">Page Ranges</span></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-collate">
<span class="sig-name descname"><span class="pre">--collate[=n]</span></span><a class="headerlink" href="#option-collate" title="Permalink to this definition"></a></dt>
<dd><p>This option causes <strong class="command">qpdf</strong> to collate rather than
concatenate pages specified with <a class="reference internal" href="#option-pages" title="option-pages"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--pages</span></code></a>. With a
numeric parameter, collate in groups of <code class="samp docutils literal notranslate"><em><span class="pre">n</span></em></code>. The default
is 1.</p>
<p>Please see <a class="reference internal" href="#page-selection"><span class="std std-ref">Page Selection</span></a> for additional details.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-split-pages">
<span class="sig-name descname"><span class="pre">--split-pages[=n]</span></span><a class="headerlink" href="#option-split-pages" title="Permalink to this definition"></a></dt>
<dd><p>Write each group of <code class="samp docutils literal notranslate"><em><span class="pre">n</span></em></code> pages to a separate output file. If
<code class="samp docutils literal notranslate"><em><span class="pre">n</span></em></code> is not specified, create single pages. Output file
names are generated as follows:</p>
<ul class="simple">
<li><p>If the string <code class="docutils literal notranslate"><span class="pre">%d</span></code> appears in the output file name, it is
replaced with a range of zero-padded page numbers starting
from 1.</p></li>
<li><p>Otherwise, if the output file name ends in <code class="file docutils literal notranslate"><span class="pre">.pdf</span></code> (case
insensitive), a zero-padded page range, preceded by a dash, is
inserted before the file extension.</p></li>
<li><p>Otherwise, the file name is appended with a zero-padded page
range preceded by a dash.</p></li>
</ul>
<p>Zero padding is added to all page numbers in file names so that all
the numbers are the same length, which causes the output filenames
to sort lexically in numerical order.</p>
<p>Page ranges are a single number in the case of single-page groups or
two numbers separated by a dash otherwise.</p>
<p>Here are some examples. In these examples, <code class="file docutils literal notranslate"><span class="pre">infile.pdf</span></code> has
12 pages.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">qpdf</span> <span class="pre">--split-pages</span> <span class="pre">infile.pdf</span> <span class="pre">%d-out</span></code>: output files are
<code class="file docutils literal notranslate"><span class="pre">01-out</span></code> through <code class="file docutils literal notranslate"><span class="pre">12-out</span></code> with no extension.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qpdf</span> <span class="pre">--split-pages=2</span> <span class="pre">infile.pdf</span> <span class="pre">outfile.pdf</span></code>: output files are
<code class="file docutils literal notranslate"><span class="pre">outfile-01-02.pdf</span></code> through <code class="file docutils literal notranslate"><span class="pre">outfile-11-12.pdf</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qpdf</span> <span class="pre">--split-pages</span> <span class="pre">infile.pdf</span> <span class="pre">something.else</span></code> would generate
files <code class="file docutils literal notranslate"><span class="pre">something.else-01</span></code> through
<code class="file docutils literal notranslate"><span class="pre">something.else-12</span></code>. The extension <code class="docutils literal notranslate"><span class="pre">.else</span></code> is not treated
in any special way regarding the placement of the number.</p></li>
</ul>
<p>Note that outlines, threads, and other document-level features of
the original PDF file are not preserved. For each page of output,
this option creates an empty PDF and copies a single page from the
output into it. If you require the document-level data, you will
have to run <strong class="command">qpdf</strong> with the <a class="reference internal" href="#option-pages" title="option-pages"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--pages</span></code></a> option
once for each page. Using <a class="reference internal" href="#option-split-pages" title="option-split-pages"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--split-pages</span></code></a> is much faster
if you don’t require the document-level data. A future version of
qpdf may support preservation of some document-level information.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-overlay">
<span class="sig-name descname"><span class="pre">--overlay</span> <span class="pre">file</span> <span class="pre">[options]</span> <span class="pre">--</span></span><a class="headerlink" href="#option-overlay" title="Permalink to this definition"></a></dt>
<dd><p>Overlay pages from another file on the output.</p>
<p>See <a class="reference internal" href="#overlay-underlay"><span class="std std-ref">Overlay and Underlay</span></a> for details.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-underlay">
<span class="sig-name descname"><span class="pre">--underlay</span> <span class="pre">file</span> <span class="pre">[options]</span> <span class="pre">--</span></span><a class="headerlink" href="#option-underlay" title="Permalink to this definition"></a></dt>
<dd><p>Underlay pages from another file on the output.</p>
<p>See <a class="reference internal" href="#overlay-underlay"><span class="std std-ref">Overlay and Underlay</span></a> for details.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-flatten-rotation">
<span class="sig-name descname"><span class="pre">--flatten-rotation</span></span><a class="headerlink" href="#option-flatten-rotation" title="Permalink to this definition"></a></dt>
<dd><p>For each page that is rotated using the <code class="docutils literal notranslate"><span class="pre">/Rotate</span></code> key in the
page’s dictionary, remove the <code class="docutils literal notranslate"><span class="pre">/Rotate</span></code> key and implement the
identical rotation semantics by modifying the page’s contents. This
option can be useful to prepare files for buggy PDF applications
that don’t properly handle rotated pages. There is usually no
reason to use this option unless you are working around a specific
problem.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-flatten-annotations">
<span class="sig-name descname"><span class="pre">--flatten-annotations=parameter</span></span><a class="headerlink" href="#option-flatten-annotations" title="Permalink to this definition"></a></dt>
<dd><p>This option collapses annotations into the pages’ contents with
special handling for form fields. Ordinarily, an annotation is
rendered separately and on top of the page. Combining annotations
into the page’s contents effectively freezes the placement of the
annotations, making them look right after various page
transformations. The library functionality backing this option was
added for the benefit of programs that want to create <em>n-up</em> page
layouts and other similar things that don’t work well with
annotations. The value of <code class="samp docutils literal notranslate"><em><span class="pre">parameter</span></em></code> may be any of the
following:</p>
<table class="docutils align-default" id="id26">
<caption><span class="caption-text">Flatten Annotation Parameters</span><a class="headerlink" href="#id26" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 11.1%" />
<col style="width: 88.9%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="samp docutils literal notranslate"><span class="pre">all</span></code></p></td>
<td><p>include all annotations that are not marked invisible or
hidden</p></td>
</tr>
<tr class="row-even"><td><p><code class="samp docutils literal notranslate"><span class="pre">print</span></code></p></td>
<td><p>only include annotations that should appear when the page is
printed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="samp docutils literal notranslate"><span class="pre">screen</span></code></p></td>
<td><p>omit annotations that should not appear on the screen</p></td>
</tr>
</tbody>
</table>
<p>In a PDF file, interactive form fields have a value and,
independently, a set of instructions, called an appearance, to
render the filled-in field. If a form is filled in by a program
that doesn’t know how to update the appearances, they may become
inconsistent with the fields’ values. If qpdf detects this case,
its default behavior is not to flatten those annotations because
doing so would cause the value of the form field to be lost. This
gives you a chance to go back and resave the form with a program
that knows how to generate appearances. qpdf itself can generate
appearances with some limitations. See the
<a class="reference internal" href="#option-generate-appearances" title="option-generate-appearances"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--generate-appearances</span></code></a> option for details.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-rotate">
<span class="sig-name descname"><span class="pre">--rotate=[+|-]angle[:page-range]</span></span><a class="headerlink" href="#option-rotate" title="Permalink to this definition"></a></dt>
<dd><p>Rotate the specified range of pages by the specified angle, which
must be a multiple of 90 degrees.</p>
<p>The value of <code class="samp docutils literal notranslate"><em><span class="pre">angle</span></em></code> may be <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">90</span></code>, <code class="docutils literal notranslate"><span class="pre">180</span></code>, or <code class="docutils literal notranslate"><span class="pre">270</span></code>.</p>
<p>For a description of the syntax of <code class="samp docutils literal notranslate"><em><span class="pre">page-range</span></em></code>, see
<a class="reference internal" href="#page-ranges"><span class="std std-ref">Page Ranges</span></a>. If the page range is omitted, the rotation is
applied to all pages.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">+</span></code> is prepended to <code class="samp docutils literal notranslate"><em><span class="pre">angle</span></em></code>, the angle is added, so an
angle of <code class="docutils literal notranslate"><span class="pre">+90</span></code> indicates a 90-degree clockwise rotation. If <code class="docutils literal notranslate"><span class="pre">-</span></code>
is prepended, the angle is subtracted, so <code class="docutils literal notranslate"><span class="pre">-90</span></code> is a 90-degree
counterclockwise rotation and is exactly the same as <code class="docutils literal notranslate"><span class="pre">+270</span></code>.</p>
<p>If neither <code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code> is prepended, the rotation angle is set
exactly. You almost always want <code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code> since, without
inspecting the actual PDF code, it is impossible to know whether a
page that appears to be rotate is rotated “naturally” or has been
rotated by specifying rotation. For example, if a page appears to
contain a portrait-mode image rotated by 90 degrees so that the top
of the image is on the right edge of the page, there is no way to
tell by visual inspection whether the literal top of the image is
the top of the page or whether the literal top of the image is the
right edge and the page is already rotated in the PDF. Specifying a
rotation angle of <code class="docutils literal notranslate"><span class="pre">-90</span></code> will produce an image that appears
upright in either case. Use of absolute rotation angles should be
reserved for cases in which you have specific knowledge about the
way the PDF file is constructed.</p>
<p>Examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">qpdf</span> <span class="pre">in.pdf</span> <span class="pre">out.pdf</span> <span class="pre">--rotate=+90:2,4,6</span> <span class="pre">--rotate=+180:7-8</span></code>:
rotate pages 2, 4, and 6 by 90 degrees clockwise from their
original rotation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qpdf</span> <span class="pre">in.pdf</span> <span class="pre">out.pdf</span> <span class="pre">--rotate=+180</span></code>: rotate all pages by 180
degrees</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qpdf</span> <span class="pre">in.pdf</span> <span class="pre">out.pdf</span> <span class="pre">--rotate=0</span></code>: force each page to be displayed
in its natural orientation, which would undo the effect of any
rotations previously applied in page metadata.</p></li>
</ul>
<p>See also <a class="reference internal" href="#option-flatten-rotation" title="option-flatten-rotation"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--flatten-rotation</span></code></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-generate-appearances">
<span class="sig-name descname"><span class="pre">--generate-appearances</span></span><a class="headerlink" href="#option-generate-appearances" title="Permalink to this definition"></a></dt>
<dd><p>If a file contains interactive form fields and indicates that the
appearances are out of date with the values of the form, this flag
will regenerate appearances, subject to a few limitations. Note
that there is usually no reason to do this, but it can be
necessary before using the <a class="reference internal" href="#option-flatten-annotations" title="option-flatten-annotations"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--flatten-annotations</span></code></a>
option. Here is a summary of the limitations.</p>
<ul class="simple">
<li><p>Radio button and checkbox appearances use the pre-set values in
the PDF file. <strong class="command">qpdf</strong> just makes sure that the correct
appearance is displayed based on the value of the field. This is
fine for PDF files that create their forms properly. Some PDF
writers save appearances for fields when they change, which could
cause some controls to have inconsistent appearances.</p></li>
<li><p>For text fields and list boxes, any characters that fall outside
of US-ASCII or, if detected, “Windows ANSI” or “Mac Roman”
encoding, will be replaced by the <code class="docutils literal notranslate"><span class="pre">?</span></code> character.
<strong class="command">qpdf</strong> does not know enough about fonts and encodings to
correctly represent characters that fall outside of this range.</p></li>
<li><p>For variable text fields where the default appearance stream
specifies that the font should be auto-sized, a fixed font size
is used rather than calculating the font size.</p></li>
<li><p>Quadding is ignored. Quadding is used to specify whether the
contents of a field should be left, center, or right aligned with
the field.</p></li>
<li><p>Rich text, multi-line, and other more elaborate formatting
directives are ignored.</p></li>
<li><p>There is no support for multi-select fields or signature fields.</p></li>
</ul>
<p>Appearances generated by <strong class="command">qpdf</strong> should be good enough for
simple forms consisting of ASCII characters where the original file
followed the PDF specification and provided template information
for text field appearances. If <strong class="command">qpdf</strong> doesn’t do a good
enough job with your form, use an external application to save your
filled-in form before processing it with <strong class="command">qpdf</strong>. Most PDF
viewers that support filling in of forms will generate appearance
streams. Some of them will even do it for forms filled in with
characters outside the original font’s character range by embedding
additional fonts as needed.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-optimize-images">
<span class="sig-name descname"><span class="pre">--optimize-images</span></span><a class="headerlink" href="#option-optimize-images" title="Permalink to this definition"></a></dt>
<dd><p>This flag causes qpdf to recompress all images that are not
compressed with DCT (JPEG) using DCT compression as long as doing
so decreases the size in bytes of the image data and the image does
not fall below minimum specified dimensions. Useful information is
provided when used in combination with <a class="reference internal" href="#option-verbose" title="option-verbose"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--verbose</span></code></a>. See
also the <a class="reference internal" href="#option-oi-min-width" title="option-oi-min-width"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--oi-min-width</span></code></a>, <a class="reference internal" href="#option-oi-min-height" title="option-oi-min-height"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--oi-min-height</span></code></a>,
and <a class="reference internal" href="#option-oi-min-area" title="option-oi-min-area"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--oi-min-area</span></code></a> options. By default, inline images
are converted to regular images and optimized as well. Use
<a class="reference internal" href="#option-keep-inline-images" title="option-keep-inline-images"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--keep-inline-images</span></code></a> to prevent inline images from
being included.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-oi-min-width">
<span class="sig-name descname"><span class="pre">--oi-min-width=width</span></span><a class="headerlink" href="#option-oi-min-width" title="Permalink to this definition"></a></dt>
<dd><p>Avoid optimizing images whose width is below the specified amount. If
omitted, the default is 128 pixels. Use 0 for no minimum.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-oi-min-height">
<span class="sig-name descname"><span class="pre">--oi-min-height=height</span></span><a class="headerlink" href="#option-oi-min-height" title="Permalink to this definition"></a></dt>
<dd><p>Avoid optimizing images whose height is below the specified amount.
If omitted, the default is 128 pixels. Use 0 for no minimum.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-oi-min-area">
<span class="sig-name descname"><span class="pre">--oi-min-area=area-in-pixels</span></span><a class="headerlink" href="#option-oi-min-area" title="Permalink to this definition"></a></dt>
<dd><p>Avoid optimizing images whose pixel count
(<code class="samp docutils literal notranslate"><em><span class="pre">width</span></em></code> × <code class="samp docutils literal notranslate"><em><span class="pre">height</span></em></code>) is below the specified amount.
If omitted, the default is 16,384 pixels. Use 0 for no minimum.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-keep-inline-images">
<span class="sig-name descname"><span class="pre">--keep-inline-images</span></span><a class="headerlink" href="#option-keep-inline-images" title="Permalink to this definition"></a></dt>
<dd><p>Prevent inline images from being included in image optimization
done by <a class="reference internal" href="#option-optimize-images" title="option-optimize-images"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--optimize-images</span></code></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-remove-page-labels">
<span class="sig-name descname"><span class="pre">--remove-page-labels</span></span><a class="headerlink" href="#option-remove-page-labels" title="Permalink to this definition"></a></dt>
<dd><p>Exclude page labels (explicit page numbers) from the output file.</p>
</dd></dl>

</section>
</section>
<section id="encryption">
<span id="encryption-options"></span><h2>Encryption<a class="headerlink" href="#encryption" title="Permalink to this heading"></a></h2>
<p>This section describes the options used to create encrypted files. For
other options related to encryption, see also <a class="reference internal" href="#option-decrypt" title="option-decrypt"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--decrypt</span></code></a>
and <a class="reference internal" href="#option-copy-encryption" title="option-copy-encryption"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--copy-encryption</span></code></a>. For a more in-depth technical
discussion of how PDF encryption works internally, see
<a class="reference internal" href="encryption.html#pdf-encryption"><span class="std std-ref">PDF Encryption</span></a>.</p>
<p>To create an encrypted file, use</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--encrypt user-password owner-password key-length [options] --
</pre></div>
</div>
<p>Either or both of <code class="samp docutils literal notranslate"><em><span class="pre">user-password</span></em></code> and <code class="samp docutils literal notranslate"><em><span class="pre">owner-password</span></em></code>
may be empty strings. <code class="samp docutils literal notranslate"><em><span class="pre">key-length</span></em></code> may be <code class="docutils literal notranslate"><span class="pre">40</span></code>, <code class="docutils literal notranslate"><span class="pre">128</span></code>, or
<code class="docutils literal notranslate"><span class="pre">256</span></code>. Encryption options are terminated by <code class="docutils literal notranslate"><span class="pre">--</span></code> by itself.</p>
<p>40-bit encryption is insecure, as is 128-bit encryption without AES.
Use 256-bit encryption unless you have a specific reason to use an
insecure format, such as testing or compatibility with very old
viewers. You must use the <a class="reference internal" href="#option-allow-weak-crypto" title="option-allow-weak-crypto"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--allow-weak-crypto</span></code></a> flag to
create encrypted files that use insecure cryptographic algorithms. The
<a class="reference internal" href="#option-allow-weak-crypto" title="option-allow-weak-crypto"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--allow-weak-crypto</span></code></a> flag appears outside of <code class="docutils literal notranslate"><span class="pre">--encrypt</span>
<span class="pre">...</span> <span class="pre">--</span></code> (before <code class="docutils literal notranslate"><span class="pre">--encrypt</span></code> or after <code class="docutils literal notranslate"><span class="pre">--</span></code>).</p>
<p>If <code class="samp docutils literal notranslate"><em><span class="pre">key-length</span></em></code> is 256, the minimum PDF version is 1.7 with
extension level 8, and the AES-based encryption format used is the one
described in the PDF 2.0 specification. Using 128-bit encryption
forces the PDF version to be at least 1.4, or if AES is used, 1.6.
Using 40-bit encryption forces the PDF version to be at least 1.3.</p>
<p>When 256-bit encryption is used, PDF files with empty owner
passwords are insecure. To create such files, you must specify the
<a class="reference internal" href="#option-allow-insecure" title="option-allow-insecure"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--allow-insecure</span></code></a> option.</p>
<p>Available options vary by key length. Not all readers respect all
restrictions. The default for each permission option is to be fully
permissive. These restrictions may or may not be enforced by any
particular reader. <strong class="command">qpdf</strong> allows very granular setting of
restrictions. Some readers may not recognize the combination of
options you specify. If you specify certain combinations of
restrictions and find a reader that doesn’t seem to honor them as you
expect, it is most likely not a bug in <strong class="command">qpdf</strong>. qpdf itself
does not obey encryption restrictions already imposed on the file.
Doing so would be meaningless since qpdf can be used to remove
encryption from the file entirely.</p>
<p>Here is a summary of encryption options. Details are provided in the
help for each option.</p>
<table class="docutils align-default" id="id27">
<caption><span class="caption-text">Options for 40-bit Encryption Only</span><a class="headerlink" href="#id27" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--annotate=[y|n]</span></code></p></td>
<td><p>restrict comments, filling forms, and signing</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--extract=[y|n]</span></code></p></td>
<td><p>restrict text/graphic extraction</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--modify=[y|n]</span></code></p></td>
<td><p>restrict document modification</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--print=[y|n]</span></code></p></td>
<td><p>restrict printing</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id28">
<caption><span class="caption-text">Options for 128-bit or 256-bit Encryption</span><a class="headerlink" href="#id28" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--accessibility=[y|n]</span></code></p></td>
<td><p>restrict accessibility (usually ignored)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--annotate=[y|n]</span></code></p></td>
<td><p>restrict commenting/filling form fields</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--assemble=[y|n]</span></code></p></td>
<td><p>restrict document assembly</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--extract=[y|n]</span></code></p></td>
<td><p>restrict text/graphic extraction</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--form=[y|n]</span></code></p></td>
<td><p>restrict filling form fields</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--modify-other=[y|n]</span></code></p></td>
<td><p>restrict other modifications</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--modify=modify-opt</span></code></p></td>
<td><p>control modify access by level</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--print=print-opt</span></code></p></td>
<td><p>control printing access</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--cleartext-metadata</span></code></p></td>
<td><p>prevent encryption of metadata</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id29">
<caption><span class="caption-text">Options for 128-bit Encryption Only</span><a class="headerlink" href="#id29" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 35.0%" />
<col style="width: 65.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--use-aes=[y|n]</span></code></p></td>
<td><p>indicates whether to use AES encryption</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--force-V4</span></code></p></td>
<td><p>forces use of V=4 encryption handler</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id30">
<caption><span class="caption-text">Options for 256-bit Encryption Only</span><a class="headerlink" href="#id30" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--force-R5</span></code></p></td>
<td><p>forces use of deprecated <code class="docutils literal notranslate"><span class="pre">R=5</span></code> encryption algorithm</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--allow-insecure</span></code></p></td>
<td><p>allow user password with empty owner password</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id31">
<caption><span class="caption-text">Values for <code class="samp docutils literal notranslate"><em><span class="pre">print-opt</span></em></code></span><a class="headerlink" href="#id31" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>disallow printing</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">low</span></code></p></td>
<td><p>allow only low-resolution printing</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">full</span></code></p></td>
<td><p>allow full printing</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id32">
<caption><span class="caption-text">Values for <code class="samp docutils literal notranslate"><em><span class="pre">modify-opt</span></em></code></span><a class="headerlink" href="#id32" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>allow no modifications</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">assembly</span></code></p></td>
<td><p>allow document assembly only</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">form</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">assembly</span></code> permissions plus filling in form fields and
signing</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">annotate</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">form</span></code> permissions plus commenting and modifying forms</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">all</span></code></p></td>
<td><p>allow full document modification</p></td>
</tr>
</tbody>
</table>
<section id="id13">
<h3>Related Options<a class="headerlink" href="#id13" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-accessibility">
<span class="sig-name descname"><span class="pre">--accessibility=[y|n]</span></span><a class="headerlink" href="#option-accessibility" title="Permalink to this definition"></a></dt>
<dd><p>Enable/disable extraction of text for accessibility to visually
impaired users. The default is to be fully permissive. The qpdf
library disregards this field when AES is used with 128-bit
encryption or when 256-bit encryption is used. You should never
disable accessibility unless you are explicitly doing so for
creating test files. The PDF spec says that conforming readers
should disregard this permission and always allow accessibility.</p>
<p>This option is not available with 40-bit encryption.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-annotate">
<span class="sig-name descname"><span class="pre">--annotate=[y|n]</span></span><a class="headerlink" href="#option-annotate" title="Permalink to this definition"></a></dt>
<dd><p>Enable/disable modifying annotations including making comments and
filling in form fields. The default is to be fully permissive. For
128-bit and 256-bit encryption, this also enables editing,
creating, and deleting form fields unless <code class="samp docutils literal notranslate"><span class="pre">--modify-other=n</span></code>
or <code class="samp docutils literal notranslate"><span class="pre">--modify=none</span></code> is also specified.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-assemble">
<span class="sig-name descname"><span class="pre">--assemble=[y|n]</span></span><a class="headerlink" href="#option-assemble" title="Permalink to this definition"></a></dt>
<dd><p>Enable/disable document assembly (rotation and reordering of
pages). The default is to be fully permissive.</p>
<p>This option is not available with 40-bit encryption.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-extract">
<span class="sig-name descname"><span class="pre">--extract=[y|n]</span></span><a class="headerlink" href="#option-extract" title="Permalink to this definition"></a></dt>
<dd><p>Enable/disable text/graphic extraction for purposes other than
accessibility. The default is to be fully permissive.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-form">
<span class="sig-name descname"><span class="pre">--form=[y|n]</span></span><a class="headerlink" href="#option-form" title="Permalink to this definition"></a></dt>
<dd><p>Enable/disable whether filling form fields is allowed even if
modification of annotations is disabled. The default is to be fully
permissive.</p>
<p>This option is not available with 40-bit encryption.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-modify-other">
<span class="sig-name descname"><span class="pre">--modify-other=[y|n]</span></span><a class="headerlink" href="#option-modify-other" title="Permalink to this definition"></a></dt>
<dd><p>Enable/disable modifications not controlled by
<a class="reference internal" href="#option-assemble" title="option-assemble"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--assemble</span></code></a>, <a class="reference internal" href="#option-annotate" title="option-annotate"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--annotate</span></code></a>, or
<a class="reference internal" href="#option-form" title="option-form"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--form</span></code></a>. <code class="docutils literal notranslate"><span class="pre">--modify-other=n</span></code> is implied by any of the
other <a class="reference internal" href="#option-modify" title="option-modify"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--modify</span></code></a> options except for <code class="docutils literal notranslate"><span class="pre">--modify=all</span></code>. The
default is to be fully permissive.</p>
<p>This option is not available with 40-bit encryption.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-modify">
<span class="sig-name descname"><span class="pre">--modify=modify-opt</span></span><a class="headerlink" href="#option-modify" title="Permalink to this definition"></a></dt>
<dd><p>For 40-bit files, <code class="samp docutils literal notranslate"><em><span class="pre">modify-opt</span></em></code> may only be <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code>
and controls all aspects of document modification. The default is
to be fully permissive.</p>
<p>For 128-bit and 256-bit encryption, <code class="samp docutils literal notranslate"><em><span class="pre">modify-opt</span></em></code> values
allow enabling and disabling levels of restriction in a manner
similar to how some PDF creation tools do it:</p>
<table class="docutils align-default" id="id33">
<caption><span class="caption-text"><code class="samp docutils literal notranslate"><em><span class="pre">modify-opt</span></em></code> for 128-bit and 256-bit Encryption</span><a class="headerlink" href="#id33" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 11.1%" />
<col style="width: 88.9%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>allow no modifications</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">assembly</span></code></p></td>
<td><p>allow document assembly only</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">form</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">assembly</span></code> permissions plus filling in form fields and
signing</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">annotate</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">form</span></code> permissions plus commenting and modifying forms</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">all</span></code></p></td>
<td><p>allow full document modification (the default)</p></td>
</tr>
</tbody>
</table>
<p>Modify options correspond to the more granular options as follows:</p>
<table class="docutils align-default" id="id34">
<caption><span class="caption-text">Mapping <code class="samp docutils literal notranslate"><em><span class="pre">modify-opt</span></em></code> to Other Options</span><a class="headerlink" href="#id34" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 11.1%" />
<col style="width: 88.9%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--modify-other=n</span> <span class="pre">--annotate=n</span> <span class="pre">--form=n</span> <span class="pre">--assemble=n</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">assembly</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--modify-other=n</span> <span class="pre">--annotate=n</span> <span class="pre">--form=n</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">form</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--modify-other=n</span> <span class="pre">--annotate=n</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">annotate</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--modify-other=n</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">all</span></code></p></td>
<td><p>no other modify options (the default)</p></td>
</tr>
</tbody>
</table>
<p>You can combine this option with the options listed above. If you
do, later options override earlier options.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-print">
<span class="sig-name descname"><span class="pre">--print=print-opt</span></span><a class="headerlink" href="#option-print" title="Permalink to this definition"></a></dt>
<dd><p>Control what kind of printing is allowed. The default is to be
fully permissive. For 40-bit encryption, <code class="samp docutils literal notranslate"><em><span class="pre">print-opt</span></em></code> may
only be <code class="docutils literal notranslate"><span class="pre">y</span></code> or <code class="docutils literal notranslate"><span class="pre">n</span></code> and enables or disables all printing. For
128-bit and 256-bit encryption, <code class="samp docutils literal notranslate"><em><span class="pre">print-opt</span></em></code> may have the
following values:</p>
<table class="docutils align-default" id="id35">
<caption><span class="caption-text"><code class="samp docutils literal notranslate"><em><span class="pre">print-opt</span></em></code> Values</span><a class="headerlink" href="#id35" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 11.1%" />
<col style="width: 88.9%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="samp docutils literal notranslate"><span class="pre">none</span></code></p></td>
<td><p>disallow printing</p></td>
</tr>
<tr class="row-even"><td><p><code class="samp docutils literal notranslate"><span class="pre">low</span></code></p></td>
<td><p>allow low-resolution printing only</p></td>
</tr>
<tr class="row-odd"><td><p><code class="samp docutils literal notranslate"><span class="pre">full</span></code></p></td>
<td><p>allow full printing (the default)</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-cleartext-metadata">
<span class="sig-name descname"><span class="pre">--cleartext-metadata</span></span><a class="headerlink" href="#option-cleartext-metadata" title="Permalink to this definition"></a></dt>
<dd><p>If specified, any metadata stream in the document will be left
unencrypted even if the rest of the document is encrypted. This also
forces the PDF version to be at least 1.5.</p>
<p>This option is not available with 40-bit encryption.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-use-aes">
<span class="sig-name descname"><span class="pre">--use-aes=[y|n]</span></span><a class="headerlink" href="#option-use-aes" title="Permalink to this definition"></a></dt>
<dd><p>Enables/disables use of the more secure AES encryption with 128-bit
encryption. Specifying <code class="docutils literal notranslate"><span class="pre">--use-aes=y</span></code> forces the PDF version to be
at least 1.6. This option is only available with 128-bit
encryption. The default is <code class="docutils literal notranslate"><span class="pre">n</span></code> for compatibility reasons. Use
256-bit encryption instead.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-allow-insecure">
<span class="sig-name descname"><span class="pre">--allow-insecure</span></span><a class="headerlink" href="#option-allow-insecure" title="Permalink to this definition"></a></dt>
<dd><p>Allow creation of PDF files with 256-bit keys where the user
password is non-empty and the owner password is empty. Files
created in this way are insecure since they can be opened without a
password, and restrictions will not be enforced. Users would
ordinarily never want to create such files. If you are using qpdf
to intentionally created strange files for testing (a valid use of
qpdf!), this option allows you to create such insecure files. This
option is only available with 256-bit encryption.</p>
<p>See <a class="reference internal" href="encryption.html#pdf-passwords"><span class="std std-ref">User and Owner Passwords</span></a> for a more technical discussion of this
issue.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-force-V4">
<span class="sig-name descname"><span class="pre">--force-V4</span></span><a class="headerlink" href="#option-force-V4" title="Permalink to this definition"></a></dt>
<dd><p>Use of this option forces the <code class="docutils literal notranslate"><span class="pre">V</span></code> and <code class="docutils literal notranslate"><span class="pre">R</span></code> parameters in the
document’s encryption dictionary to be set to the value <code class="docutils literal notranslate"><span class="pre">4</span></code>. As
qpdf will automatically do this when required, there is no reason
to ever use this option. It exists primarily for use in testing
qpdf itself. This option also forces the PDF version to be at least
1.5.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-force-R5">
<span class="sig-name descname"><span class="pre">--force-R5</span></span><a class="headerlink" href="#option-force-R5" title="Permalink to this definition"></a></dt>
<dd><p>Use an undocumented, unsupported, deprecated encryption algorithm
that existed only in Acrobat version IX. This option should not be
used except for compatibility testing. If specified, qpdf sets the
minimum version to 1.7 at extension level 3.</p>
</dd></dl>

</section>
</section>
<section id="page-selection">
<span id="id14"></span><h2>Page Selection<a class="headerlink" href="#page-selection" title="Permalink to this heading"></a></h2>
<p><strong class="command">qpdf</strong> allows you to use the <a class="reference internal" href="#option-pages" title="option-pages"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--pages</span></code></a> option to
split and merge PDF files by selecting pages from one or more input
files.</p>
<p>Usage: <code class="samp docutils literal notranslate"><span class="pre">qpdf</span> <em><span class="pre">in.pdf</span></em> <span class="pre">--pages</span> <span class="pre">input-file</span> <span class="pre">[--password=</span><em><span class="pre">password</span></em><span class="pre">]</span> <span class="pre">[</span><em><span class="pre">page-range</span></em><span class="pre">]</span> <span class="pre">[...]</span> <span class="pre">--</span> <em><span class="pre">out.pdf</span></em></code></p>
<p>Between <code class="docutils literal notranslate"><span class="pre">--pages</span></code> and the <code class="docutils literal notranslate"><span class="pre">--</span></code> that terminates pages option,
repeat the following:</p>
<p><code class="samp docutils literal notranslate"><em><span class="pre">filename</span></em> <span class="pre">[--password=</span><em><span class="pre">password</span></em><span class="pre">]</span> <span class="pre">[</span><em><span class="pre">page-range</span></em><span class="pre">]</span></code></p>
<dl class="simple">
<dt>Notes:</dt><dd><ul class="simple">
<li><p>The password option is needed only for password-protected files.
If you specify the same file more than once, you only need to supply
the password the first time.</p></li>
<li><p>The page range may be omitted. If omitted, all pages are included.</p></li>
<li><p>Document-level information, such as outlines, tags, etc., is taken
from the primary input file (in the above example, <code class="file docutils literal notranslate"><span class="pre">in.pdf</span></code>)
and is preserved in <code class="file docutils literal notranslate"><span class="pre">out.pdf</span></code>. You can use
<a class="reference internal" href="#option-empty" title="option-empty"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--empty</span></code></a> in place of an input file to start from an
empty file and just copy pages equally from all files.</p></li>
<li><p>You can use <code class="docutils literal notranslate"><span class="pre">.</span></code> as a shorthand for the primary input file, if not
empty.</p></li>
</ul>
</dd>
</dl>
<p>See <a class="reference internal" href="#page-ranges"><span class="std std-ref">Page Ranges</span></a> for help on specifying a page range.</p>
<p>Use <code class="samp docutils literal notranslate"><span class="pre">--collate=</span><em><span class="pre">n</span></em></code> to cause pages to be collated in groups of
<code class="samp docutils literal notranslate"><em><span class="pre">n</span></em></code> pages (default 1) instead of concatenating the input. Note
that the <a class="reference internal" href="#option-collate" title="option-collate"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--collate</span></code></a> appears outside of <code class="docutils literal notranslate"><span class="pre">--pages</span> <span class="pre">...</span> <span class="pre">--</span></code>
(before <code class="docutils literal notranslate"><span class="pre">--pages</span></code> or after <code class="docutils literal notranslate"><span class="pre">--</span></code>). Pages are pulled from each
document in turn. When a document is out of pages, it is skipped. See
examples below.</p>
<section id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h3>
<ul>
<li><p>Start with <code class="file docutils literal notranslate"><span class="pre">in.pdf</span></code> and append all pages from <code class="file docutils literal notranslate"><span class="pre">a.pdf</span></code>
and the even pages from <code class="file docutils literal notranslate"><span class="pre">b.pdf</span></code>, and write the output to
<code class="file docutils literal notranslate"><span class="pre">out.pdf</span></code>. Document-level information from <code class="file docutils literal notranslate"><span class="pre">in.pdf</span></code> is
retained. Note the use of <code class="docutils literal notranslate"><span class="pre">.</span></code> to refer to <code class="file docutils literal notranslate"><span class="pre">in.pdf</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf in.pdf --pages . a.pdf b.pdf:even -- out.pdf
</pre></div>
</div>
</li>
<li><p>Take all the pages from <code class="file docutils literal notranslate"><span class="pre">a.pdf</span></code>, all the pages from
<code class="file docutils literal notranslate"><span class="pre">b.pdf</span></code> in reverse, and only pages 3 and 6 from <code class="file docutils literal notranslate"><span class="pre">c.pdf</span></code>
and write the result to <code class="file docutils literal notranslate"><span class="pre">out.pdf</span></code>. Document-level metadata is
discarded from all input files. The password <code class="docutils literal notranslate"><span class="pre">x</span></code> is used to open
<code class="file docutils literal notranslate"><span class="pre">b.pdf</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf --empty --pages a.pdf b.pdf --password=x z-1 c.pdf 3,6
</pre></div>
</div>
</li>
<li><p>Scan a document with double-sided printing by scanning the fronts
into <code class="file docutils literal notranslate"><span class="pre">odd.pdf</span></code> and the backs into <code class="file docutils literal notranslate"><span class="pre">even.pdf</span></code>. Collate
the results into <code class="file docutils literal notranslate"><span class="pre">all.pdf</span></code>. This takes the first page of
<code class="file docutils literal notranslate"><span class="pre">odd.pdf</span></code>, the first page of <code class="file docutils literal notranslate"><span class="pre">even.pdf</span></code>, the second page
of <code class="file docutils literal notranslate"><span class="pre">odd.pdf</span></code>, the second page of <code class="file docutils literal notranslate"><span class="pre">even.pdf</span></code>, etc.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf --collate odd.pdf --pages . even.pdf -- all.pdf
  OR
qpdf --collate --empty --pages odd.pdf even.pdf -- all.pdf
</pre></div>
</div>
</li>
<li><p>When collating, any number of files and page ranges can be
specified. If any file has fewer pages, that file is just skipped
when its pages have all been included. For example, if you ran</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf --collate --empty --pages a.pdf 1-5 b.pdf 6-4 c.pdf r1 -- out.pdf
</pre></div>
</div>
<p>you would get the following pages in this order:</p>
<ul class="simple">
<li><p>a.pdf page 1</p></li>
<li><p>b.pdf page 6</p></li>
<li><p>c.pdf last page</p></li>
<li><p>a.pdf page 2</p></li>
<li><p>b.pdf page 5</p></li>
<li><p>a.pdf page 3</p></li>
<li><p>b.pdf page 4</p></li>
<li><p>a.pdf page 4</p></li>
<li><p>a.pdf page 5</p></li>
</ul>
</li>
<li><p>You can specify a numeric parameter to <a class="reference internal" href="#option-collate" title="option-collate"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--collate</span></code></a>. With
<code class="samp docutils literal notranslate"><span class="pre">--collate=</span><em><span class="pre">n</span></em></code>, pull groups of <code class="samp docutils literal notranslate"><em><span class="pre">n</span></em></code> pages from each
file, as always, stopping when there are no more pages. For example,
if you ran</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf --collate=2 --empty --pages a.pdf 1-5 b.pdf 6-4 c.pdf r1 -- out.pdf
</pre></div>
</div>
<p>you would get the following pages in this order:</p>
<ul class="simple">
<li><p>a.pdf page 1</p></li>
<li><p>a.pdf page 2</p></li>
<li><p>b.pdf page 6</p></li>
<li><p>b.pdf page 5</p></li>
<li><p>c.pdf last page</p></li>
<li><p>a.pdf page 3</p></li>
<li><p>a.pdf page 4</p></li>
<li><p>b.pdf page 4</p></li>
<li><p>a.pdf page 5</p></li>
</ul>
</li>
<li><p>Take pages 1 through 5 from <code class="file docutils literal notranslate"><span class="pre">file1.pdf</span></code> and pages 11 through
15 in reverse from <code class="file docutils literal notranslate"><span class="pre">file2.pdf</span></code>, taking document-level metadata
from <code class="file docutils literal notranslate"><span class="pre">file2.pdf</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf file2.pdf --pages file1.pdf 1-5 . 15-11 -- outfile.pdf
</pre></div>
</div>
</li>
<li><p>Here’s a more contrived example. If, for some reason, you wanted to
take the first page of an encrypted file called
<code class="file docutils literal notranslate"><span class="pre">encrypted.pdf</span></code> with password <code class="docutils literal notranslate"><span class="pre">pass</span></code> and repeat it twice in
an output file without any shared data between the two copies of
page 1, and if you wanted to drop document-level metadata but
preserve encryption, you could run</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf --empty --copy-encryption=encrypted.pdf \
     --encryption-file-password=pass \
     --pages encrypted.pdf --password=pass 1 \
           ./encrypted.pdf --password=pass 1 -- \
     outfile.pdf
</pre></div>
</div>
<p>Note that we had to specify the password all three times because
giving a password as <a class="reference internal" href="#option-encryption-file-password" title="option-encryption-file-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--encryption-file-password</span></code></a> doesn’t
count for page selection, and as far as qpdf is concerned,
<code class="file docutils literal notranslate"><span class="pre">encrypted.pdf</span></code> and <code class="file docutils literal notranslate"><span class="pre">./encrypted.pdf</span></code> are separate
files. (This is by design. See <a class="reference internal" href="#page-limitations"><span class="std std-ref">Limitations</span></a> for a
discussion.) These are all corner cases that most users should
hopefully never have to be bothered with.</p>
</li>
</ul>
</section>
<section id="limitations">
<span id="page-limitations"></span><h3>Limitations<a class="headerlink" href="#limitations" title="Permalink to this heading"></a></h3>
<p>With the exception of page labels (page numbers), <strong class="command">qpdf</strong>
doesn’t yet have full support for handling document-level data as it
relates to pages. Certain document-level features such as form fields,
outlines (bookmarks), and article tags among others, are copied in
their entirety from the primary input file. Starting with qpdf version
8.3, page labels are preserved from all files unless
<a class="reference internal" href="#option-remove-page-labels" title="option-remove-page-labels"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--remove-page-labels</span></code></a> is specified.</p>
<p>It is expected that a future version of <strong class="command">qpdf</strong> will have more
complete and configurable behavior regarding document-level metadata.
In the meantime, semantics of splitting and merging vary across
features. For example, the document’s outlines (bookmarks) point to
actual page objects, so if you select some pages and not others,
bookmarks that point to pages that are in the output file will work,
and remaining bookmarks will not work. If you don’t want to preserve
the primary file’s metadata, use <a class="reference internal" href="#option-empty" title="option-empty"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--empty</span></code></a> as the primary
input file.</p>
<p>Visit <a class="reference external" href="https://github.com/qpdf/qpdf/issues?q=is%3Aopen+is%3Aissue+label%3Apages">qpdf issues labeled with “pages”</a>
or look at the <code class="file docutils literal notranslate"><span class="pre">TODO</span></code> file in the qpdf source distribution for
some of the ideas.</p>
<p>Prior to <strong class="command">qpdf</strong> version 8.4, it was not possible to specify
the same page from the same file directly more than once, and a
workaround of specifying the same file in more than one way was
required. Version 8.4 removes this limitation, but when the same page
is copied more than once, all its data is shared between the pages.
Sometimes this is fine, but sometimes it may not work correctly,
particularly if there are form fields or you intend to perform other
modifications on one of the pages. A future version of qpdf should
address this more completely. You can work around this by specifying
the same file in two different ways. For example <strong class="command">qpdf
in.pdf --pages . 1 ./in.pdf 1 -- out.pdf</strong> would create a file with two
copies of the first page of the input, and the two copies would not
share any objects in common. This includes fonts, images, and anything
else the page references.</p>
</section>
</section>
<section id="overlay-and-underlay">
<span id="overlay-underlay"></span><h2>Overlay and Underlay<a class="headerlink" href="#overlay-and-underlay" title="Permalink to this heading"></a></h2>
<p>You can use <strong class="command">qpdf</strong> to overlay or underlay pages from other
files onto the output generated by qpdf. Specify overlay or underlay
as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{--overlay|--underlay} file [options] --
</pre></div>
</div>
<p>Overlay and underlay options are processed late, so they can be
combined with other options like merging and will apply to the final
output. The <code class="docutils literal notranslate"><span class="pre">--overlay</span></code> and <code class="docutils literal notranslate"><span class="pre">--underlay</span></code> options work the same
way, except underlay pages are drawn underneath the page to which they
are applied, possibly obscured by the original page, and overlay files
are drawn on top of the page to which they are applied, possibly
obscuring the page. You can combine overlay and underlay, but you can
only specify each option at most one time.</p>
<p>The default behavior of overlay and underlay is that pages are taken
from the overlay/underlay file in sequence and applied to
corresponding pages in the output until there are no more output
pages. If the overlay or underlay file runs out of pages, remaining
output pages are left alone. This behavior can be modified by options,
which are provided between the <code class="docutils literal notranslate"><span class="pre">--overlay</span></code> or <code class="docutils literal notranslate"><span class="pre">--underlay</span></code> flag
and the <code class="docutils literal notranslate"><span class="pre">--</span></code> option. The following options are supported:</p>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-to">
<span class="sig-name descname"><span class="pre">--to=page-range</span></span><a class="headerlink" href="#option-to" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div></div></blockquote>
<p>Specify a page range (see <a class="reference internal" href="#page-ranges"><span class="std std-ref">Page Ranges</span></a>) that indicates which
pages in the output should have the overlay/underlay applied. If not
specified, overlay/underlay are applied to all pages.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-from">
<span class="sig-name descname"><span class="pre">--from=[page-range]</span></span><a class="headerlink" href="#option-from" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Specify a page range that indicates which pages in the
overlay/underlay file will be used for overlay or underlay. If not
specified, all pages will be used. The “from” pages are used until
they are exhausted, after which any pages specified with
<a class="reference internal" href="#option-repeat" title="option-repeat"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--repeat</span></code></a> are used. If you are using the
<a class="reference internal" href="#option-repeat" title="option-repeat"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--repeat</span></code></a> option, you can use <code class="docutils literal notranslate"><span class="pre">--from=</span></code> to provide an
empty set of “from” pages.</p>
<p>This Can be left empty by omitting
<code class="samp docutils literal notranslate"><em><span class="pre">page-range</span></em></code></p>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-repeat">
<span class="sig-name descname"><span class="pre">--repeat=page-range</span></span><a class="headerlink" href="#option-repeat" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<p>Specify an optional page range that indicates which pages in the
overlay/underlay file will be repeated after the “from” pages are used
up. If you want to apply a repeat a range of pages starting with the
first page of output, you can explicitly use <code class="docutils literal notranslate"><span class="pre">--from=</span></code>.</p>
<section id="id15">
<h3>Examples<a class="headerlink" href="#id15" title="Permalink to this heading"></a></h3>
<ul>
<li><p>Overlay the first three pages from file <code class="file docutils literal notranslate"><span class="pre">o.pdf</span></code> onto the first
three pages of the output, then overlay page 4 from <code class="file docutils literal notranslate"><span class="pre">o.pdf</span></code>
onto pages 4 and 5 of the output. Leave remaining output pages
untouched.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf in.pdf --overlay o.pdf --to=1-5 --from=1-3 --repeat=4 -- out.pdf
</pre></div>
</div>
</li>
<li><p>Underlay page 1 of <code class="file docutils literal notranslate"><span class="pre">footer.pdf</span></code> on all odd output pages, and
underlay page 2 of <code class="file docutils literal notranslate"><span class="pre">footer.pdf</span></code> on all even output pages.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf in.pdf --underlay footer.pdf --from= --repeat=1,2 -- out.pdf
</pre></div>
</div>
</li>
<li><p>Combine two files and overlay the single page from watermark.pdf on
the result.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf --empty --pages a.pdf b.pdf -- \
     --overlay watermark.pdf --from= --repeat=1 -- out.pdf
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="embedded-files-attachments">
<span id="attachments"></span><h2>Embedded Files/Attachments<a class="headerlink" href="#embedded-files-attachments" title="Permalink to this heading"></a></h2>
<p>It is possible to list, add, or delete embedded files (also known as
attachments) and to copy attachments from other files. See also
<a class="reference internal" href="#option-list-attachments" title="option-list-attachments"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--list-attachments</span></code></a> and <a class="reference internal" href="#option-show-attachment" title="option-show-attachment"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--show-attachment</span></code></a>.</p>
<section id="id16">
<h3>Related Options<a class="headerlink" href="#id16" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-add-attachment">
<span class="sig-name descname"><span class="pre">--add-attachment</span> <span class="pre">file</span> <span class="pre">[options]</span> <span class="pre">--</span></span><a class="headerlink" href="#option-add-attachment" title="Permalink to this definition"></a></dt>
<dd><p>This flag starts add attachment options, which are used to add
attachments to a file.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--add-attachment</span></code> flag and its options may be repeated to
add multiple attachments. Please see <a class="reference internal" href="#add-attachment"><span class="std std-ref">Options for Adding Attachments</span></a> for
additional details.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-copy-attachments-from">
<span class="sig-name descname"><span class="pre">--copy-attachments-from</span> <span class="pre">file</span> <span class="pre">[options]</span> <span class="pre">--</span></span><a class="headerlink" href="#option-copy-attachments-from" title="Permalink to this definition"></a></dt>
<dd><p>This flag starts copy attachment options, which are used to copy
attachments from other files.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--copy-attachments-from</span></code> flag and its options may be
repeated to copy attachments from multiple files. Please see
<a class="reference internal" href="#copy-attachments"><span class="std std-ref">Options for Copying Attachments</span></a> for additional details.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-remove-attachment">
<span class="sig-name descname"><span class="pre">--remove-attachment=key</span></span><a class="headerlink" href="#option-remove-attachment" title="Permalink to this definition"></a></dt>
<dd><p>Remove the specified attachment. This doesn’t only remove the
attachment from the embedded files table but also clears out the
file specification to ensure that the attachment is actually not
present in the output file. That means that any potential internal
links to the attachment will be broken. Run with <a class="reference internal" href="#option-verbose" title="option-verbose"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--verbose</span></code></a> to
see status of the removal. Use <a class="reference internal" href="#option-list-attachments" title="option-list-attachments"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--list-attachments</span></code></a> to find
the attachment key. This option may be repeated to remove multiple
attachments.</p>
</dd></dl>

</section>
<section id="pdf-date-format">
<span id="pdf-dates"></span><h3>PDF Date Format<a class="headerlink" href="#pdf-date-format" title="Permalink to this heading"></a></h3>
<p>When a date is required, the date should conform to the PDF date
format specification, which is <code class="samp docutils literal notranslate"><span class="pre">D:</span><em><span class="pre">yyyymmddhhmmssz</span></em></code> where
<code class="samp docutils literal notranslate"><em><span class="pre">z</span></em></code> is either literally upper case <code class="docutils literal notranslate"><span class="pre">Z</span></code> for UTC or a
timezone offset in the form <code class="samp docutils literal notranslate"><em><span class="pre">-hh'mm'</span></em></code> or <code class="samp docutils literal notranslate"><em><span class="pre">+hh'mm'</span></em></code>.
Negative timezone offsets indicate time before UTC. Positive offsets
indicate how far after. For example, US Eastern Standard Time
(America/New_York) is <code class="docutils literal notranslate"><span class="pre">-05'00'</span></code>, and Indian Standard Time
(Asia/Calcutta) is <code class="docutils literal notranslate"><span class="pre">+05'30'</span></code>.</p>
<table class="docutils align-default" id="id36">
<caption><span class="caption-text">PDF Date Examples</span><a class="headerlink" href="#id36" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">D:20210207161528-05'00'</span></code></p></td>
<td><p>February 7, 2021 at 4:15:28 p.m.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">D:20210207211528Z</span></code></p></td>
<td><p>February 7, 2021 at 21:15:28 UTC</p></td>
</tr>
</tbody>
</table>
</section>
<section id="options-for-adding-attachments">
<span id="add-attachment"></span><h3>Options for Adding Attachments<a class="headerlink" href="#options-for-adding-attachments" title="Permalink to this heading"></a></h3>
<p>These options are valid between <a class="reference internal" href="#option-add-attachment" title="option-add-attachment"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--add-attachment</span></code></a> and <code class="docutils literal notranslate"><span class="pre">--</span></code>.</p>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-key">
<span class="sig-name descname"><span class="pre">--key=key</span></span><a class="headerlink" href="#option-key" title="Permalink to this definition"></a></dt>
<dd><p>Specify the key to use for the attachment in the embedded files
table. It defaults to the last element of the attached file’s
filename. For example, if you say <code class="docutils literal notranslate"><span class="pre">--add-attachment</span>
<span class="pre">/home/user/image.png</span></code>, the default key will be just <code class="docutils literal notranslate"><span class="pre">image.png</span></code>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-filename">
<span class="sig-name descname"><span class="pre">--filename=name</span></span><a class="headerlink" href="#option-filename" title="Permalink to this definition"></a></dt>
<dd><p>Specify the filename to be used for the attachment. This is what is
usually displayed to the user and is the name most graphical PDF
viewers will use when saving a file. It defaults to the last
element of the attached file’s filename. For example, if you say
<code class="docutils literal notranslate"><span class="pre">--add-attachment</span> <span class="pre">/home/user/image.png</span></code>, the default key will be
just <code class="docutils literal notranslate"><span class="pre">image.png</span></code>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-creationdate">
<span class="sig-name descname"><span class="pre">--creationdate=date</span></span><a class="headerlink" href="#option-creationdate" title="Permalink to this definition"></a></dt>
<dd><p>Specify the attachment’s creation date in PDF format; defaults to
the current time. See <a class="reference internal" href="#pdf-dates"><span class="std std-ref">PDF Date Format</span></a> for information about the
date format.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-moddate">
<span class="sig-name descname"><span class="pre">--moddate=date</span></span><a class="headerlink" href="#option-moddate" title="Permalink to this definition"></a></dt>
<dd><p>Specify the attachment’s modification date in PDF format; defaults
to the current time. See <a class="reference internal" href="#pdf-dates"><span class="std std-ref">PDF Date Format</span></a> for information about the
date format.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-mimetype">
<span class="sig-name descname"><span class="pre">--mimetype=type/subtype</span></span><a class="headerlink" href="#option-mimetype" title="Permalink to this definition"></a></dt>
<dd><p>Specify the mime type for the attachment, such as <code class="docutils literal notranslate"><span class="pre">text/plain</span></code>,
<code class="docutils literal notranslate"><span class="pre">application/pdf</span></code>, <code class="docutils literal notranslate"><span class="pre">image/png</span></code>, etc. The qpdf library does not
automatically determine the mime type. In a UNIX-like environment,
the <strong class="command">file</strong> command can often provide this information. In
MacOS, you can use <code class="samp docutils literal notranslate"><span class="pre">file</span> <span class="pre">-I</span> <em><span class="pre">filename</span></em></code>. In Linux, it’s
<code class="samp docutils literal notranslate"><span class="pre">file</span> <span class="pre">-i</span> <em><span class="pre">filename</span></em></code>.</p>
<p>Implementation note: the mime type appears in a field called
<code class="docutils literal notranslate"><span class="pre">/Subtype</span></code> in the PDF file, but that field actually includes the
full type and subtype of the mime type. This is because <code class="docutils literal notranslate"><span class="pre">/Type</span></code>
already means something else in PDF.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-description">
<span class="sig-name descname"><span class="pre">--description=&quot;text&quot;</span></span><a class="headerlink" href="#option-description" title="Permalink to this definition"></a></dt>
<dd><p>Supply descriptive text for the attachment, displayed by some PDF
viewers.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-replace">
<span class="sig-name descname"><span class="pre">--replace</span></span><a class="headerlink" href="#option-replace" title="Permalink to this definition"></a></dt>
<dd><p>Indicate that any existing attachment with the same key should be
replaced by the new attachment. Otherwise, <strong class="command">qpdf</strong> gives an
error if an attachment with that key is already present.</p>
</dd></dl>

</section>
<section id="options-for-copying-attachments">
<span id="copy-attachments"></span><h3>Options for Copying Attachments<a class="headerlink" href="#options-for-copying-attachments" title="Permalink to this heading"></a></h3>
<p>Options in this section are valid between
<a class="reference internal" href="#option-copy-attachments-from" title="option-copy-attachments-from"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--copy-attachments-from</span></code></a> and <code class="docutils literal notranslate"><span class="pre">--</span></code>.</p>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-prefix">
<span class="sig-name descname"><span class="pre">--prefix=prefix</span></span><a class="headerlink" href="#option-prefix" title="Permalink to this definition"></a></dt>
<dd><p>Only required if the file from which attachments are being copied
has attachments with keys that conflict with attachments already
in the file. In this case, the specified prefix will be prepended
to each key. This affects only the key in the embedded files
table, not the file name. The PDF specification doesn’t preclude
multiple attachments having the same file name.</p>
</dd></dl>

</section>
</section>
<section id="pdf-inspection">
<span id="inspection-options"></span><h2>PDF Inspection<a class="headerlink" href="#pdf-inspection" title="Permalink to this heading"></a></h2>
<p>These options provide tools for inspecting PDF files. When any of the
options in this section are specified, no output file may be given.</p>
<section id="id17">
<h3>Related Options<a class="headerlink" href="#id17" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-is-encrypted">
<span class="sig-name descname"><span class="pre">--is-encrypted</span></span><a class="headerlink" href="#option-is-encrypted" title="Permalink to this definition"></a></dt>
<dd><p>Silently exit with a code indicating the file’s encryption status:</p>
<table class="docutils align-default" id="id37">
<caption><span class="caption-text">Exit Codes for <code class="docutils literal notranslate"><span class="pre">--is-encrypted</span></code></span><a class="headerlink" href="#id37" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 5.9%" />
<col style="width: 94.1%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>the file is encrypted</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>not used</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p></td>
<td><p>the file is not encrypted</p></td>
</tr>
</tbody>
</table>
<p>This option can be used for password-protected files even if you
don’t know the password.</p>
<p>This option is useful for shell scripts. Other options are ignored
if this is given. This option is mutually exclusive with
<a class="reference internal" href="#option-requires-password" title="option-requires-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--requires-password</span></code></a>. Both this option and
<a class="reference internal" href="#option-requires-password" title="option-requires-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--requires-password</span></code></a> exit with status <code class="docutils literal notranslate"><span class="pre">2</span></code> for
non-encrypted files.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-requires-password">
<span class="sig-name descname"><span class="pre">--requires-password</span></span><a class="headerlink" href="#option-requires-password" title="Permalink to this definition"></a></dt>
<dd><p>Silently exit with a code indicating the file’s password status:</p>
<table class="docutils align-default" id="id38">
<caption><span class="caption-text">Exit Codes for <code class="docutils literal notranslate"><span class="pre">--requires-password</span></code></span><a class="headerlink" href="#id38" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 5.9%" />
<col style="width: 94.1%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>a password, other than as supplied, is required</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>not used</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p></td>
<td><p>the file is not encrypted</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
<td><p>the file is encrypted, and correct password (if any) has
been supplied</p></td>
</tr>
</tbody>
</table>
<p>Use with the <a class="reference internal" href="#option-password" title="option-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password</span></code></a> option to specify the password
to test.</p>
<p>The choice of exit status <code class="docutils literal notranslate"><span class="pre">0</span></code> to mean that a password is required
is to enable code like</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">[</span> qpdf --requires-password file.pdf <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c1"># prompt for password</span>
<span class="k">fi</span>
</pre></div>
</div>
<p>If a password is supplied with <a class="reference internal" href="#option-password" title="option-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password</span></code></a>, that
password is used to open the file just as with any normal
invocation of <strong class="command">qpdf</strong>. That means that using this option
with <a class="reference internal" href="#option-password" title="option-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password</span></code></a> can be used to check the correctness of
the password. In that case, an exit status of <code class="docutils literal notranslate"><span class="pre">3</span></code> means the file
works with the supplied password. This option is mutually exclusive
with <a class="reference internal" href="#option-is-encrypted" title="option-is-encrypted"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--is-encrypted</span></code></a>. Both this option and
<a class="reference internal" href="#option-is-encrypted" title="option-is-encrypted"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--is-encrypted</span></code></a> exit with status <code class="docutils literal notranslate"><span class="pre">2</span></code> for non-encrypted
files.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-check">
<span class="sig-name descname"><span class="pre">--check</span></span><a class="headerlink" href="#option-check" title="Permalink to this definition"></a></dt>
<dd><p>Check the file’s structure as well as encryption, linearization,
and encoding of stream data, and write information about the file
to standard output. An exit status of <code class="docutils literal notranslate"><span class="pre">0</span></code> indicates syntactic
correctness of the PDF file. Note that <code class="samp docutils literal notranslate"><span class="pre">--check</span></code> writes
nothing to standard error when everything is valid, so if you are
using this to programmatically validate files in bulk, it is safe
to run without output redirected to <code class="file docutils literal notranslate"><span class="pre">/dev/null</span></code> and just
check for a <code class="docutils literal notranslate"><span class="pre">0</span></code> exit code.</p>
<p>A file for which <code class="samp docutils literal notranslate"><span class="pre">--check</span></code> reports no errors may still have
errors in stream data content or may contain constructs that don’t
conform to the PDF specification, but it should be syntactically
valid. If <code class="samp docutils literal notranslate"><span class="pre">--check</span></code> reports any errors, qpdf will exit with a
status of <code class="docutils literal notranslate"><span class="pre">2</span></code>. There are some recoverable conditions that
<code class="samp docutils literal notranslate"><span class="pre">--check</span></code> detects. These are issued as warnings instead of
errors. If qpdf finds no errors but finds warnings, it will exit
with a status of <code class="docutils literal notranslate"><span class="pre">3</span></code>. When <code class="samp docutils literal notranslate"><span class="pre">--check</span></code> is combined with other
options, checks are always performed before any other options are
processed. For erroneous files, <code class="samp docutils literal notranslate"><span class="pre">--check</span></code> will cause qpdf to
attempt to recover, after which other options are effectively
operating on the recovered file. Combining <code class="samp docutils literal notranslate"><span class="pre">--check</span></code> with
other options in this way can be useful for manually recovering
severely damaged files.</p>
<p>See also <a class="reference internal" href="#exit-status"><span class="std std-ref">Exit Status</span></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-show-encryption">
<span class="sig-name descname"><span class="pre">--show-encryption</span></span><a class="headerlink" href="#option-show-encryption" title="Permalink to this definition"></a></dt>
<dd><p>This option shows document encryption parameters. It also shows the
document’s user password if the owner password is given and the
file was encrypted using older encryption formats that allow user
password recovery. (See <a class="reference internal" href="encryption.html#pdf-encryption"><span class="std std-ref">PDF Encryption</span></a> for a technical
discussion of this feature.) The output of <code class="docutils literal notranslate"><span class="pre">--show-encryption</span></code> is
included in the output of <a class="reference internal" href="#option-check" title="option-check"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--check</span></code></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-show-encryption-key">
<span class="sig-name descname"><span class="pre">--show-encryption-key</span></span><a class="headerlink" href="#option-show-encryption-key" title="Permalink to this definition"></a></dt>
<dd><p>When encryption information is being displayed, as when
<a class="reference internal" href="#option-check" title="option-check"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--check</span></code></a> or <a class="reference internal" href="#option-show-encryption" title="option-show-encryption"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--show-encryption</span></code></a> is given, display the
computed or retrieved encryption key as a hexadecimal string. This
value is not ordinarily useful to users, but it can be used as the
parameter to <a class="reference internal" href="#option-password" title="option-password"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password</span></code></a> if the <a class="reference internal" href="#option-password-is-hex-key" title="option-password-is-hex-key"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password-is-hex-key</span></code></a>
is specified. Note that, when PDF files are encrypted, passwords
and other metadata are used only to compute an encryption key, and
the encryption key is what is actually used for encryption. This
enables retrieval of that key. See <a class="reference internal" href="encryption.html#pdf-encryption"><span class="std std-ref">PDF Encryption</span></a> for a
technical discussion.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-check-linearization">
<span class="sig-name descname"><span class="pre">--check-linearization</span></span><a class="headerlink" href="#option-check-linearization" title="Permalink to this definition"></a></dt>
<dd><p>Check to see whether a file is linearized and, if so, whether the
linearization hint tables are correct. qpdf does not check all
aspects of linearization. A linearized PDF file with linearization
errors that is otherwise correct is almost always readable by a PDF
viewer. As such, “errors” in PDF linearization are treated by
<strong class="command">qpdf</strong> as warnings.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-show-linearization">
<span class="sig-name descname"><span class="pre">--show-linearization</span></span><a class="headerlink" href="#option-show-linearization" title="Permalink to this definition"></a></dt>
<dd><p>Check and display all data in the linearization hint tables.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-show-xref">
<span class="sig-name descname"><span class="pre">--show-xref</span></span><a class="headerlink" href="#option-show-xref" title="Permalink to this definition"></a></dt>
<dd><p>Show the contents of the cross-reference table or stream in a
human-readable form. The cross-reference data gives the offset of
regular objects and the object stream ID and 0-based index within
the object stream for compressed objects. This is especially useful
for files with cross-reference streams, which are stored in a
binary format. If the file is invalid and cross reference table
reconstruction is performed, this option will show the information
in the reconstructed table.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-show-object">
<span class="sig-name descname"><span class="pre">--show-object={trailer|obj[,gen]}</span></span><a class="headerlink" href="#option-show-object" title="Permalink to this definition"></a></dt>
<dd><p>Show the contents of the given object. This is especially useful
for inspecting objects that are inside of object streams (also
known as “compressed objects”).</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-raw-stream-data">
<span class="sig-name descname"><span class="pre">--raw-stream-data</span></span><a class="headerlink" href="#option-raw-stream-data" title="Permalink to this definition"></a></dt>
<dd><p>When used with <a class="reference internal" href="#option-show-object" title="option-show-object"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--show-object</span></code></a>, if the object is a
stream, write the raw (compressed) binary stream data to standard
output instead of the object’s contents. Avoid combining this with
other inspection options to avoid commingling the stream data with
other output. See also <a class="reference internal" href="#option-filtered-stream-data" title="option-filtered-stream-data"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--filtered-stream-data</span></code></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-filtered-stream-data">
<span class="sig-name descname"><span class="pre">--filtered-stream-data</span></span><a class="headerlink" href="#option-filtered-stream-data" title="Permalink to this definition"></a></dt>
<dd><p>When used with <a class="reference internal" href="#option-show-object" title="option-show-object"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--show-object</span></code></a>, if the object is a stream,
write the filtered (uncompressed, potentially binary) stream data
to standard output instead of the object’s contents. If the stream
is filtered using filters that qpdf does not support, an error will
be issued. This option acts as if <code class="docutils literal notranslate"><span class="pre">--decode-level=all</span></code> was
specified (see <a class="reference internal" href="#option-decode-level" title="option-decode-level"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--decode-level</span></code></a>), so it will uncompress
images compressed with supported lossy compression schemes. Avoid
combining this with other inspection options to avoid commingling
the stream data with other output.</p>
<p>This option may be combined with <a class="reference internal" href="#option-normalize-content" title="option-normalize-content"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--normalize-content</span></code></a>.
If you do this, qpdf will attempt to run content normalization even
if the stream is not a content stream, which will probably produce
unusable results.</p>
<p>See also <a class="reference internal" href="#option-raw-stream-data" title="option-raw-stream-data"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--raw-stream-data</span></code></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-show-npages">
<span class="sig-name descname"><span class="pre">--show-npages</span></span><a class="headerlink" href="#option-show-npages" title="Permalink to this definition"></a></dt>
<dd><p>Print the number of pages in the input file on a line by itself.
Since the number of pages appears by itself on a line, this option
can be useful for scripting if you need to know the number of pages
in a file.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-show-pages">
<span class="sig-name descname"><span class="pre">--show-pages</span></span><a class="headerlink" href="#option-show-pages" title="Permalink to this definition"></a></dt>
<dd><p>Show the object and generation number for each page dictionary
object and for each content stream associated with the page. Having
this information makes it more convenient to inspect objects from a
particular page. See also <a class="reference internal" href="#option-with-images" title="option-with-images"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--with-images</span></code></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-with-images">
<span class="sig-name descname"><span class="pre">--with-images</span></span><a class="headerlink" href="#option-with-images" title="Permalink to this definition"></a></dt>
<dd><p>When used with <a class="reference internal" href="#option-show-pages" title="option-show-pages"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--show-pages</span></code></a>, also shows the object and
generation numbers for the image objects on each page.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-list-attachments">
<span class="sig-name descname"><span class="pre">--list-attachments</span></span><a class="headerlink" href="#option-list-attachments" title="Permalink to this definition"></a></dt>
<dd><p>Show the <em>key</em> and stream number for each embedded file. With
<a class="reference internal" href="#option-verbose" title="option-verbose"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--verbose</span></code></a>, additional information, including preferred
file name, description, dates, and more are also displayed. The key
is usually but not always equal to the file name and is needed by
some of the other options. See also <a class="reference internal" href="#attachments"><span class="std std-ref">Embedded Files/Attachments</span></a>. Note that
this option displays dates in PDF timestamp syntax. When attachment
information is included in json output in the <code class="docutils literal notranslate"><span class="pre">&quot;attachments&quot;</span></code> key
(see <a class="reference internal" href="#option-json" title="option-json"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json</span></code></a>), dates are shown (just within that object)
in ISO-8601 format.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-show-attachment">
<span class="sig-name descname"><span class="pre">--show-attachment=key</span></span><a class="headerlink" href="#option-show-attachment" title="Permalink to this definition"></a></dt>
<dd><p>Write the contents of the specified attachment to standard output
as binary data. The key should match one of the keys shown by
<a class="reference internal" href="#option-list-attachments" title="option-list-attachments"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--list-attachments</span></code></a>. If this option is given more than
once, only the last attachment will be shown. See also
<a class="reference internal" href="#attachments"><span class="std std-ref">Embedded Files/Attachments</span></a>.</p>
</dd></dl>

</section>
</section>
<section id="json-options">
<span id="id18"></span><h2>JSON Options<a class="headerlink" href="#json-options" title="Permalink to this heading"></a></h2>
<p>It is possible to view information about PDF files in a JSON format.
See <a class="reference internal" href="json.html#json"><span class="std std-ref">qpdf JSON</span></a> for details about the qpdf JSON format.</p>
<section id="id19">
<h3>Related Options<a class="headerlink" href="#id19" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-json">
<span class="sig-name descname"><span class="pre">--json[=version]</span></span><a class="headerlink" href="#option-json" title="Permalink to this definition"></a></dt>
<dd><p>Generate a JSON representation of the file. This is described in
depth in <a class="reference internal" href="json.html#json"><span class="std std-ref">qpdf JSON</span></a>. The version parameter can be used to specify
which version of the qpdf JSON format should be output. The version
number be a number or <code class="docutils literal notranslate"><span class="pre">latest</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">latest</span></code>. As of
qpdf 11, the latest version is <code class="docutils literal notranslate"><span class="pre">2</span></code>. If you have code that reads
qpdf JSON output, you can tell what version of the JSON output you
have from the <code class="docutils literal notranslate"><span class="pre">&quot;version&quot;</span></code> key in the output. Use the
<a class="reference internal" href="#option-json-help" title="option-json-help"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-help</span></code></a> option to get a description of the JSON
object.</p>
<p>Starting with qpdf 11, when this option is specified, an output
file is optional (for backward compatibility) and defaults to
standard output. You may specify an output file to write the JSON
to a file rather than standard output. (Example: <code class="docutils literal notranslate"><span class="pre">qpdf</span> <span class="pre">--json</span>
<span class="pre">in.pdf</span> <span class="pre">out.json</span></code>)</p>
<p>Stream data is only included if <a class="reference internal" href="#option-json-output" title="option-json-output"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-output</span></code></a> is
specified or if a value other than <code class="docutils literal notranslate"><span class="pre">none</span></code> is passed to
<a class="reference internal" href="#option-json-stream-data" title="option-json-stream-data"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-stream-data</span></code></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-json-help">
<span class="sig-name descname"><span class="pre">--json-help[=version]</span></span><a class="headerlink" href="#option-json-help" title="Permalink to this definition"></a></dt>
<dd><p>Describe the format of the corresponding version of JSON output by
writing to standard output a JSON object with the same structure as
the JSON generated by qpdf. In the output written by
<code class="docutils literal notranslate"><span class="pre">--json-help</span></code>, each key’s value is a description of the key. The
specific contract guaranteed by qpdf in its JSON representation is
explained in more detail in the <a class="reference internal" href="json.html#json"><span class="std std-ref">qpdf JSON</span></a>. The default version of
help is version <code class="docutils literal notranslate"><span class="pre">2</span></code>, as with the <a class="reference internal" href="#option-json" title="option-json"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json</span></code></a> flag.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-json-key">
<span class="sig-name descname"><span class="pre">--json-key=key</span></span><a class="headerlink" href="#option-json-key" title="Permalink to this definition"></a></dt>
<dd><p>This option is repeatable. If given, only the specified top-level
keys will be included in the JSON output. Otherwise, all keys will
be included. If not given, all keys will be included, unless
<a class="reference internal" href="#option-json-output" title="option-json-output"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-output</span></code></a> was specified, in which case, only the
<code class="docutils literal notranslate"><span class="pre">&quot;qpdf&quot;</span></code> key will be included by default. If
<a class="reference internal" href="#option-json-output" title="option-json-output"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-output</span></code></a> was not given, the <code class="docutils literal notranslate"><span class="pre">version</span></code> and
<code class="docutils literal notranslate"><span class="pre">parameters</span></code> keys will always appear in the output.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-json-object">
<span class="sig-name descname"><span class="pre">--json-object={trailer|obj[,gen]}</span></span><a class="headerlink" href="#option-json-object" title="Permalink to this definition"></a></dt>
<dd><p>This option is repeatable. If given, only specified objects will be
shown in the objects dictionary in the JSON output. Otherwise, all
objects will be shown. See <a class="reference internal" href="json.html#json"><span class="std std-ref">qpdf JSON</span></a> for details about the qpdf
JSON format.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-json-stream-data">
<span class="sig-name descname"><span class="pre">--json-stream-data={none|inline|file}</span></span><a class="headerlink" href="#option-json-stream-data" title="Permalink to this definition"></a></dt>
<dd><p>When used with <a class="reference internal" href="#option-json" title="option-json"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json</span></code></a>, this option controls
whether streams in JSON output should be omitted, written inline
(base64-encoded) or written to a file. If <code class="docutils literal notranslate"><span class="pre">file</span></code> is chosen, the
file will be the name of the output file appended with
<code class="samp docutils literal notranslate"><span class="pre">-</span><em><span class="pre">nnn</span></em></code> where <code class="samp docutils literal notranslate"><em><span class="pre">nnn</span></em></code> is the object number. The stream
data file prefix can be overridden with
<a class="reference internal" href="#option-json-stream-prefix" title="option-json-stream-prefix"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-stream-prefix</span></code></a>. The default value is <code class="docutils literal notranslate"><span class="pre">none</span></code>,
except when <a class="reference internal" href="#option-json-output" title="option-json-output"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-output</span></code></a> is specified, in which case
the default is <code class="docutils literal notranslate"><span class="pre">inline</span></code>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-json-stream-prefix">
<span class="sig-name descname"><span class="pre">--json-stream-prefix=file-prefix</span></span><a class="headerlink" href="#option-json-stream-prefix" title="Permalink to this definition"></a></dt>
<dd><p>When used with <code class="docutils literal notranslate"><span class="pre">--json-stream-data=file</span></code>,
<code class="docutils literal notranslate"><span class="pre">--json-stream-data=file-prefix</span></code> sets the prefix for stream data
files, overriding the default, which is to use the output file
name. Whatever is given here will be appended with <code class="samp docutils literal notranslate"><span class="pre">-</span><em><span class="pre">nnn</span></em></code>
to create the name of the file that will contain the data for the
stream stream in object <code class="samp docutils literal notranslate"><em><span class="pre">nnn</span></em></code>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-json-output">
<span class="sig-name descname"><span class="pre">--json-output[=version]</span></span><a class="headerlink" href="#option-json-output" title="Permalink to this definition"></a></dt>
<dd><p>Implies <a class="reference internal" href="#option-json" title="option-json"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json</span></code></a> at the specified version. This option
changes several default values, all of which can be overridden by
specifying the stated option:</p>
<ul class="simple">
<li><p>The default value for <a class="reference internal" href="#option-json-stream-data" title="option-json-stream-data"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-stream-data</span></code></a> changes from
<code class="docutils literal notranslate"><span class="pre">none</span></code> to <code class="docutils literal notranslate"><span class="pre">inline</span></code>.</p></li>
<li><p>The default value for <a class="reference internal" href="#option-decode-level" title="option-decode-level"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--decode-level</span></code></a> changes from
<code class="docutils literal notranslate"><span class="pre">generalized</span></code> to <code class="docutils literal notranslate"><span class="pre">none</span></code>.</p></li>
<li><p>By default, only the <code class="docutils literal notranslate"><span class="pre">&quot;qpdf&quot;</span></code> key is included in the JSON
output, but you can add additional keys with
<a class="reference internal" href="#option-json-key" title="option-json-key"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--json-key</span></code></a>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&quot;version&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;</span></code> keys will be excluded from
the JSON output.</p></li>
</ul>
<p>If you want to look at the contents of streams easily as you would
in QDF mode (see <a class="reference internal" href="qdf.html#qdf"><span class="std std-ref">QDF Mode</span></a>), you can use
<code class="docutils literal notranslate"><span class="pre">--decode-level=generalized</span></code> and <code class="docutils literal notranslate"><span class="pre">--json-stream-data=file</span></code> for
a convenient way to do that.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-json-input">
<span class="sig-name descname"><span class="pre">--json-input</span></span><a class="headerlink" href="#option-json-input" title="Permalink to this definition"></a></dt>
<dd><p>Treat the input file as a JSON file in qpdf JSON format. The input
file must be complete and include all stream data. The JSON version
must be at least 2. All top-level keys are ignored except for
<code class="docutils literal notranslate"><span class="pre">&quot;qpdf&quot;</span></code>. For information about converting between PDF and JSON,
please see <a class="reference internal" href="json.html#json"><span class="std std-ref">qpdf JSON</span></a>.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-update-from-json">
<span class="sig-name descname"><span class="pre">--update-from-json=qpdf-json-file</span></span><a class="headerlink" href="#option-update-from-json" title="Permalink to this definition"></a></dt>
<dd><p>This option updates a PDF file from the specified qpdf JSON file.
For a information about how to use this option, please see
<a class="reference internal" href="json.html#json"><span class="std std-ref">qpdf JSON</span></a>.</p>
</dd></dl>

</section>
</section>
<section id="options-for-testing-or-debugging">
<span id="test-options"></span><h2>Options for Testing or Debugging<a class="headerlink" href="#options-for-testing-or-debugging" title="Permalink to this heading"></a></h2>
<p>The options below are useful when writing automated test code that
includes files created by qpdf or when testing qpdf itself. When
changes are made to qpdf, care is taken to avoid gratuitously changing
the output of PDF files. This is to make it easier to do direct
comparisons in test suites with files created by qpdf. However, there
are no guarantees that the PDF output won’t change such as in the
event of a bug fix or feature enhancement to some aspect of the output
that qpdf creates.</p>
<section id="idempotency">
<span id="id20"></span><h3>Idempotency<a class="headerlink" href="#idempotency" title="Permalink to this heading"></a></h3>
<p>Note about idempotency of byte-for-byte content: there is no
expectation that qpdf is idempotent in the general case. In other
words, there is no expectation that, when qpdf is run on its own
output, it will create <em>byte-for-byte</em> identical output, even though
it will create semantically identical files. There are a variety of
reasons for this including document ID generation, which includes a
random element, as well as the interaction of stream length encoding
with dictionary key sorting.</p>
<p>It is possible to get idempotent behavior by using the
<a class="reference internal" href="#option-static-id" title="option-static-id"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--static-id</span></code></a> or <a class="reference internal" href="#option-deterministic-id" title="option-deterministic-id"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--deterministic-id</span></code></a> option with
qpdf and running it <em>three</em> times so that you are processing the
output of qpdf on its own previous output. For example, in this
sequence of commands:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qpdf any-file.pdf 1.pdf
qpdf --static-id 1.pdf 2.pdf
qpdf --static-id 2.pdf 3.pdf
</pre></div>
</div>
<p>the files <code class="file docutils literal notranslate"><span class="pre">2.pdf</span></code> and <code class="file docutils literal notranslate"><span class="pre">3.pdf</span></code> should be <em>byte-for-byte</em>
identical. The qpdf test suite relies on this behavior. See also
<a class="reference internal" href="#option-static-aes-iv" title="option-static-aes-iv"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--static-aes-iv</span></code></a>.</p>
</section>
<section id="id21">
<h3>Related Options<a class="headerlink" href="#id21" title="Permalink to this heading"></a></h3>
<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-static-id">
<span class="sig-name descname"><span class="pre">--static-id</span></span><a class="headerlink" href="#option-static-id" title="Permalink to this definition"></a></dt>
<dd><p>Use a fixed value for the document ID (<code class="docutils literal notranslate"><span class="pre">/ID</span></code> in the trailer).
<strong>This is intended for testing only. Never use it for production
files.</strong> If you are trying to get the same ID each time for a given
file and you are not generating encrypted files, consider using the
<a class="reference internal" href="#option-deterministic-id" title="option-deterministic-id"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--deterministic-id</span></code></a> option.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-static-aes-iv">
<span class="sig-name descname"><span class="pre">--static-aes-iv</span></span><a class="headerlink" href="#option-static-aes-iv" title="Permalink to this definition"></a></dt>
<dd><p>Use a static initialization vector for AES-CBC. This is intended
for testing only so that output files can be reproducible. Never
use it for production files. <strong>This option in particular is not
secure since it significantly weakens the encryption.</strong> When
combined with <a class="reference internal" href="#option-static-id" title="option-static-id"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--static-id</span></code></a> and using the three-step
process described in <a class="reference internal" href="#idempotency"><span class="std std-ref">Idempotency</span></a>, it is possible to create
byte-for-byte idempotent output with PDF files that use 256-bit
encryption to assist with creating reproducible test suites.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-linearize-pass1">
<span class="sig-name descname"><span class="pre">--linearize-pass1=file</span></span><a class="headerlink" href="#option-linearize-pass1" title="Permalink to this definition"></a></dt>
<dd><p>Write the first pass of linearization to the named file. <em>The
resulting file is not a valid PDF file.</em> This option is useful only
for debugging <code class="docutils literal notranslate"><span class="pre">QPDFWriter</span></code>’s linearization code. When qpdf
linearizes files, it writes the file in two passes, using the first
pass to calculate sizes and offsets that are required for hint
tables and the linearization dictionary. Ordinarily, the first pass
is discarded. This option enables it to be captured, allowing
inspection of the file before values calculated in pass 1 are
inserted into the file for pass 2.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-test-json-schema">
<span class="sig-name descname"><span class="pre">--test-json-schema</span></span><a class="headerlink" href="#option-test-json-schema" title="Permalink to this definition"></a></dt>
<dd><p>This is used by qpdf’s test suite to check consistency between the
output of <code class="docutils literal notranslate"><span class="pre">qpdf</span> <span class="pre">--json</span></code> and the output of <code class="docutils literal notranslate"><span class="pre">qpdf</span> <span class="pre">--json-help</span></code>.
This option causes an extra copy of the generated JSON to appear in
memory and is therefore unsuitable for use with large files. This
is why it’s also not on by default.</p>
</dd></dl>

<dl class="qpdf option">
<dt class="sig sig-object qpdf" id="option-report-memory-usage">
<span class="sig-name descname"><span class="pre">--report-memory-usage</span></span><a class="headerlink" href="#option-report-memory-usage" title="Permalink to this definition"></a></dt>
<dd><p>This is used by qpdf’s performance test suite to report the maximum
amount of memory used in supported environments.</p>
</dd></dl>

</section>
</section>
<section id="unicode-passwords">
<span id="id22"></span><h2>Unicode Passwords<a class="headerlink" href="#unicode-passwords" title="Permalink to this heading"></a></h2>
<p>At the library API level, all methods that perform encryption and
decryption interpret passwords as strings of bytes. It is up to the
caller to ensure that they are appropriately encoded. Starting with qpdf
version 8.4.0, qpdf will attempt to make this easier for you when
interacting with qpdf via its command line interface. The PDF specification
requires passwords used to encrypt files with 40-bit or 128-bit
encryption to be encoded with PDF Doc encoding. This encoding is a
single-byte encoding that supports ISO-Latin-1 and a handful of other
commonly used characters. It has a large overlap with Windows ANSI but
is not exactly the same. There is generally no way to provide PDF Doc
encoded strings on the command line. As such, qpdf versions prior to
8.4.0 would often create PDF files that couldn’t be opened with other
software when given a password with non-ASCII characters to encrypt a
file with 40-bit or 128-bit encryption. Starting with qpdf 8.4.0, qpdf
recognizes the encoding of the parameter and transcodes it as needed.
The rest of this section provides the details about exactly how qpdf
behaves. Most users will not need to know this information, but it might
be useful if you have been working around qpdf’s old behavior or if you
are using qpdf to generate encrypted files for testing other PDF
software.</p>
<p>A note about Windows: when qpdf builds, it attempts to determine what it
has to do to use <code class="docutils literal notranslate"><span class="pre">wmain</span></code> instead of <code class="docutils literal notranslate"><span class="pre">main</span></code> on Windows. The <code class="docutils literal notranslate"><span class="pre">wmain</span></code>
function is an alternative entry point that receives all arguments as
UTF-16-encoded strings. When qpdf starts up this way, it converts all
the strings to UTF-8 encoding and then invokes the regular main. This
means that, as far as qpdf is concerned, it receives its command-line
arguments with UTF-8 encoding, just as it would in any modern Linux or
UNIX environment.</p>
<p>If a file is being encrypted with 40-bit or 128-bit encryption and the
supplied password is not a valid UTF-8 string, qpdf will fall back to
the behavior of interpreting the password as a string of bytes. If you
have old scripts that encrypt files by passing the output of
<strong class="command">iconv</strong> to qpdf, you no longer need to do that,
but if you do, qpdf should still work. The only exception would be for
the extremely unlikely case of a password that is encoded with a
single-byte encoding but also happens to be valid UTF-8. Such a password
would contain strings of even numbers of characters that alternate
between accented letters and symbols. In the extremely unlikely event
that you are intentionally using such passwords and qpdf is thwarting
you by interpreting them as UTF-8, you can use
<code class="samp docutils literal notranslate"><span class="pre">--password-mode=bytes</span></code> to suppress qpdf’s
automatic behavior.</p>
<p>The <a class="reference internal" href="#option-password-mode" title="option-password-mode"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password-mode</span></code></a> option, as described earlier
in this chapter, can be used to change qpdf’s interpretation of supplied
passwords. There are very few reasons to use this option. One would be
the unlikely case described in the previous paragraph in which the
supplied password happens to be valid UTF-8 but isn’t supposed to be
UTF-8. Your best bet would be just to provide the password as a valid
UTF-8 string, but you could also use
<code class="samp docutils literal notranslate"><span class="pre">--password-mode=bytes</span></code>. Another reason to use
<code class="samp docutils literal notranslate"><span class="pre">--password-mode=bytes</span></code> would be to intentionally
generate PDF files encrypted with passwords that are not properly
encoded. The qpdf test suite does this to generate invalid files for the
purpose of testing its password recovery capability. If you were trying
to create intentionally incorrect files for a similar purposes, the
<code class="samp docutils literal notranslate"><span class="pre">bytes</span></code> password mode can enable you to do this.</p>
<p>When qpdf attempts to decrypt a file with a password that contains
non-ASCII characters, it will generate a list of alternative passwords
by attempting to interpret the password as each of a handful of
different coding systems and then transcode them to the required format.
This helps to compensate for the supplied password being given in the
wrong coding system, such as would happen if you used the
<strong class="command">iconv</strong> workaround that was previously needed.
It also generates passwords by doing the reverse operation: translating
from correct in incorrect encoding of the password. This would enable
qpdf to decrypt files using passwords that were improperly encoded by
whatever software encrypted the files, including older versions of qpdf
invoked without properly encoded passwords. The combination of these two
recovery methods should make qpdf transparently open most encrypted
files with the password supplied correctly but in the wrong coding
system. There are no real downsides to this behavior, but if you don’t
want qpdf to do this, you can use the
<a class="reference internal" href="#option-suppress-password-recovery" title="option-suppress-password-recovery"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--suppress-password-recovery</span></code></a> option. One reason
to do that is to ensure that you know the exact password that was used
to encrypt the file.</p>
<p>With these changes, qpdf now generates compliant passwords in most
cases. There are still some exceptions. In particular, the PDF
specification directs compliant writers to normalize Unicode passwords
and to perform certain transformations on passwords with bidirectional
text. Implementing this functionality requires using a real Unicode
library like ICU. If a client application that uses qpdf wants to do
this, the qpdf library will accept the resulting passwords, but qpdf
will not perform these transformations itself. It is possible that this
will be addressed in a future version of qpdf. The <code class="docutils literal notranslate"><span class="pre">QPDFWriter</span></code>
methods that enable encryption on the output file accept passwords as
strings of bytes.</p>
<p>Please note that the <a class="reference internal" href="#option-password-is-hex-key" title="option-password-is-hex-key"><code class="xref qpdf qpdf-ref docutils literal notranslate"><span class="pre">--password-is-hex-key</span></code></a> option is
unrelated to all this. That flag bypasses the normal process of going
from password to encryption key entirely, allowing the raw
encryption key to be specified directly. That behavior is useful for
forensic purposes or for brute-force recovery of files with unknown
passwords and has nothing to do with the document’s actual passwords.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="packaging.html" class="btn btn-neutral float-left" title="Notes for Packagers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="qdf.html" class="btn btn-neutral float-right" title="QDF Mode" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2005-2022, Jay Berkenbilt.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>