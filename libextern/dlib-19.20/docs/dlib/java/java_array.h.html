<html><!-- Created using the cpp_pretty_printer from the dlib C++ library.  See http://dlib.net for updates. --><head><title>dlib C++ Library - java_array.h</title></head><body bgcolor='white'><pre>
<font color='#009900'>// Copyright (C) 2017  Davis E. King (davis@dlib.net)
</font><font color='#009900'>// License: Boost Software License   See LICENSE.txt for the full license.
</font><font color='#0000FF'>#ifndef</font> DLIB_SWIG_JAVA_ARRAY_H_
<font color='#0000FF'>#define</font> DLIB_SWIG_JAVA_ARRAY_H_


<font color='#009900'>/*

    This file defines three special classes: array, array_view, and array_view_crit.  An
    array is a simple opaque handle to a java array, like a double[] array.  The array_view
    and array_view_crit objects allow you to access the contents of an array.  The
    interfaces of these objects is shown below, but for an example use, suppose you had an
    array of int in java and you wanted to pass it to C++.  You could create a C++ function
    like this:

        void my_function(const array_view&lt;int32_t&gt;&amp; array);

    and then within java you could call it with code like this:

       int[] array = new int[100];
       my_function(array);

    and it will work just like you would expect.  The array_view&lt;int32_t&gt; will usually result in
    the JVM doing a copy in the background.  However, you can also declare your function
    like this:

        void my_function(const array_view_crit&lt;int32_t&gt;&amp; array);

    and still call it the same way in java, however, using array_view_crit&lt;int32_t&gt; will usually
    not result in any copying, and is therefore very fast.  array_view_crit uses the JNI
    routine GetPrimitiveArrayCritical() to get a lock on the java memory underlying the
    array.  So it will probably prevent the garbage collector from running while your
    function is executing.  The JNI documentation is somewhat vague on the limitations of
    GetPrimitiveArrayCritical(), saying only that you shouldn't hold the lock on the array
    for "an extended period" or call back into the JVM.  Deciding whether or not this
    matters in your application is left as an exercise for the reader.


    There are two ways you can declare your methods if they take an array_view or
    array_view_crit.  Taking a const reference or a non-const reference.  E.g.
        void my_function(const array_view&lt;int32_t&gt;&amp; array);
        void my_function(array_view&lt;int32_t&gt;&amp; array);
    You can't declare them to be by value.  The non-const version allows you to modify the
    contents of the array and the modifications will be visible to java, as you would
    expect.  You can also make functions that take array objects directly, but that's only
    useful if you want to store the array handle somewhere, like in a member of a long
    lived class.  You can also write functions that return arrays back to java. E.g.
        array&lt;int32_t&gt; make_an_array(size_t s) 
        { 
            array&lt;int32_t&gt; arr(s);
            array_view&lt;int32_t&gt; aview(arr);
            // Use aview to put data into the array and generally do something useful. 
            ...
            return arr;
        }
    This would create an array and return it as a java int[] array.  


    You can also of course use functions taking many arguments, as is normally the case
    with SWIG.  Finally, these classes work with the following primitive types:
        - int16_t
        - int32_t
        - int64_t
        - char     (corresponding to java byte)
        - float
        - double




namespace java
{
    template &lt;typename T&gt;
    class array
    {
        /!*
            WHAT THIS OBJECT REPRESENTS
                This is a handle to a java array.  I.e. a reference to an array instance in
                java like a double[] or int[].  It doesn't do anything other than tell you
                the size of the array and allow you to hold a reference to it.

                To access the array contents, you need to create an array_view or
                array_view_crit from the array.
        *!/
    public:
        array();
        /!*
            ensures
                - #size() == 0
                - this array is a null reference, i.e. it doesn't reference any array.
        *!/

        explicit array(size_t new_size);
        /!*
            ensures
                - #size() == new_size
                - Allocates a new java array.
                - This array is a reference to the newly allocated java array object.
        *!/

        size_t size() const;
        /!*
            ensures
                - returns the number of elements in this java array.
        *!/

        void swap(array&amp; item); 
        /!*
            ensures
                - swaps the state of *this and item.
        *!/

        array(const array&amp; item);
        array&amp; operator= (const array&amp; item)
        array(array&amp;&amp; item);
        array&amp; operator= (array&amp;&amp; item);
        /!*
            ensures
                - The array is copyable, assignable, and movable.  All copies will
                  reference the same underlying array.  So the copies are shallow, as is
                  normally the case with java reference semantics.
        *!/
    };



    template &lt;typename T&gt;
    class array_view
    {
        /!*
            WHAT THIS OBJECT REPRESENTS
                This is a view into a java array object.  It allows you to access the
                values stored in an array and modify them if you want to.

                You should only create array_view objects locally in a function since an
                array_view is only valid as long as the array it references exists.  So
                don't store array_view objects in the member area of a class or globally.
        *!/

    public:
        array_view();
        /!*
            ensures
                - #size() == 0
                - #data() == nullptr
        *!/

        array_view(const array&lt;T&gt;&amp; arr, bool might_be_modified=true); 
        /!*
            ensures
                - #size() == arr.size()
                - #data() == a pointer to the beginning of the array data referenced by arr.
                - When you get a view on a java array, sometimes the JVM will actually
                  give you a pointer to a copy of the original array.  You therefore have
                  to tell the JVM if you modified the array when you are done using it.  If
                  you say you modified it then the JVM will perform another copy from your
                  memory buffer back into the JVM.  The state of might_be_modified controls
                  if we do this.  So if you are going to modify the array via this
                  array_view you should set might_be_modified==true.
        *!/

        size_t size() const; 
        /!*
            ensures
                - returns the number of elements in this java array.
        *!/

        T* data(); 
        const T* data() const; 
        /!*
            ensures
                - returns a pointer to the beginning of the array.  Or nullptr if this is a
                  handle to null, rather than an actual array instance.
        *!/

        T* begin(); 
        T* end(); 
        const T* begin() const; 
        const T* end() const; 
        /!*
            ensures
                - returns iterators to the start and one-past-the-end of the array, as is
                  the convention for iterator ranges in C++.
        *!/

        T&amp; operator[](size_t i); 
        const T&amp; operator[](size_t i) const; 
        /!*
            ensures
                - returns data()[i]
        *!/

    private:
        // this object is non-copyable.
        array_view(const array_view&amp;);
        array_view&amp; operator=(const array_view&amp;);
    };


    template &lt;typename T&gt;
    class array_view_crit
    {
        /!*
            WHAT THIS OBJECT REPRESENTS
                This is just like an array_view and has an identical interface.  The only
                difference is that we use the JNI call GetPrimitiveArrayCritical() to get a
                critical lock on the array's memory.  Therefore, using array_view_crit is
                usually faster than array_view since it avoids any unnecessary copying back
                and forth between the JVM. 

                However, this critical lock can block the JVM's garbage collector from
                running.  So don't create long lived array_view_crit objects.
        *!/
    };

}
*/</font>








<font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>//                              IMPLEMENTATION DETAILS
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font>







<font color='#0000FF'>namespace</font> java
<b>{</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>class</font> <b><a name='array_view_base'></a>array_view_base</b>
<b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='array_view_base'></a>array_view_base</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> <font color='#0000FF'>default</font>;

    <font color='#0000FF'><u>size_t</u></font> <b><a name='size'></a>size</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> sz; <b>}</b>
    T<font color='#5555FF'>*</font> <b><a name='data'></a>data</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> pdata; <b>}</b>
    <font color='#0000FF'>const</font> T<font color='#5555FF'>*</font> <b><a name='data'></a>data</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> pdata; <b>}</b>

    T<font color='#5555FF'>*</font> <b><a name='begin'></a>begin</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> pdata; <b>}</b>
    T<font color='#5555FF'>*</font> <b><a name='end'></a>end</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> pdata<font color='#5555FF'>+</font>sz; <b>}</b>
    <font color='#0000FF'>const</font> T<font color='#5555FF'>*</font> <b><a name='begin'></a>begin</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> pdata; <b>}</b>
    <font color='#0000FF'>const</font> T<font color='#5555FF'>*</font> <b><a name='end'></a>end</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> pdata<font color='#5555FF'>+</font>sz; <b>}</b>

    T<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> i<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> pdata[i]; <b>}</b>
    <font color='#0000FF'>const</font> T<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> i<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> pdata[i]; <b>}</b>

<font color='#0000FF'>protected</font>:
    T<font color='#5555FF'>*</font> pdata <font color='#5555FF'>=</font> nullptr;
    <font color='#0000FF'><u>size_t</u></font> sz <font color='#5555FF'>=</font> <font color='#979000'>0</font>;

<font color='#0000FF'>private</font>:
    <font color='#009900'>// this object is non-copyable
</font>    <b><a name='array_view_base'></a>array_view_base</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view_base<font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>;
    array_view_base<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view_base<font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>;

<b>}</b>;


<font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>struct</font> find_java_array_type;

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>struct</font> <b><a name='find_java_array_type'></a>find_java_array_type</b><font color='#5555FF'>&lt;</font>int16_t<font color='#5555FF'>&gt;</font> <b>{</b> <font color='#0000FF'>typedef</font> jshortArray type; <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>struct</font> <b><a name='find_java_array_type'></a>find_java_array_type</b><font color='#5555FF'>&lt;</font>int32_t<font color='#5555FF'>&gt;</font> <b>{</b> <font color='#0000FF'>typedef</font> jintArray type; <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>struct</font> <b><a name='find_java_array_type'></a>find_java_array_type</b><font color='#5555FF'>&lt;</font>int64_t<font color='#5555FF'>&gt;</font> <b>{</b> <font color='#0000FF'>typedef</font> jlongArray type; <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>struct</font> <b><a name='find_java_array_type'></a>find_java_array_type</b><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>char</u></font><font color='#5555FF'>&gt;</font>    <b>{</b> <font color='#0000FF'>typedef</font> jbyteArray type; <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>struct</font> <b><a name='find_java_array_type'></a>find_java_array_type</b><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>float</u></font><font color='#5555FF'>&gt;</font>   <b>{</b> <font color='#0000FF'>typedef</font> jfloatArray type; <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>struct</font> <b><a name='find_java_array_type'></a>find_java_array_type</b><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>double</u></font><font color='#5555FF'>&gt;</font>  <b>{</b> <font color='#0000FF'>typedef</font> jdoubleArray type; <b>}</b>;

jshortArray  <b><a name='create_java_array'></a>create_java_array</b><font face='Lucida Console'>(</font>int16_t, <font color='#0000FF'><u>size_t</u></font> size<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>NewShortArray</font><font face='Lucida Console'>(</font>size<font face='Lucida Console'>)</font>; <b>}</b>
jintArray    <b><a name='create_java_array'></a>create_java_array</b><font face='Lucida Console'>(</font>int32_t, <font color='#0000FF'><u>size_t</u></font> size<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>NewIntArray</font><font face='Lucida Console'>(</font>size<font face='Lucida Console'>)</font>; <b>}</b>
jlongArray   <b><a name='create_java_array'></a>create_java_array</b><font face='Lucida Console'>(</font>int64_t, <font color='#0000FF'><u>size_t</u></font> size<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>NewLongArray</font><font face='Lucida Console'>(</font>size<font face='Lucida Console'>)</font>; <b>}</b>
jbyteArray   <b><a name='create_java_array'></a>create_java_array</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>char</u></font>,    <font color='#0000FF'><u>size_t</u></font> size<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>NewByteArray</font><font face='Lucida Console'>(</font>size<font face='Lucida Console'>)</font>; <b>}</b>
jfloatArray  <b><a name='create_java_array'></a>create_java_array</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>float</u></font>,   <font color='#0000FF'><u>size_t</u></font> size<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>NewFloatArray</font><font face='Lucida Console'>(</font>size<font face='Lucida Console'>)</font>; <b>}</b>
jdoubleArray <b><a name='create_java_array'></a>create_java_array</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>double</u></font> , <font color='#0000FF'><u>size_t</u></font> size<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>NewDoubleArray</font><font face='Lucida Console'>(</font>size<font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>class</font> <b><a name='array'></a>array</b>
<b>{</b>
<font color='#0000FF'>public</font>:

    <font color='#0000FF'>typedef</font> <font color='#0000FF'>typename</font> find_java_array_type<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::type java_type;

    <b><a name='array'></a>array</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b><b>}</b>

    <font color='#0000FF'>explicit</font> <b><a name='array'></a>array</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> size<font face='Lucida Console'>)</font> 
    <b>{</b>
        ref <font color='#5555FF'>=</font> <font color='#BB00BB'>create_java_array</font><font face='Lucida Console'>(</font><font color='#BB00BB'>T</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,size<font face='Lucida Console'>)</font>;
        is_global_ref <font color='#5555FF'>=</font> <font color='#979000'>false</font>;
    <b>}</b>

    <b><a name='array'></a>array</b><font face='Lucida Console'>(</font>java_type ref_<font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>ref_<font face='Lucida Console'>)</font>
        <b>{</b>
            ref <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>java_type<font face='Lucida Console'>)</font><font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>NewGlobalRef</font><font face='Lucida Console'>(</font>ref_<font face='Lucida Console'>)</font>;
            is_global_ref <font color='#5555FF'>=</font> <font color='#979000'>true</font>;
        <b>}</b>
    <b>}</b>

<font color='#0000FF'>#ifndef</font> SWIG
    <b><a name='array'></a>array</b><font face='Lucida Console'>(</font>array<font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> item<font face='Lucida Console'>)</font>
    <b>{</b>
        ref <font color='#5555FF'>=</font> item.ref;
        is_global_ref <font color='#5555FF'>=</font> item.is_global_ref;
        item.ref <font color='#5555FF'>=</font> NULL;
        item.is_global_ref <font color='#5555FF'>=</font> <font color='#979000'>false</font>;
    <b>}</b>
    array<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>array<font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> item<font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#BB00BB'>array</font><font face='Lucida Console'>(</font>std::<font color='#BB00BB'>move</font><font face='Lucida Console'>(</font>item<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>swap</font><font face='Lucida Console'>(</font><font color='#5555FF'>*</font><font color='#0000FF'>this</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>;
    <b>}</b>
<font color='#0000FF'>#endif</font>

    ~<b><a name='array'></a>array</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>ref<font face='Lucida Console'>)</font>
        <b>{</b>
            <font color='#009900'>// Don't delete the reference if it's a local reference, since the only reason
</font>            <font color='#009900'>// we will normally be using array object's that contain local references
</font>            <font color='#009900'>// is because we plan on returning the newly constructed array back to the JVM,
</font>            <font color='#009900'>// which automatically frees local references using the normal JVM garbage
</font>            <font color='#009900'>// collection scheme.
</font>            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_global_ref<font face='Lucida Console'>)</font>
                <font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>DeleteGlobalRef</font><font face='Lucida Console'>(</font>ref<font face='Lucida Console'>)</font>;

            ref <font color='#5555FF'>=</font> NULL;
            is_global_ref <font color='#5555FF'>=</font> <font color='#979000'>false</font>;
        <b>}</b>
    <b>}</b>

    <font color='#0000FF'><u>size_t</u></font> <b><a name='size'></a>size</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> 
    <b>{</b> 
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>ref<font face='Lucida Console'>)</font>
            <font color='#0000FF'>return</font> <font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>GetArrayLength</font><font face='Lucida Console'>(</font>ref<font face='Lucida Console'>)</font>; 
        <font color='#0000FF'>else</font>
            <font color='#0000FF'>return</font> <font color='#979000'>0</font>;
    <b>}</b>

    <b><a name='array'></a>array</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&amp;</font> item<font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#BB00BB'>array</font><font face='Lucida Console'>(</font>item.ref<font face='Lucida Console'>)</font>.<font color='#BB00BB'>swap</font><font face='Lucida Console'>(</font><font color='#5555FF'>*</font><font color='#0000FF'>this</font><font face='Lucida Console'>)</font>;
    <b>}</b>

    array<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font> <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&amp;</font> item<font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#BB00BB'>array</font><font face='Lucida Console'>(</font>item<font face='Lucida Console'>)</font>.<font color='#BB00BB'>swap</font><font face='Lucida Console'>(</font><font color='#5555FF'>*</font><font color='#0000FF'>this</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>;
    <b>}</b>

    <b><a name='operator'></a>operator</b> <b><a name='java_type'></a>java_type</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> ref;<b>}</b>

    <font color='#0000FF'><u>void</u></font> <b><a name='swap'></a>swap</b><font face='Lucida Console'>(</font>array<font color='#5555FF'>&amp;</font> item<font face='Lucida Console'>)</font> 
    <b>{</b> 
        std::<font color='#BB00BB'>swap</font><font face='Lucida Console'>(</font>ref, item.ref<font face='Lucida Console'>)</font>;  
        std::<font color='#BB00BB'>swap</font><font face='Lucida Console'>(</font>is_global_ref, item.is_global_ref<font face='Lucida Console'>)</font>;  
    <b>}</b>

<font color='#0000FF'>private</font>:
    java_type ref <font color='#5555FF'>=</font> NULL;
    <font color='#0000FF'><u>bool</u></font> is_global_ref <font color='#5555FF'>=</font> <font color='#979000'>false</font>;
<b>}</b>;

<font color='#0000FF'>#ifdef</font> SWIG
<font color='#009900'>// Tell SWIG to not use it's SwigValueWrapper stuff on array objects since they aren't
</font><font color='#009900'>// needed and it causes superfluous construction and destruction of array objects.
</font><font color='#5555FF'>%</font><b><a name='feature'></a>feature</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>novaluewrapper</font>"<font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font>int16_t<font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><font color='#0000FF'>template</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font>int16_t<font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><b><a name='feature'></a>feature</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>novaluewrapper</font>"<font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font>int32_t<font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><font color='#0000FF'>template</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font>int32_t<font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><b><a name='feature'></a>feature</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>novaluewrapper</font>"<font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font>int64_t<font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><font color='#0000FF'>template</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font>int64_t<font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><b><a name='feature'></a>feature</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>novaluewrapper</font>"<font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>char</u></font><font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><font color='#0000FF'>template</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>char</u></font><font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><b><a name='feature'></a>feature</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>novaluewrapper</font>"<font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>float</u></font><font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><font color='#0000FF'>template</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>float</u></font><font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><b><a name='feature'></a>feature</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>novaluewrapper</font>"<font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>double</u></font><font color='#5555FF'>&gt;</font>;
<font color='#5555FF'>%</font><font color='#0000FF'>template</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> array<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>double</u></font><font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>#ifdef</font> SWIG
<font color='#5555FF'>%</font>define <b><a name='tostring'></a>tostring</b><font face='Lucida Console'>(</font>token<font face='Lucida Console'>)</font> 
    #token
<font color='#5555FF'>%</font>enddef

<font color='#5555FF'>%</font>define <b><a name='define_javaObjectRef_converion'></a>define_javaObjectRef_converion</b><font face='Lucida Console'>(</font>type, java_type<font face='Lucida Console'>)</font>
    <font color='#009900'>// Define array conversions for non-const arrays
</font>    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jtype<font face='Lucida Console'>)</font>       <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jstype<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jni<font face='Lucida Console'>)</font>         <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font face='Lucida Console'>)</font>  <b><a name='tostring'></a>tostring</b><font face='Lucida Console'>(</font>j##java_type##Array<font face='Lucida Console'>)</font>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>javain<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>$javainput</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>in<font face='Lucida Console'>)</font>          <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font face='Lucida Console'>)</font>  <b>{</b> $1 <font color='#5555FF'>=</font> java::array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>$input<font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>javaout<font face='Lucida Console'>)</font>     <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font face='Lucida Console'>)</font>  <b>{</b><font color='#0000FF'>return</font> $jnicall; <b>}</b>   
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>out<font face='Lucida Console'>)</font>         <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font face='Lucida Console'>)</font>  <b>{</b>jresult <font color='#5555FF'>=</font> result;<b>}</b>

    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jtype<font face='Lucida Console'>)</font>       <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jstype<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jni<font face='Lucida Console'>)</font>         <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  <b><a name='tostring'></a>tostring</b><font face='Lucida Console'>(</font>j##java_type##Array<font face='Lucida Console'>)</font>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>javain<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>$javainput</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>arginit<font face='Lucida Console'>)</font>     <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font> <b>{</b> $1 <font color='#5555FF'>=</font> <font color='#5555FF'>&amp;</font>temp$argnum; <b>}</b>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>in<font face='Lucida Console'>)</font>          <font face='Lucida Console'>(</font>array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font> <font face='Lucida Console'>(</font>java::array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font> temp<font face='Lucida Console'>)</font> <b>{</b> <font color='#5555FF'>*</font><font face='Lucida Console'>(</font>$1<font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> java::array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>$input<font face='Lucida Console'>)</font>; <b>}</b>

    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jtype<font face='Lucida Console'>)</font>       <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jstype<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jni<font face='Lucida Console'>)</font>         <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  <b><a name='tostring'></a>tostring</b><font face='Lucida Console'>(</font>j##java_type##Array<font face='Lucida Console'>)</font>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>javain<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>$javainput</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>arginit<font face='Lucida Console'>)</font>     <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font> <b>{</b> $1 <font color='#5555FF'>=</font> <font color='#5555FF'>&amp;</font>temp$argnum; <b>}</b>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>in<font face='Lucida Console'>)</font>          <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font> <font face='Lucida Console'>(</font>java::array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font> temp<font face='Lucida Console'>)</font> <b>{</b> <font color='#5555FF'>*</font><font face='Lucida Console'>(</font>$1<font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> java::array<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>$input<font face='Lucida Console'>)</font>; <b>}</b>
<font color='#5555FF'>%</font>enddef
<b><a name='define_javaObjectRef_converion'></a>define_javaObjectRef_converion</b><font face='Lucida Console'>(</font>int16_t,<font color='#0000FF'><u>short</u></font><font face='Lucida Console'>)</font>
<b><a name='define_javaObjectRef_converion'></a>define_javaObjectRef_converion</b><font face='Lucida Console'>(</font>int32_t,<font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font>
<b><a name='define_javaObjectRef_converion'></a>define_javaObjectRef_converion</b><font face='Lucida Console'>(</font>int64_t,<font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font>
<b><a name='define_javaObjectRef_converion'></a>define_javaObjectRef_converion</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>char</u></font>,byte<font face='Lucida Console'>)</font>
<b><a name='define_javaObjectRef_converion'></a>define_javaObjectRef_converion</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>float</u></font>,<font color='#0000FF'><u>float</u></font><font face='Lucida Console'>)</font>
<b><a name='define_javaObjectRef_converion'></a>define_javaObjectRef_converion</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>double</u></font>,<font color='#0000FF'><u>double</u></font><font face='Lucida Console'>)</font>

<font color='#0000FF'>#endif</font>
<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'>class</font> array_view;

<font color='#0000FF'>#define</font> JAVA_ARRAY_CLASS_SPEC<font face='Lucida Console'>(</font>ctype, type, Type<font face='Lucida Console'>)</font>                                               \
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>class</font> <b><a name='array_view'></a>array_view</b><font color='#5555FF'>&lt;</font>ctype<font color='#5555FF'>&gt;</font> : <font color='#0000FF'>public</font> array_view_base<font color='#5555FF'>&lt;</font>ctype<font color='#5555FF'>&gt;</font>                               \
<b>{</b>                                                                                           \
<font color='#0000FF'>public</font>:                                                                                     \
    ~<b><a name='array_view'></a>array_view</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#BB00BB'>clear</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>                                                                 \
    <b><a name='array_view'></a>array_view</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b><b>}</b>                                                                            \
    <b><a name='array_view'></a>array_view</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font>ctype<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> arr, <font color='#0000FF'><u>bool</u></font> might_be_modified_<font color='#5555FF'>=</font><font color='#979000'>true</font><font face='Lucida Console'>)</font><b>{</b><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font><font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,arr,might_be_modified_<font face='Lucida Console'>)</font>;<b>}</b> \
    <font color='#0000FF'><u>void</u></font> <b><a name='reset'></a>reset</b><font face='Lucida Console'>(</font>JNIEnv<font color='#5555FF'>*</font> jenv_, j##type##Array arr, <font color='#0000FF'><u>bool</u></font> might_be_modified_<font face='Lucida Console'>)</font> <b>{</b>                  \
        <font color='#BB00BB'>clear</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;                                                                            \
        jenv <font color='#5555FF'>=</font> jenv_;                                                                       \
        oldArr <font color='#5555FF'>=</font> arr;                                                                       \
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>arr<font face='Lucida Console'>)</font> <b>{</b>                                                                          \
            pdata <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>ctype<font color='#5555FF'>*</font><font face='Lucida Console'>)</font>jenv<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font>Get##Type##<font color='#BB00BB'>ArrayElements</font><font face='Lucida Console'>(</font>arr, <font color='#979000'>0</font><font face='Lucida Console'>)</font>;                         \
            sz <font color='#5555FF'>=</font> jenv<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>GetArrayLength</font><font face='Lucida Console'>(</font>arr<font face='Lucida Console'>)</font>;                                                 \
        <b>}</b>                                                                                   \
        might_be_modified <font color='#5555FF'>=</font> might_be_modified_;                                             \
    <b>}</b>                                                                                       \
<font color='#0000FF'>private</font>:                                                                                    \
    <font color='#0000FF'><u>void</u></font> <b><a name='clear'></a>clear</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b>                                                                          \
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>pdata<font face='Lucida Console'>)</font> <b>{</b>                                                                        \
            jenv<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font>Release##Type##<font color='#BB00BB'>ArrayElements</font><font face='Lucida Console'>(</font>oldArr, <font face='Lucida Console'>(</font>j##type<font color='#5555FF'>*</font><font face='Lucida Console'>)</font>pdata, might_be_modified?<font color='#979000'>0</font>:JNI_ABORT<font face='Lucida Console'>)</font>; \
            pdata <font color='#5555FF'>=</font> nullptr;                                                                \
            sz <font color='#5555FF'>=</font> <font color='#979000'>0</font>;                                                                         \
        <b>}</b>                                                                                   \
    <b>}</b>                                                                                       \
    JNIEnv<font color='#5555FF'>*</font> jenv <font color='#5555FF'>=</font> nullptr;                                                                 \
    j##type##Array oldArr;                                                                  \
    <font color='#0000FF'><u>bool</u></font> might_be_modified;                                                                   \
<b>}</b>;

<b><a name='JAVA_ARRAY_CLASS_SPEC'></a>JAVA_ARRAY_CLASS_SPEC</b><font face='Lucida Console'>(</font>int16_t,<font color='#0000FF'><u>short</u></font>, Short<font face='Lucida Console'>)</font>
<b><a name='JAVA_ARRAY_CLASS_SPEC'></a>JAVA_ARRAY_CLASS_SPEC</b><font face='Lucida Console'>(</font>int32_t,<font color='#0000FF'><u>int</u></font>, Int<font face='Lucida Console'>)</font>
<b><a name='JAVA_ARRAY_CLASS_SPEC'></a>JAVA_ARRAY_CLASS_SPEC</b><font face='Lucida Console'>(</font>int64_t,<font color='#0000FF'><u>long</u></font>, Long<font face='Lucida Console'>)</font>
<b><a name='JAVA_ARRAY_CLASS_SPEC'></a>JAVA_ARRAY_CLASS_SPEC</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>char</u></font>,byte, Byte<font face='Lucida Console'>)</font>
<b><a name='JAVA_ARRAY_CLASS_SPEC'></a>JAVA_ARRAY_CLASS_SPEC</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>float</u></font>,<font color='#0000FF'><u>float</u></font>, Float<font face='Lucida Console'>)</font>
<b><a name='JAVA_ARRAY_CLASS_SPEC'></a>JAVA_ARRAY_CLASS_SPEC</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>double</u></font>,<font color='#0000FF'><u>double</u></font>, Double<font face='Lucida Console'>)</font>

 
<font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font><font color='#009900'>// ----------------------------------------------------------------------------------------
</font>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T, <font color='#0000FF'>typename</font> JARR<font color='#5555FF'>&gt;</font> 
<font color='#0000FF'>class</font> <b><a name='array_view_crit_base'></a>array_view_crit_base</b> 
<b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='array_view_crit_base'></a>array_view_crit_base</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> <font color='#0000FF'>default</font>;

    <font color='#0000FF'><u>size_t</u></font> <b><a name='size'></a>size</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> sz; <b>}</b>
    T<font color='#5555FF'>*</font> <b><a name='data'></a>data</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> pdata; <b>}</b>
    <font color='#0000FF'>const</font> T<font color='#5555FF'>*</font> <b><a name='data'></a>data</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> pdata; <b>}</b>

    T<font color='#5555FF'>*</font> <b><a name='begin'></a>begin</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> pdata; <b>}</b>
    T<font color='#5555FF'>*</font> <b><a name='end'></a>end</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> pdata<font color='#5555FF'>+</font>sz; <b>}</b>
    <font color='#0000FF'>const</font> T<font color='#5555FF'>*</font> <b><a name='begin'></a>begin</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> pdata; <b>}</b>
    <font color='#0000FF'>const</font> T<font color='#5555FF'>*</font> <b><a name='end'></a>end</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> pdata<font color='#5555FF'>+</font>sz; <b>}</b>
    T<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> i<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> pdata[i]; <b>}</b>
    <font color='#0000FF'>const</font> T<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> i<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> pdata[i]; <b>}</b>

    ~<b><a name='array_view_crit_base'></a>array_view_crit_base</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#BB00BB'>clear</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>

    <font color='#0000FF'><u>void</u></font> <b><a name='reset'></a>reset</b><font face='Lucida Console'>(</font>JNIEnv<font color='#5555FF'>*</font> jenv_, JARR arr, <font color='#0000FF'><u>bool</u></font> might_be_modified_<font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#BB00BB'>clear</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        jenv <font color='#5555FF'>=</font> jenv_;
        oldArr <font color='#5555FF'>=</font> arr;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>arr<font face='Lucida Console'>)</font> 
        <b>{</b>
            pdata <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font>T<font color='#5555FF'>*</font><font face='Lucida Console'>)</font>jenv<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>GetPrimitiveArrayCritical</font><font face='Lucida Console'>(</font>arr, <font color='#979000'>0</font><font face='Lucida Console'>)</font>;
            sz <font color='#5555FF'>=</font> jenv<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>GetArrayLength</font><font face='Lucida Console'>(</font>arr<font face='Lucida Console'>)</font>;
        <b>}</b>
        might_be_modified <font color='#5555FF'>=</font> might_be_modified_;
    <b>}</b>

<font color='#0000FF'>private</font>:

    <font color='#0000FF'><u>void</u></font> <b><a name='clear'></a>clear</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>
    <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>pdata<font face='Lucida Console'>)</font> <b>{</b>
            jenv<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>ReleasePrimitiveArrayCritical</font><font face='Lucida Console'>(</font>oldArr, pdata, might_be_modified?<font color='#979000'>0</font>:JNI_ABORT<font face='Lucida Console'>)</font>;
            pdata <font color='#5555FF'>=</font> nullptr;
            sz <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
        <b>}</b>
    <b>}</b>

    <font color='#009900'>// this object is non-copyable
</font>    <b><a name='array_view_crit_base'></a>array_view_crit_base</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view_crit_base<font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>;
    array_view_crit_base<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view_crit_base<font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>;

    T<font color='#5555FF'>*</font> pdata <font color='#5555FF'>=</font> nullptr;
    <font color='#0000FF'><u>size_t</u></font> sz <font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    JNIEnv<font color='#5555FF'>*</font> jenv <font color='#5555FF'>=</font> nullptr;
    JARR oldArr;
    <font color='#0000FF'><u>bool</u></font> might_be_modified;
<b>}</b>;

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'>class</font> array_view_crit;

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>class</font> <b><a name='array_view_crit'></a>array_view_crit</b><font color='#5555FF'>&lt;</font>int16_t<font color='#5555FF'>&gt;</font> : <font color='#0000FF'>public</font> array_view_crit_base<font color='#5555FF'>&lt;</font>int16_t,jshortArray<font color='#5555FF'>&gt;</font> <b>{</b> <font color='#0000FF'>public</font>: <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><b>{</b><b>}</b> <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font>int16_t<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> arr, <font color='#0000FF'><u>bool</u></font> might_be_modified_<font color='#5555FF'>=</font><font color='#979000'>true</font><font face='Lucida Console'>)</font><b>{</b><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font><font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,arr,might_be_modified_<font face='Lucida Console'>)</font>;<b>}</b> <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>class</font> <b><a name='array_view_crit'></a>array_view_crit</b><font color='#5555FF'>&lt;</font>int32_t<font color='#5555FF'>&gt;</font> : <font color='#0000FF'>public</font> array_view_crit_base<font color='#5555FF'>&lt;</font>int32_t,jintArray<font color='#5555FF'>&gt;</font>   <b>{</b> <font color='#0000FF'>public</font>: <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><b>{</b><b>}</b> <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font>int32_t<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> arr, <font color='#0000FF'><u>bool</u></font> might_be_modified_<font color='#5555FF'>=</font><font color='#979000'>true</font><font face='Lucida Console'>)</font><b>{</b><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font><font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,arr,might_be_modified_<font face='Lucida Console'>)</font>;<b>}</b> <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>class</font> <b><a name='array_view_crit'></a>array_view_crit</b><font color='#5555FF'>&lt;</font>int64_t<font color='#5555FF'>&gt;</font> : <font color='#0000FF'>public</font> array_view_crit_base<font color='#5555FF'>&lt;</font>int64_t,jlongArray<font color='#5555FF'>&gt;</font>  <b>{</b> <font color='#0000FF'>public</font>: <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><b>{</b><b>}</b> <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font>int64_t<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> arr, <font color='#0000FF'><u>bool</u></font> might_be_modified_<font color='#5555FF'>=</font><font color='#979000'>true</font><font face='Lucida Console'>)</font><b>{</b><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font><font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,arr,might_be_modified_<font face='Lucida Console'>)</font>;<b>}</b> <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>class</font> <b><a name='array_view_crit'></a>array_view_crit</b><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>char</u></font><font color='#5555FF'>&gt;</font>    : <font color='#0000FF'>public</font> array_view_crit_base<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>char</u></font>,jbyteArray<font color='#5555FF'>&gt;</font>     <b>{</b> <font color='#0000FF'>public</font>: <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><b>{</b><b>}</b> <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>char</u></font><font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> arr, <font color='#0000FF'><u>bool</u></font> might_be_modified_<font color='#5555FF'>=</font><font color='#979000'>true</font><font face='Lucida Console'>)</font><b>{</b><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font><font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,arr,might_be_modified_<font face='Lucida Console'>)</font>;<b>}</b> <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>class</font> <b><a name='array_view_crit'></a>array_view_crit</b><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>float</u></font><font color='#5555FF'>&gt;</font>   : <font color='#0000FF'>public</font> array_view_crit_base<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>float</u></font>,jfloatArray<font color='#5555FF'>&gt;</font>   <b>{</b> <font color='#0000FF'>public</font>: <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><b>{</b><b>}</b> <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>float</u></font><font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> arr, <font color='#0000FF'><u>bool</u></font> might_be_modified_<font color='#5555FF'>=</font><font color='#979000'>true</font><font face='Lucida Console'>)</font><b>{</b><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font><font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,arr,might_be_modified_<font face='Lucida Console'>)</font>;<b>}</b> <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>class</font> <b><a name='array_view_crit'></a>array_view_crit</b><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>double</u></font><font color='#5555FF'>&gt;</font>  : <font color='#0000FF'>public</font> array_view_crit_base<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>double</u></font>,jdoubleArray<font color='#5555FF'>&gt;</font> <b>{</b> <font color='#0000FF'>public</font>: <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><b>{</b><b>}</b> <b><a name='array_view_crit'></a>array_view_crit</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>double</u></font><font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font> arr, <font color='#0000FF'><u>bool</u></font> might_be_modified_<font color='#5555FF'>=</font><font color='#979000'>true</font><font face='Lucida Console'>)</font><b>{</b><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font><font color='#BB00BB'>JNI_GetEnv</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>,arr,might_be_modified_<font face='Lucida Console'>)</font>;<b>}</b> <b>}</b>;

<font color='#009900'>// ----------------------------------------------------------------------------------------
</font>
<font color='#009900'>// Define SWIG typemaps so SWIG will know what to do with the array_view and array_view_crit
</font><font color='#009900'>// objects.
</font><font color='#0000FF'>#ifdef</font> SWIG
<font color='#5555FF'>%</font>define <b><a name='define_array_converion'></a>define_array_converion</b><font face='Lucida Console'>(</font>type, java_type<font face='Lucida Console'>)</font>
    <font color='#009900'>// Define array conversions for non-const arrays
</font>    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jtype<font face='Lucida Console'>)</font>       <font face='Lucida Console'>(</font>array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jstype<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font>array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jni<font face='Lucida Console'>)</font>         <font face='Lucida Console'>(</font>array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  <b><a name='tostring'></a>tostring</b><font face='Lucida Console'>(</font>j##java_type##Array<font face='Lucida Console'>)</font>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>javain<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font>array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>$javainput</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>arginit<font face='Lucida Console'>)</font>     <font face='Lucida Console'>(</font>array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  <b>{</b> $1 <font color='#5555FF'>=</font> <font color='#5555FF'>&amp;</font>temp$argnum; <b>}</b>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>in<font face='Lucida Console'>)</font>          <font face='Lucida Console'>(</font>array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font> <font face='Lucida Console'>(</font>java::array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font> temp<font face='Lucida Console'>)</font>  <b>{</b> $1<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font>jenv, $input, <font color='#979000'>true</font><font face='Lucida Console'>)</font>; <b>}</b>

    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jtype<font face='Lucida Console'>)</font>       <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jstype<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jni<font face='Lucida Console'>)</font>         <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  <b><a name='tostring'></a>tostring</b><font face='Lucida Console'>(</font>j##java_type##Array<font face='Lucida Console'>)</font>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>javain<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>$javainput</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>arginit<font face='Lucida Console'>)</font>     <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  <b>{</b> $1 <font color='#5555FF'>=</font> <font color='#5555FF'>&amp;</font>temp$argnum; <b>}</b>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>in<font face='Lucida Console'>)</font>          <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font> <font face='Lucida Console'>(</font>java::array_view<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font> temp<font face='Lucida Console'>)</font>  <b>{</b> $1<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font>jenv, $input, <font color='#979000'>false</font><font face='Lucida Console'>)</font>; <b>}</b>
<font color='#5555FF'>%</font>enddef
<b><a name='define_array_converion'></a>define_array_converion</b><font face='Lucida Console'>(</font>int16_t,<font color='#0000FF'><u>short</u></font><font face='Lucida Console'>)</font>
<b><a name='define_array_converion'></a>define_array_converion</b><font face='Lucida Console'>(</font>int32_t,<font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font>
<b><a name='define_array_converion'></a>define_array_converion</b><font face='Lucida Console'>(</font>int64_t,<font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font>
<b><a name='define_array_converion'></a>define_array_converion</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>char</u></font>,byte<font face='Lucida Console'>)</font>
<b><a name='define_array_converion'></a>define_array_converion</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>float</u></font>,<font color='#0000FF'><u>float</u></font><font face='Lucida Console'>)</font>
<b><a name='define_array_converion'></a>define_array_converion</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>double</u></font>,<font color='#0000FF'><u>double</u></font><font face='Lucida Console'>)</font>



<font color='#5555FF'>%</font>define <b><a name='define_array_crit_converion'></a>define_array_crit_converion</b><font face='Lucida Console'>(</font>type, java_type<font face='Lucida Console'>)</font>
    <font color='#009900'>// Define array conversions for non-const arrays
</font>    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jtype<font face='Lucida Console'>)</font>       <font face='Lucida Console'>(</font>array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jstype<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font>array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jni<font face='Lucida Console'>)</font>         <font face='Lucida Console'>(</font>array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  <b><a name='tostring'></a>tostring</b><font face='Lucida Console'>(</font>j##java_type##Array<font face='Lucida Console'>)</font>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>javain<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font>array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>$javainput</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>arginit<font face='Lucida Console'>)</font>     <font face='Lucida Console'>(</font>array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  <b>{</b> $1 <font color='#5555FF'>=</font> <font color='#5555FF'>&amp;</font>temp$argnum; <b>}</b>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>in<font face='Lucida Console'>)</font>          <font face='Lucida Console'>(</font>array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font> <font face='Lucida Console'>(</font>java::array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font> temp<font face='Lucida Console'>)</font>  <b>{</b> $1<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font>jenv, $input, <font color='#979000'>true</font><font face='Lucida Console'>)</font>; <b>}</b>

    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jtype<font face='Lucida Console'>)</font>       <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jstype<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>java_type[]</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>jni<font face='Lucida Console'>)</font>         <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  <b><a name='tostring'></a>tostring</b><font face='Lucida Console'>(</font>j##java_type##Array<font face='Lucida Console'>)</font>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>javain<font face='Lucida Console'>)</font>      <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  "<font color='#CC0000'>$javainput</font>"
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>arginit<font face='Lucida Console'>)</font>     <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font>  <b>{</b> $1 <font color='#5555FF'>=</font> <font color='#5555FF'>&amp;</font>temp$argnum; <b>}</b>
    <font color='#5555FF'>%</font><b><a name='typemap'></a>typemap</b><font face='Lucida Console'>(</font>in<font face='Lucida Console'>)</font>          <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font> <font face='Lucida Console'>(</font>java::array_view_crit<font color='#5555FF'>&lt;</font>type<font color='#5555FF'>&gt;</font> temp<font face='Lucida Console'>)</font>  <b>{</b> $1<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>reset</font><font face='Lucida Console'>(</font>jenv, $input, <font color='#979000'>false</font><font face='Lucida Console'>)</font>; <b>}</b>
<font color='#5555FF'>%</font>enddef
<b><a name='define_array_crit_converion'></a>define_array_crit_converion</b><font face='Lucida Console'>(</font>int16_t,<font color='#0000FF'><u>short</u></font><font face='Lucida Console'>)</font>
<b><a name='define_array_crit_converion'></a>define_array_crit_converion</b><font face='Lucida Console'>(</font>int32_t,<font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font>
<b><a name='define_array_crit_converion'></a>define_array_crit_converion</b><font face='Lucida Console'>(</font>int64_t,<font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font>
<b><a name='define_array_crit_converion'></a>define_array_crit_converion</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>char</u></font>,byte<font face='Lucida Console'>)</font>
<b><a name='define_array_crit_converion'></a>define_array_crit_converion</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>float</u></font>,<font color='#0000FF'><u>float</u></font><font face='Lucida Console'>)</font>
<b><a name='define_array_crit_converion'></a>define_array_crit_converion</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>double</u></font>,<font color='#0000FF'><u>double</u></font><font face='Lucida Console'>)</font>

<font color='#0000FF'>#endif</font> <font color='#009900'>// SWIG
</font>
<b>}</b>

<font color='#0000FF'>#endif</font> <font color='#009900'>// DLIB_SWIG_JAVA_ARRAY_H_
</font>

</pre></body></html>