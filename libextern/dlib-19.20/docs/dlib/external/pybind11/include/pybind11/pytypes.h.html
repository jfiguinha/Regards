<html><!-- Created using the cpp_pretty_printer from the dlib C++ library.  See http://dlib.net for updates. --><head><title>dlib C++ Library - pytypes.h</title></head><body bgcolor='white'><pre>
<font color='#009900'>/*
    pybind11/pytypes.h: Convenience wrapper classes for basic Python types

    Copyright (c) 2016 Wenzel Jakob &lt;wenzel.jakob@epfl.ch&gt;

    All rights reserved. Use of this source code is governed by a
    BSD-style license that can be found in the LICENSE file.
*/</font>

<font color='#0000FF'>#pragma</font> once

<font color='#0000FF'>#include</font> "<a style='text-decoration:none' href='detail/common.h.html'>detail/common.h</a>"
<font color='#0000FF'>#include</font> "<a style='text-decoration:none' href='buffer_info.h.html'>buffer_info.h</a>"
<font color='#0000FF'>#include</font> <font color='#5555FF'>&lt;</font>utility<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>#include</font> <font color='#5555FF'>&lt;</font>type_traits<font color='#5555FF'>&gt;</font>

<b><a name='NAMESPACE_BEGIN'></a>NAMESPACE_BEGIN</b><font face='Lucida Console'>(</font>PYBIND11_NAMESPACE<font face='Lucida Console'>)</font>

<font color='#009900'>/* A few forward declarations */</font>
<font color='#0000FF'>class</font> handle; <font color='#0000FF'>class</font> object;
<font color='#0000FF'>class</font> str; <font color='#0000FF'>class</font> iterator;
<font color='#0000FF'>struct</font> arg; <font color='#0000FF'>struct</font> arg_v;

<b><a name='NAMESPACE_BEGIN'></a>NAMESPACE_BEGIN</b><font face='Lucida Console'>(</font>detail<font face='Lucida Console'>)</font>
<font color='#0000FF'>class</font> args_proxy;
<font color='#0000FF'>inline</font> <font color='#0000FF'><u>bool</u></font> <b><a name='isinstance_generic'></a>isinstance_generic</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'>const</font> std::type_info <font color='#5555FF'>&amp;</font>tp<font face='Lucida Console'>)</font>;

<font color='#009900'>// Accessor forward declarations
</font><font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> Policy<font color='#5555FF'>&gt;</font> <font color='#0000FF'>class</font> accessor;
<font color='#0000FF'>namespace</font> accessor_policies <b>{</b>
    <font color='#0000FF'>struct</font> obj_attr;
    <font color='#0000FF'>struct</font> str_attr;
    <font color='#0000FF'>struct</font> generic_item;
    <font color='#0000FF'>struct</font> sequence_item;
    <font color='#0000FF'>struct</font> list_item;
    <font color='#0000FF'>struct</font> tuple_item;
<b>}</b>
<font color='#0000FF'>using</font> obj_attr_accessor <font color='#5555FF'>=</font> accessor<font color='#5555FF'>&lt;</font>accessor_policies::obj_attr<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>using</font> str_attr_accessor <font color='#5555FF'>=</font> accessor<font color='#5555FF'>&lt;</font>accessor_policies::str_attr<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>using</font> item_accessor <font color='#5555FF'>=</font> accessor<font color='#5555FF'>&lt;</font>accessor_policies::generic_item<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>using</font> sequence_accessor <font color='#5555FF'>=</font> accessor<font color='#5555FF'>&lt;</font>accessor_policies::sequence_item<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>using</font> list_accessor <font color='#5555FF'>=</font> accessor<font color='#5555FF'>&lt;</font>accessor_policies::list_item<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>using</font> tuple_accessor <font color='#5555FF'>=</font> accessor<font color='#5555FF'>&lt;</font>accessor_policies::tuple_item<font color='#5555FF'>&gt;</font>;

<font color='#009900'>/// Tag and check to identify a class which implements the Python object API
</font><font color='#0000FF'>class</font> <b><a name='pyobject_tag'></a>pyobject_tag</b> <b>{</b> <b>}</b>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'>using</font> is_pyobject <font color='#5555FF'>=</font> std::is_base_of<font color='#5555FF'>&lt;</font>pyobject_tag, remove_reference_t<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font color='#5555FF'>&gt;</font>;

<font color='#009900'>/** \rst
    A mixin class which adds common functions to `handle`, `object` and various accessors.
    The only requirement for `Derived` is to implement ``PyObject *Derived::ptr() const``.
\endrst */</font>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> Derived<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>class</font> <b><a name='object_api'></a>object_api</b> : <font color='#0000FF'>public</font> pyobject_tag <b>{</b>
    <font color='#0000FF'>const</font> Derived <font color='#5555FF'>&amp;</font><b><a name='derived'></a>derived</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'>const</font> Derived <font color='#5555FF'>&amp;</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#5555FF'>*</font><font color='#0000FF'>this</font><font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>public</font>:
    <font color='#009900'>/** \rst
        Return an iterator equivalent to calling ``iter()`` in Python. The object
        must be a collection which supports the iteration protocol.
    \endrst */</font>
    iterator <b><a name='begin'></a>begin</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;
    <font color='#009900'>/// Return a sentinel which ends iteration.
</font>    iterator <b><a name='end'></a>end</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;

    <font color='#009900'>/** \rst
        Return an internal functor to invoke the object's sequence protocol. Casting
        the returned ``detail::item_accessor`` instance to a `handle` or `object`
        subclass causes a corresponding call to ``__getitem__``. Assigning a `handle`
        or `object` subclass causes a call to ``__setitem__``.
    \endrst */</font>
    item_accessor <b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font>handle key<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;
    <font color='#009900'>/// See above (the only difference is that they key is provided as a string literal)
</font>    item_accessor <b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>key<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;

    <font color='#009900'>/** \rst
        Return an internal functor to access the object's attributes. Casting the
        returned ``detail::obj_attr_accessor`` instance to a `handle` or `object`
        subclass causes a corresponding call to ``getattr``. Assigning a `handle`
        or `object` subclass causes a call to ``setattr``.
    \endrst */</font>
    obj_attr_accessor <b><a name='attr'></a>attr</b><font face='Lucida Console'>(</font>handle key<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;
    <font color='#009900'>/// See above (the only difference is that they key is provided as a string literal)
</font>    str_attr_accessor <b><a name='attr'></a>attr</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>key<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;

    <font color='#009900'>/** \rst
        Matches * unpacking in Python, e.g. to unpack arguments out of a ``tuple``
        or ``list`` for a function call. Applying another * to the result yields
        ** unpacking, e.g. to unpack a dict as function keyword arguments.
        See :ref:`calling_python_functions`.
    \endrst */</font>
    args_proxy <b><a name='operator'></a>operator</b><font color='#5555FF'>*</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;

    <font color='#009900'>/// Check if the given item is contained within this object, i.e. ``item in obj``.
</font>    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'><u>bool</u></font> <b><a name='contains'></a>contains</b><font face='Lucida Console'>(</font>T <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>item<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;

    <font color='#009900'>/** \rst
        Assuming the Python object is a function or implements the ``__call__``
        protocol, ``operator()`` invokes the underlying function, passing an
        arbitrary set of parameters. The result is returned as a `object` and
        may need to be converted back into a Python object using `handle::cast()`.

        When some of the arguments cannot be converted to Python objects, the
        function will throw a `cast_error` exception. When the Python function
        call fails, a `error_already_set` exception is thrown.
    \endrst */</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>return_value_policy policy <font color='#5555FF'>=</font> return_value_policy::automatic_reference, <font color='#0000FF'>typename</font>... Args<font color='#5555FF'>&gt;</font>
    object <b><a name='operator'></a>operator</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>(</font>Args <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>...args<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>return_value_policy policy <font color='#5555FF'>=</font> return_value_policy::automatic_reference, <font color='#0000FF'>typename</font>... Args<font color='#5555FF'>&gt;</font>
    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>call(...) was deprecated in favor of operator()(...)</font>"<font face='Lucida Console'>)</font>
        object <b><a name='call'></a>call</b><font face='Lucida Console'>(</font>Args<font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>... args<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;

    <font color='#009900'>/// Equivalent to ``obj is other`` in Python.
</font>    <font color='#0000FF'><u>bool</u></font> <b><a name='is'></a>is</b><font face='Lucida Console'>(</font>object_api <font color='#0000FF'>const</font><font color='#5555FF'>&amp;</font> other<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> other.<font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#009900'>/// Equivalent to ``obj is None`` in Python.
</font>    <font color='#0000FF'><u>bool</u></font> <b><a name='is_none'></a>is_none</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> Py_None; <b>}</b>
    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use py::str(obj) instead</font>"<font face='Lucida Console'>)</font>
    pybind11::str <b><a name='str'></a>str</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;

    <font color='#009900'>/// Get or set the object's docstring, i.e. ``obj.__doc__``.
</font>    str_attr_accessor <b><a name='doc'></a>doc</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;

    <font color='#009900'>/// Return the object's current reference count
</font>    <font color='#0000FF'><u>int</u></font> <b><a name='ref_count'></a>ref_count</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>Py_REFCNT</font><font face='Lucida Console'>(</font><font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#009900'>/// Return a handle to the Python type object underlying the instance
</font>    handle <b><a name='get_type'></a>get_type</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;
<b>}</b>;

<b><a name='NAMESPACE_END'></a>NAMESPACE_END</b><font face='Lucida Console'>(</font>detail<font face='Lucida Console'>)</font>

<font color='#009900'>/** \rst
    Holds a reference to a Python object (no reference counting)

    The `handle` class is a thin wrapper around an arbitrary Python object (i.e. a
    ``PyObject *`` in Python's C API). It does not perform any automatic reference
    counting and merely provides a basic C++ interface to various Python API functions.

    .. seealso::
        The `object` class inherits from `handle` and adds automatic reference
        counting features.
\endrst */</font>
<font color='#0000FF'>class</font> <b><a name='handle'></a>handle</b> : <font color='#0000FF'>public</font> detail::object_api<font color='#5555FF'>&lt;</font>handle<font color='#5555FF'>&gt;</font> <b>{</b>
<font color='#0000FF'>public</font>:
    <font color='#009900'>/// The default constructor creates a handle with a ``nullptr``-valued pointer
</font>    <b><a name='handle'></a>handle</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> <font color='#0000FF'>default</font>;
    <font color='#009900'>/// Creates a ``handle`` from the given raw Python object pointer
</font>    <b><a name='handle'></a>handle</b><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>ptr<font face='Lucida Console'>)</font> : m_ptr<font face='Lucida Console'>(</font>ptr<font face='Lucida Console'>)</font> <b>{</b> <b>}</b> <font color='#009900'>// Allow implicit conversion from PyObject*
</font>
    <font color='#009900'>/// Return the underlying ``PyObject *`` pointer
</font>    PyObject <font color='#5555FF'>*</font><b><a name='ptr'></a>ptr</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> m_ptr; <b>}</b>
    PyObject <font color='#5555FF'>*</font><font color='#5555FF'>&amp;</font><b><a name='ptr'></a>ptr</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> m_ptr; <b>}</b>

    <font color='#009900'>/** \rst
        Manually increase the reference count of the Python object. Usually, it is
        preferable to use the `object` class which derives from `handle` and calls
        this function automatically. Returns a reference to itself.
    \endrst */</font>
    <font color='#0000FF'>const</font> handle<font color='#5555FF'>&amp;</font> <b><a name='inc_ref'></a>inc_ref</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <font color='#5555FF'>&amp;</font> <b>{</b> <font color='#BB00BB'>Py_XINCREF</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>; <b>}</b>

    <font color='#009900'>/** \rst
        Manually decrease the reference count of the Python object. Usually, it is
        preferable to use the `object` class which derives from `handle` and calls
        this function automatically. Returns a reference to itself.
    \endrst */</font>
    <font color='#0000FF'>const</font> handle<font color='#5555FF'>&amp;</font> <b><a name='dec_ref'></a>dec_ref</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <font color='#5555FF'>&amp;</font> <b>{</b> <font color='#BB00BB'>Py_XDECREF</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>; <b>}</b>

    <font color='#009900'>/** \rst
        Attempt to cast the Python object into the given C++ type. A `cast_error`
        will be throw upon failure.
    \endrst */</font>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> T <b><a name='cast'></a>cast</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font>;
    <font color='#009900'>/// Return ``true`` when the `handle` wraps a valid Python object
</font>    <font color='#0000FF'>explicit</font> <b><a name='operator'></a>operator</b> <font color='#0000FF'><u>bool</u></font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> m_ptr <font color='#5555FF'>!</font><font color='#5555FF'>=</font> nullptr; <b>}</b>
    <font color='#009900'>/** \rst
        Deprecated: Check that the underlying pointers are the same.
        Equivalent to ``obj1 is obj2`` in Python.
    \endrst */</font>
    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use obj1.is(obj2) instead</font>"<font face='Lucida Console'>)</font>
    <font color='#0000FF'><u>bool</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> handle <font color='#5555FF'>&amp;</font>h<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> m_ptr <font color='#5555FF'>=</font><font color='#5555FF'>=</font> h.m_ptr; <b>}</b>
    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use !obj1.is(obj2) instead</font>"<font face='Lucida Console'>)</font>
    <font color='#0000FF'><u>bool</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>!</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> handle <font color='#5555FF'>&amp;</font>h<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> m_ptr <font color='#5555FF'>!</font><font color='#5555FF'>=</font> h.m_ptr; <b>}</b>
    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use handle::operator bool() instead</font>"<font face='Lucida Console'>)</font>
    <font color='#0000FF'><u>bool</u></font> <b><a name='check'></a>check</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> m_ptr <font color='#5555FF'>!</font><font color='#5555FF'>=</font> nullptr; <b>}</b>
<font color='#0000FF'>protected</font>:
    PyObject <font color='#5555FF'>*</font>m_ptr <font color='#5555FF'>=</font> nullptr;
<b>}</b>;

<font color='#009900'>/** \rst
    Holds a reference to a Python object (with reference counting)

    Like `handle`, the `object` class is a thin wrapper around an arbitrary Python
    object (i.e. a ``PyObject *`` in Python's C API). In contrast to `handle`, it
    optionally increases the object's reference count upon construction, and it
    *always* decreases the reference count when the `object` instance goes out of
    scope and is destructed. When using `object` instances consistently, it is much
    easier to get reference counting right at the first attempt.
\endrst */</font>
<font color='#0000FF'>class</font> <b><a name='object'></a>object</b> : <font color='#0000FF'>public</font> handle <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='object'></a>object</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> <font color='#0000FF'>default</font>;
    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use reinterpret_borrow&lt;object&gt;() or reinterpret_steal&lt;object&gt;()</font>"<font face='Lucida Console'>)</font>
    <b><a name='object'></a>object</b><font face='Lucida Console'>(</font>handle h, <font color='#0000FF'><u>bool</u></font> is_borrowed<font face='Lucida Console'>)</font> : handle<font face='Lucida Console'>(</font>h<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>is_borrowed<font face='Lucida Console'>)</font> <font color='#BB00BB'>inc_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#009900'>/// Copy constructor; always increases the reference count
</font>    <b><a name='object'></a>object</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> object <font color='#5555FF'>&amp;</font>o<font face='Lucida Console'>)</font> : handle<font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font> <b>{</b> <font color='#BB00BB'>inc_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#009900'>/// Move constructor; steals the object from ``other`` and preserves its reference count
</font>    <b><a name='object'></a>object</b><font face='Lucida Console'>(</font>object <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>other<font face='Lucida Console'>)</font> noexcept <b>{</b> m_ptr <font color='#5555FF'>=</font> other.m_ptr; other.m_ptr <font color='#5555FF'>=</font> nullptr; <b>}</b>
    <font color='#009900'>/// Destructor; automatically calls `handle::dec_ref()`
</font>    ~<b><a name='object'></a>object</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#BB00BB'>dec_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>

    <font color='#009900'>/** \rst
        Resets the internal pointer to ``nullptr`` without without decreasing the
        object's reference count. The function returns a raw handle to the original
        Python object.
    \endrst */</font>
    handle <b><a name='release'></a>release</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b>
      PyObject <font color='#5555FF'>*</font>tmp <font color='#5555FF'>=</font> m_ptr;
      m_ptr <font color='#5555FF'>=</font> nullptr;
      <font color='#0000FF'>return</font> <font color='#BB00BB'>handle</font><font face='Lucida Console'>(</font>tmp<font face='Lucida Console'>)</font>;
    <b>}</b>

    object<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> object <font color='#5555FF'>&amp;</font>other<font face='Lucida Console'>)</font> <b>{</b>
        other.<font color='#BB00BB'>inc_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <font color='#BB00BB'>dec_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        m_ptr <font color='#5555FF'>=</font> other.m_ptr;
        <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>;
    <b>}</b>

    object<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font face='Lucida Console'>(</font>object <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>other<font face='Lucida Console'>)</font> noexcept <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#0000FF'>this</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#5555FF'>&amp;</font>other<font face='Lucida Console'>)</font> <b>{</b>
            handle <font color='#BB00BB'>temp</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>;
            m_ptr <font color='#5555FF'>=</font> other.m_ptr;
            other.m_ptr <font color='#5555FF'>=</font> nullptr;
            temp.<font color='#BB00BB'>dec_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>;
    <b>}</b>

    <font color='#009900'>// Calling cast() on an object lvalue just copies (via handle::cast)
</font>    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> T <b><a name='cast'></a>cast</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <font color='#5555FF'>&amp;</font>;
    <font color='#009900'>// Calling on an object rvalue does a move, if needed and/or possible
</font>    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> T <b><a name='cast'></a>cast</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>;

<font color='#0000FF'>protected</font>:
    <font color='#009900'>// Tags for choosing constructors from raw PyObject *
</font>    <font color='#0000FF'>struct</font> <b><a name='borrowed_t'></a>borrowed_t</b> <b>{</b> <b>}</b>;
    <font color='#0000FF'>struct</font> <b><a name='stolen_t'></a>stolen_t</b> <b>{</b> <b>}</b>;

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'>friend</font> T <b><a name='reinterpret_borrow'></a>reinterpret_borrow</b><font face='Lucida Console'>(</font>handle<font face='Lucida Console'>)</font>;
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'>friend</font> T <b><a name='reinterpret_steal'></a>reinterpret_steal</b><font face='Lucida Console'>(</font>handle<font face='Lucida Console'>)</font>;

<font color='#0000FF'>public</font>:
    <font color='#009900'>// Only accessible from derived classes and the reinterpret_* functions
</font>    <b><a name='object'></a>object</b><font face='Lucida Console'>(</font>handle h, borrowed_t<font face='Lucida Console'>)</font> : handle<font face='Lucida Console'>(</font>h<font face='Lucida Console'>)</font> <b>{</b> <font color='#BB00BB'>inc_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <b><a name='object'></a>object</b><font face='Lucida Console'>(</font>handle h, stolen_t<font face='Lucida Console'>)</font> : handle<font face='Lucida Console'>(</font>h<font face='Lucida Console'>)</font> <b>{</b> <b>}</b>
<b>}</b>;

<font color='#009900'>/** \rst
    Declare that a `handle` or ``PyObject *`` is a certain type and borrow the reference.
    The target type ``T`` must be `object` or one of its derived classes. The function
    doesn't do any conversions or checks. It's up to the user to make sure that the
    target type is correct.

    .. code-block:: cpp

        PyObject *p = PyList_GetItem(obj, index);
        py::object o = reinterpret_borrow&lt;py::object&gt;(p);
        // or
        py::tuple t = reinterpret_borrow&lt;py::tuple&gt;(p); // &lt;-- `p` must be already be a `tuple`
\endrst */</font>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> T <b><a name='reinterpret_borrow'></a>reinterpret_borrow</b><font face='Lucida Console'>(</font>handle h<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b>h, object::borrowed_t<b>{</b><b>}</b><b>}</b>; <b>}</b>

<font color='#009900'>/** \rst
    Like `reinterpret_borrow`, but steals the reference.

     .. code-block:: cpp

        PyObject *p = PyObject_Str(obj);
        py::str s = reinterpret_steal&lt;py::str&gt;(p); // &lt;-- `p` must be already be a `str`
\endrst */</font>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> T <b><a name='reinterpret_steal'></a>reinterpret_steal</b><font face='Lucida Console'>(</font>handle h<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b>h, object::stolen_t<b>{</b><b>}</b><b>}</b>; <b>}</b>

<b><a name='NAMESPACE_BEGIN'></a>NAMESPACE_BEGIN</b><font face='Lucida Console'>(</font>detail<font face='Lucida Console'>)</font>
<font color='#0000FF'>inline</font> std::string <b><a name='error_string'></a>error_string</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
<b><a name='NAMESPACE_END'></a>NAMESPACE_END</b><font face='Lucida Console'>(</font>detail<font face='Lucida Console'>)</font>

<font color='#009900'>/// Fetch and hold an error which was already set in Python.  An instance of this is typically
</font><font color='#009900'>/// thrown to propagate python-side errors back through C++ which can either be caught manually or
</font><font color='#009900'>/// else falls back to the function dispatcher (which then raises the captured error back to
</font><font color='#009900'>/// python).
</font><font color='#0000FF'>class</font> <b><a name='error_already_set'></a>error_already_set</b> : <font color='#0000FF'>public</font> std::runtime_error <b>{</b>
<font color='#0000FF'>public</font>:
    <font color='#009900'>/// Constructs a new exception from the current Python error indicator, if any.  The current
</font>    <font color='#009900'>/// Python error indicator will be cleared.
</font>    <b><a name='error_already_set'></a>error_already_set</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> : std::runtime_error<font face='Lucida Console'>(</font>detail::error_string<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#BB00BB'>PyErr_Fetch</font><font face='Lucida Console'>(</font><font color='#5555FF'>&amp;</font>type.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#5555FF'>&amp;</font>value.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#5555FF'>&amp;</font>trace.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>inline</font> ~<b><a name='error_already_set'></a>error_already_set</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;

    <font color='#009900'>/// Give the currently-held error back to Python, if any.  If there is currently a Python error
</font>    <font color='#009900'>/// already set it is cleared first.  After this call, the current object no longer stores the
</font>    <font color='#009900'>/// error variables (but the `.what()` string is still available).
</font>    <font color='#0000FF'><u>void</u></font> <b><a name='restore'></a>restore</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#BB00BB'>PyErr_Restore</font><font face='Lucida Console'>(</font>type.<font color='#BB00BB'>release</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, value.<font color='#BB00BB'>release</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, trace.<font color='#BB00BB'>release</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>

    <font color='#009900'>// Does nothing; provided for backwards compatibility.
</font>    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use of error_already_set.clear() is deprecated</font>"<font face='Lucida Console'>)</font>
    <font color='#0000FF'><u>void</u></font> <b><a name='clear'></a>clear</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b><b>}</b>

    <font color='#009900'>/// Check if the currently trapped error type matches the given Python exception class (or a
</font>    <font color='#009900'>/// subclass thereof).  May also be passed a tuple to search for any exception class matches in
</font>    <font color='#009900'>/// the given tuple.
</font>    <font color='#0000FF'><u>bool</u></font> <b><a name='matches'></a>matches</b><font face='Lucida Console'>(</font>handle ex<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>PyErr_GivenExceptionMatches</font><font face='Lucida Console'>(</font>ex.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, type.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>private</font>:
    object type, value, trace;
<b>}</b>;

<font color='#009900'>/** \defgroup python_builtins _
    Unless stated otherwise, the following C++ functions behave the same
    as their Python counterparts.
 */</font>

<font color='#009900'>/** \ingroup python_builtins
    \rst
    Return true if ``obj`` is an instance of ``T``. Type ``T`` must be a subclass of
    `object` or a class which was exposed to Python as ``py::class_&lt;T&gt;``.
\endrst */</font>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T, detail::enable_if_t<font color='#5555FF'>&lt;</font>std::is_base_of<font color='#5555FF'>&lt;</font>object, T<font color='#5555FF'>&gt;</font>::value, <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font> <font color='#5555FF'>=</font> <font color='#979000'>0</font><font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>bool</u></font> <b><a name='isinstance'></a>isinstance</b><font face='Lucida Console'>(</font>handle obj<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> T::<font color='#BB00BB'>check_</font><font face='Lucida Console'>(</font>obj<font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T, detail::enable_if_t<font color='#5555FF'>&lt;</font><font color='#5555FF'>!</font>std::is_base_of<font color='#5555FF'>&lt;</font>object, T<font color='#5555FF'>&gt;</font>::value, <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font> <font color='#5555FF'>=</font> <font color='#979000'>0</font><font color='#5555FF'>&gt;</font>
<font color='#0000FF'><u>bool</u></font> <b><a name='isinstance'></a>isinstance</b><font face='Lucida Console'>(</font>handle obj<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> detail::<font color='#BB00BB'>isinstance_generic</font><font face='Lucida Console'>(</font>obj, <font color='#0000FF'>typeid</font><font face='Lucida Console'>(</font>T<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>inline</font> <font color='#0000FF'><u>bool</u></font> isinstance<font color='#5555FF'>&lt;</font>handle<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>handle obj<font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> <font color='#0000FF'>delete</font>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font> <font color='#0000FF'>inline</font> <font color='#0000FF'><u>bool</u></font> isinstance<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>handle obj<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> nullptr; <b>}</b>

<font color='#009900'>/// \ingroup python_builtins
</font><font color='#009900'>/// Return true if ``obj`` is an instance of the ``type``.
</font><font color='#0000FF'>inline</font> <font color='#0000FF'><u>bool</u></font> <b><a name='isinstance'></a>isinstance</b><font face='Lucida Console'>(</font>handle obj, handle type<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'>const</font> <font color='#0000FF'>auto</font> result <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_IsInstance</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, type.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>result <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#5555FF'>-</font><font color='#979000'>1</font><font face='Lucida Console'>)</font>
        <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
    <font color='#0000FF'>return</font> result <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font>;
<b>}</b>

<font color='#009900'>/// \addtogroup python_builtins
</font><font color='#009900'>/// @{
</font><font color='#0000FF'>inline</font> <font color='#0000FF'><u>bool</u></font> <b><a name='hasattr'></a>hasattr</b><font face='Lucida Console'>(</font>handle obj, handle name<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'>return</font> <font color='#BB00BB'>PyObject_HasAttr</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, name.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#979000'>1</font>;
<b>}</b>

<font color='#0000FF'>inline</font> <font color='#0000FF'><u>bool</u></font> <b><a name='hasattr'></a>hasattr</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>name<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'>return</font> <font color='#BB00BB'>PyObject_HasAttrString</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, name<font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#979000'>1</font>;
<b>}</b>

<font color='#0000FF'>inline</font> object <b><a name='getattr'></a>getattr</b><font face='Lucida Console'>(</font>handle obj, handle name<font face='Lucida Console'>)</font> <b>{</b>
    PyObject <font color='#5555FF'>*</font>result <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_GetAttr</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, name.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>result<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>return</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>result<font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#0000FF'>inline</font> object <b><a name='getattr'></a>getattr</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>name<font face='Lucida Console'>)</font> <b>{</b>
    PyObject <font color='#5555FF'>*</font>result <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_GetAttrString</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, name<font face='Lucida Console'>)</font>;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>result<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>return</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>result<font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#0000FF'>inline</font> object <b><a name='getattr'></a>getattr</b><font face='Lucida Console'>(</font>handle obj, handle name, handle default_<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>result <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_GetAttr</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, name.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>return</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>result<font face='Lucida Console'>)</font>;
    <b>}</b> <font color='#0000FF'>else</font> <b>{</b>
        <font color='#BB00BB'>PyErr_Clear</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> reinterpret_borrow<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>default_<font face='Lucida Console'>)</font>;
    <b>}</b>
<b>}</b>

<font color='#0000FF'>inline</font> object <b><a name='getattr'></a>getattr</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>name, handle default_<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>result <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_GetAttrString</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, name<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>return</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>result<font face='Lucida Console'>)</font>;
    <b>}</b> <font color='#0000FF'>else</font> <b>{</b>
        <font color='#BB00BB'>PyErr_Clear</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> reinterpret_borrow<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>default_<font face='Lucida Console'>)</font>;
    <b>}</b>
<b>}</b>

<font color='#0000FF'>inline</font> <font color='#0000FF'><u>void</u></font> <b><a name='setattr'></a>setattr</b><font face='Lucida Console'>(</font>handle obj, handle name, handle value<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyObject_SetAttr</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, name.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, value.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
<b>}</b>

<font color='#0000FF'>inline</font> <font color='#0000FF'><u>void</u></font> <b><a name='setattr'></a>setattr</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>name, handle value<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyObject_SetAttrString</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, name, value.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
<b>}</b>

<font color='#0000FF'>inline</font> ssize_t <b><a name='hash'></a>hash</b><font face='Lucida Console'>(</font>handle obj<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'>auto</font> h <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_Hash</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>h <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#5555FF'>-</font><font color='#979000'>1</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>return</font> h;
<b>}</b>

<font color='#009900'>/// @} python_builtins
</font>
<b><a name='NAMESPACE_BEGIN'></a>NAMESPACE_BEGIN</b><font face='Lucida Console'>(</font>detail<font face='Lucida Console'>)</font>
<font color='#0000FF'>inline</font> handle <b><a name='get_function'></a>get_function</b><font face='Lucida Console'>(</font>handle value<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>value<font face='Lucida Console'>)</font> <b>{</b>
<font color='#0000FF'>#if</font> PY_MAJOR_VERSION <font color='#5555FF'>&gt;</font><font color='#5555FF'>=</font> <font color='#979000'>3</font>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyInstanceMethod_Check</font><font face='Lucida Console'>(</font>value.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            value <font color='#5555FF'>=</font> <font color='#BB00BB'>PyInstanceMethod_GET_FUNCTION</font><font face='Lucida Console'>(</font>value.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>else</font>
<font color='#0000FF'>#endif</font>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyMethod_Check</font><font face='Lucida Console'>(</font>value.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            value <font color='#5555FF'>=</font> <font color='#BB00BB'>PyMethod_GET_FUNCTION</font><font face='Lucida Console'>(</font>value.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>
    <font color='#0000FF'>return</font> value;
<b>}</b>

<font color='#009900'>// Helper aliases/functions to support implicit casting of values given to python accessors/methods.
</font><font color='#009900'>// When given a pyobject, this simply returns the pyobject as-is; for other C++ type, the value goes
</font><font color='#009900'>// through pybind11::cast(obj) to convert it to an `object`.
</font><font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T, enable_if_t<font color='#5555FF'>&lt;</font>is_pyobject<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value, <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font> <font color='#5555FF'>=</font> <font color='#979000'>0</font><font color='#5555FF'>&gt;</font>
<font color='#0000FF'>auto</font> <b><a name='object_or_cast'></a>object_or_cast</b><font face='Lucida Console'>(</font>T <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>o<font face='Lucida Console'>)</font> <font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font> <b><a name='decltype'></a>decltype</b><font face='Lucida Console'>(</font>std::forward<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> std::forward<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font>; <b>}</b>
<font color='#009900'>// The following casting version is implemented in cast.h:
</font><font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T, enable_if_t<font color='#5555FF'>&lt;</font><font color='#5555FF'>!</font>is_pyobject<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value, <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font> <font color='#5555FF'>=</font> <font color='#979000'>0</font><font color='#5555FF'>&gt;</font>
object <b><a name='object_or_cast'></a>object_or_cast</b><font face='Lucida Console'>(</font>T <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>o<font face='Lucida Console'>)</font>;
<font color='#009900'>// Match a PyObject*, which we want to convert directly to handle via its converting constructor
</font><font color='#0000FF'>inline</font> handle <b><a name='object_or_cast'></a>object_or_cast</b><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>ptr<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> ptr; <b>}</b>


<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> Policy<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>class</font> <b><a name='accessor'></a>accessor</b> : <font color='#0000FF'>public</font> object_api<font color='#5555FF'>&lt;</font>accessor<font color='#5555FF'>&lt;</font>Policy<font color='#5555FF'>&gt;</font><font color='#5555FF'>&gt;</font> <b>{</b>
    <font color='#0000FF'>using</font> key_type <font color='#5555FF'>=</font> <font color='#0000FF'>typename</font> Policy::key_type;

<font color='#0000FF'>public</font>:
    <b><a name='accessor'></a>accessor</b><font face='Lucida Console'>(</font>handle obj, key_type key<font face='Lucida Console'>)</font> : obj<font face='Lucida Console'>(</font>obj<font face='Lucida Console'>)</font>, key<font face='Lucida Console'>(</font>std::move<font face='Lucida Console'>(</font>key<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>
    <b><a name='accessor'></a>accessor</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> accessor <font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> <font color='#0000FF'>default</font>;
    <b><a name='accessor'></a>accessor</b><font face='Lucida Console'>(</font>accessor <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> <font color='#0000FF'>default</font>;

    <font color='#009900'>// accessor overload required to override default assignment operator (templates are not allowed
</font>    <font color='#009900'>// to replace default compiler-generated assignments).
</font>    <font color='#0000FF'><u>void</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> accessor <font color='#5555FF'>&amp;</font>a<font face='Lucida Console'>)</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <b>{</b> std::<font color='#BB00BB'>move</font><font face='Lucida Console'>(</font><font color='#5555FF'>*</font><font color='#0000FF'>this</font><font face='Lucida Console'>)</font>.<font color='#0000FF'>operator</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#BB00BB'>handle</font><font face='Lucida Console'>(</font>a<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'><u>void</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> accessor <font color='#5555FF'>&amp;</font>a<font face='Lucida Console'>)</font> <font color='#5555FF'>&amp;</font> <b>{</b> <font color='#0000FF'>operator</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#BB00BB'>handle</font><font face='Lucida Console'>(</font>a<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'><u>void</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font face='Lucida Console'>(</font>T <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>value<font face='Lucida Console'>)</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <b>{</b>
        Policy::<font color='#BB00BB'>set</font><font face='Lucida Console'>(</font>obj, key, <font color='#BB00BB'>object_or_cast</font><font face='Lucida Console'>(</font>std::forward<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>value<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'><u>void</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font face='Lucida Console'>(</font>T <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>value<font face='Lucida Console'>)</font> <font color='#5555FF'>&amp;</font> <b>{</b>
        <font color='#BB00BB'>get_cache</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> reinterpret_borrow<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>object_or_cast</font><font face='Lucida Console'>(</font>std::forward<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>value<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T <font color='#5555FF'>=</font> Policy<font color='#5555FF'>&gt;</font>
    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use of obj.attr(...) as bool is deprecated in favor of pybind11::hasattr(obj, ...)</font>"<font face='Lucida Console'>)</font>
    <font color='#0000FF'>explicit</font> <b><a name='operator'></a>operator</b> enable_if_t<font color='#5555FF'>&lt;</font>std::is_same<font color='#5555FF'>&lt;</font>T, accessor_policies::str_attr<font color='#5555FF'>&gt;</font>::value <font color='#5555FF'>|</font><font color='#5555FF'>|</font>
            std::is_same<font color='#5555FF'>&lt;</font>T, accessor_policies::obj_attr<font color='#5555FF'>&gt;</font>::value, <font color='#0000FF'><u>bool</u></font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#0000FF'>return</font> <font color='#BB00BB'>hasattr</font><font face='Lucida Console'>(</font>obj, key<font face='Lucida Console'>)</font>;
    <b>}</b>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T <font color='#5555FF'>=</font> Policy<font color='#5555FF'>&gt;</font>
    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use of obj[key] as bool is deprecated in favor of obj.contains(key)</font>"<font face='Lucida Console'>)</font>
    <font color='#0000FF'>explicit</font> <b><a name='operator'></a>operator</b> enable_if_t<font color='#5555FF'>&lt;</font>std::is_same<font color='#5555FF'>&lt;</font>T, accessor_policies::generic_item<font color='#5555FF'>&gt;</font>::value, <font color='#0000FF'><u>bool</u></font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#0000FF'>return</font> obj.<font color='#BB00BB'>contains</font><font face='Lucida Console'>(</font>key<font face='Lucida Console'>)</font>;
    <b>}</b>

    <b><a name='operator'></a>operator</b> <b><a name='object'></a>object</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>get_cache</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    PyObject <font color='#5555FF'>*</font><b><a name='ptr'></a>ptr</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>get_cache</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> T <b><a name='cast'></a>cast</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>get_cache</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#0000FF'>template</font> cast<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>private</font>:
    object <font color='#5555FF'>&amp;</font><b><a name='get_cache'></a>get_cache</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>cache<font face='Lucida Console'>)</font> <b>{</b> cache <font color='#5555FF'>=</font> Policy::<font color='#BB00BB'>get</font><font face='Lucida Console'>(</font>obj, key<font face='Lucida Console'>)</font>; <b>}</b>
        <font color='#0000FF'>return</font> cache;
    <b>}</b>

<font color='#0000FF'>private</font>:
    handle obj;
    key_type key;
    <font color='#0000FF'>mutable</font> object cache;
<b>}</b>;

<b><a name='NAMESPACE_BEGIN'></a>NAMESPACE_BEGIN</b><font face='Lucida Console'>(</font>accessor_policies<font face='Lucida Console'>)</font>
<font color='#0000FF'>struct</font> <b><a name='obj_attr'></a>obj_attr</b> <b>{</b>
    <font color='#0000FF'>using</font> key_type <font color='#5555FF'>=</font> object;
    <font color='#0000FF'>static</font> object <b><a name='get'></a>get</b><font face='Lucida Console'>(</font>handle obj, handle key<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>getattr</font><font face='Lucida Console'>(</font>obj, key<font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>static</font> <font color='#0000FF'><u>void</u></font> <b><a name='set'></a>set</b><font face='Lucida Console'>(</font>handle obj, handle key, handle val<font face='Lucida Console'>)</font> <b>{</b> <font color='#BB00BB'>setattr</font><font face='Lucida Console'>(</font>obj, key, val<font face='Lucida Console'>)</font>; <b>}</b>
<b>}</b>;

<font color='#0000FF'>struct</font> <b><a name='str_attr'></a>str_attr</b> <b>{</b>
    <font color='#0000FF'>using</font> key_type <font color='#5555FF'>=</font> <font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>;
    <font color='#0000FF'>static</font> object <b><a name='get'></a>get</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>key<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>getattr</font><font face='Lucida Console'>(</font>obj, key<font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>static</font> <font color='#0000FF'><u>void</u></font> <b><a name='set'></a>set</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>key, handle val<font face='Lucida Console'>)</font> <b>{</b> <font color='#BB00BB'>setattr</font><font face='Lucida Console'>(</font>obj, key, val<font face='Lucida Console'>)</font>; <b>}</b>
<b>}</b>;

<font color='#0000FF'>struct</font> <b><a name='generic_item'></a>generic_item</b> <b>{</b>
    <font color='#0000FF'>using</font> key_type <font color='#5555FF'>=</font> object;

    <font color='#0000FF'>static</font> object <b><a name='get'></a>get</b><font face='Lucida Console'>(</font>handle obj, handle key<font face='Lucida Console'>)</font> <b>{</b>
        PyObject <font color='#5555FF'>*</font>result <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_GetItem</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, key.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>result<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
        <font color='#0000FF'>return</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>result<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>static</font> <font color='#0000FF'><u>void</u></font> <b><a name='set'></a>set</b><font face='Lucida Console'>(</font>handle obj, handle key, handle val<font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyObject_SetItem</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, key.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, val.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <b>}</b>
<b>}</b>;

<font color='#0000FF'>struct</font> <b><a name='sequence_item'></a>sequence_item</b> <b>{</b>
    <font color='#0000FF'>using</font> key_type <font color='#5555FF'>=</font> <font color='#0000FF'><u>size_t</u></font>;

    <font color='#0000FF'>static</font> object <b><a name='get'></a>get</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'><u>size_t</u></font> index<font face='Lucida Console'>)</font> <b>{</b>
        PyObject <font color='#5555FF'>*</font>result <font color='#5555FF'>=</font> <font color='#BB00BB'>PySequence_GetItem</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font>ssize_t<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>index<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>result<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
        <font color='#0000FF'>return</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>result<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>static</font> <font color='#0000FF'><u>void</u></font> <b><a name='set'></a>set</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'><u>size_t</u></font> index, handle val<font face='Lucida Console'>)</font> <b>{</b>
        <font color='#009900'>// PySequence_SetItem does not steal a reference to 'val'
</font>        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PySequence_SetItem</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font>ssize_t<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>index<font face='Lucida Console'>)</font>, val.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font> <b>{</b>
            <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <b>}</b>
    <b>}</b>
<b>}</b>;

<font color='#0000FF'>struct</font> <b><a name='list_item'></a>list_item</b> <b>{</b>
    <font color='#0000FF'>using</font> key_type <font color='#5555FF'>=</font> <font color='#0000FF'><u>size_t</u></font>;

    <font color='#0000FF'>static</font> object <b><a name='get'></a>get</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'><u>size_t</u></font> index<font face='Lucida Console'>)</font> <b>{</b>
        PyObject <font color='#5555FF'>*</font>result <font color='#5555FF'>=</font> <font color='#BB00BB'>PyList_GetItem</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font>ssize_t<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>index<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>result<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
        <font color='#0000FF'>return</font> reinterpret_borrow<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>result<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>static</font> <font color='#0000FF'><u>void</u></font> <b><a name='set'></a>set</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'><u>size_t</u></font> index, handle val<font face='Lucida Console'>)</font> <b>{</b>
        <font color='#009900'>// PyList_SetItem steals a reference to 'val'
</font>        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyList_SetItem</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font>ssize_t<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>index<font face='Lucida Console'>)</font>, val.<font color='#BB00BB'>inc_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font> <b>{</b>
            <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <b>}</b>
    <b>}</b>
<b>}</b>;

<font color='#0000FF'>struct</font> <b><a name='tuple_item'></a>tuple_item</b> <b>{</b>
    <font color='#0000FF'>using</font> key_type <font color='#5555FF'>=</font> <font color='#0000FF'><u>size_t</u></font>;

    <font color='#0000FF'>static</font> object <b><a name='get'></a>get</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'><u>size_t</u></font> index<font face='Lucida Console'>)</font> <b>{</b>
        PyObject <font color='#5555FF'>*</font>result <font color='#5555FF'>=</font> <font color='#BB00BB'>PyTuple_GetItem</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font>ssize_t<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>index<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>result<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
        <font color='#0000FF'>return</font> reinterpret_borrow<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>result<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>static</font> <font color='#0000FF'><u>void</u></font> <b><a name='set'></a>set</b><font face='Lucida Console'>(</font>handle obj, <font color='#0000FF'><u>size_t</u></font> index, handle val<font face='Lucida Console'>)</font> <b>{</b>
        <font color='#009900'>// PyTuple_SetItem steals a reference to 'val'
</font>        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyTuple_SetItem</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font>ssize_t<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>index<font face='Lucida Console'>)</font>, val.<font color='#BB00BB'>inc_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font> <b>{</b>
            <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <b>}</b>
    <b>}</b>
<b>}</b>;
<b><a name='NAMESPACE_END'></a>NAMESPACE_END</b><font face='Lucida Console'>(</font>accessor_policies<font face='Lucida Console'>)</font>

<font color='#009900'>/// STL iterator template used for tuple, list, sequence and dict
</font><font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> Policy<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>class</font> <b><a name='generic_iterator'></a>generic_iterator</b> : <font color='#0000FF'>public</font> Policy <b>{</b>
    <font color='#0000FF'>using</font> It <font color='#5555FF'>=</font> generic_iterator;

<font color='#0000FF'>public</font>:
    <font color='#0000FF'>using</font> difference_type <font color='#5555FF'>=</font> ssize_t;
    <font color='#0000FF'>using</font> iterator_category <font color='#5555FF'>=</font> <font color='#0000FF'>typename</font> Policy::iterator_category;
    <font color='#0000FF'>using</font> value_type <font color='#5555FF'>=</font> <font color='#0000FF'>typename</font> Policy::value_type;
    <font color='#0000FF'>using</font> reference <font color='#5555FF'>=</font> <font color='#0000FF'>typename</font> Policy::reference;
    <font color='#0000FF'>using</font> pointer <font color='#5555FF'>=</font> <font color='#0000FF'>typename</font> Policy::pointer;

    <b><a name='generic_iterator'></a>generic_iterator</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> <font color='#0000FF'>default</font>;
    <b><a name='generic_iterator'></a>generic_iterator</b><font face='Lucida Console'>(</font>handle seq, ssize_t index<font face='Lucida Console'>)</font> : Policy<font face='Lucida Console'>(</font>seq, index<font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

    reference <b><a name='operator'></a>operator</b><font color='#5555FF'>*</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> Policy::<font color='#BB00BB'>dereference</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    reference <b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font>difference_type n<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font face='Lucida Console'>(</font><font color='#5555FF'>*</font><font color='#0000FF'>this</font> <font color='#5555FF'>+</font> n<font face='Lucida Console'>)</font>; <b>}</b>
    pointer <b><a name='operator'></a>operator</b><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#5555FF'>*</font><font color='#0000FF'>this</font>; <b>}</b>

    It <font color='#5555FF'>&amp;</font><b><a name='operator'></a>operator</b><font color='#5555FF'>+</font><font color='#5555FF'>+</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> Policy::<font color='#BB00BB'>increment</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>; <b>}</b>
    It <b><a name='operator'></a>operator</b><font color='#5555FF'>+</font><font color='#5555FF'>+</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>auto</font> copy <font color='#5555FF'>=</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>; Policy::<font color='#BB00BB'>increment</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#0000FF'>return</font> copy; <b>}</b>
    It <font color='#5555FF'>&amp;</font><b><a name='operator'></a>operator</b><font color='#5555FF'>-</font><font color='#5555FF'>-</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> Policy::<font color='#BB00BB'>decrement</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>; <b>}</b>
    It <b><a name='operator'></a>operator</b><font color='#5555FF'>-</font><font color='#5555FF'>-</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>auto</font> copy <font color='#5555FF'>=</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>; Policy::<font color='#BB00BB'>decrement</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#0000FF'>return</font> copy; <b>}</b>
    It <font color='#5555FF'>&amp;</font><b><a name='operator'></a>operator</b><font color='#5555FF'>+</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font>difference_type n<font face='Lucida Console'>)</font> <b>{</b> Policy::<font color='#BB00BB'>advance</font><font face='Lucida Console'>(</font>n<font face='Lucida Console'>)</font>; <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>; <b>}</b>
    It <font color='#5555FF'>&amp;</font><b><a name='operator'></a>operator</b><font color='#5555FF'>-</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font>difference_type n<font face='Lucida Console'>)</font> <b>{</b> Policy::<font color='#BB00BB'>advance</font><font face='Lucida Console'>(</font><font color='#5555FF'>-</font>n<font face='Lucida Console'>)</font>; <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>; <b>}</b>

    <font color='#0000FF'>friend</font> It <b><a name='operator'></a>operator</b><font color='#5555FF'>+</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>a, difference_type n<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>auto</font> copy <font color='#5555FF'>=</font> a; <font color='#0000FF'>return</font> copy <font color='#5555FF'>+</font><font color='#5555FF'>=</font> n; <b>}</b>
    <font color='#0000FF'>friend</font> It <b><a name='operator'></a>operator</b><font color='#5555FF'>+</font><font face='Lucida Console'>(</font>difference_type n, <font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> b <font color='#5555FF'>+</font> n; <b>}</b>
    <font color='#0000FF'>friend</font> It <b><a name='operator'></a>operator</b><font color='#5555FF'>-</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>a, difference_type n<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>auto</font> copy <font color='#5555FF'>=</font> a; <font color='#0000FF'>return</font> copy <font color='#5555FF'>-</font><font color='#5555FF'>=</font> n; <b>}</b>
    <font color='#0000FF'>friend</font> difference_type <b><a name='operator'></a>operator</b><font color='#5555FF'>-</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>a, <font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> a.<font color='#BB00BB'>distance_to</font><font face='Lucida Console'>(</font>b<font face='Lucida Console'>)</font>; <b>}</b>

    <font color='#0000FF'>friend</font> <font color='#0000FF'><u>bool</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>a, <font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> a.<font color='#BB00BB'>equal</font><font face='Lucida Console'>(</font>b<font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>friend</font> <font color='#0000FF'><u>bool</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>!</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>a, <font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#5555FF'>!</font><font face='Lucida Console'>(</font>a <font color='#5555FF'>=</font><font color='#5555FF'>=</font> b<font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>friend</font> <font color='#0000FF'><u>bool</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>&lt;</font> <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>a, <font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> b <font color='#5555FF'>-</font> a <font color='#5555FF'>&gt;</font> <font color='#979000'>0</font>; <b>}</b>
    <font color='#0000FF'>friend</font> <font color='#0000FF'><u>bool</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>&gt;</font> <font face='Lucida Console'>(</font><font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>a, <font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> b <font color='#5555FF'>&lt;</font> a; <b>}</b>
    <font color='#0000FF'>friend</font> <font color='#0000FF'><u>bool</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>&gt;</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>a, <font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#5555FF'>!</font><font face='Lucida Console'>(</font>a <font color='#5555FF'>&lt;</font> b<font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>friend</font> <font color='#0000FF'><u>bool</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>a, <font color='#0000FF'>const</font> It <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#5555FF'>!</font><font face='Lucida Console'>(</font>a <font color='#5555FF'>&gt;</font> b<font face='Lucida Console'>)</font>; <b>}</b>
<b>}</b>;

<b><a name='NAMESPACE_BEGIN'></a>NAMESPACE_BEGIN</b><font face='Lucida Console'>(</font>iterator_policies<font face='Lucida Console'>)</font>
<font color='#009900'>/// Quick proxy class needed to implement ``operator-&gt;`` for iterators which can't return pointers
</font><font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>struct</font> <b><a name='arrow_proxy'></a>arrow_proxy</b> <b>{</b>
    T value;

    <b><a name='arrow_proxy'></a>arrow_proxy</b><font face='Lucida Console'>(</font>T <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>value<font face='Lucida Console'>)</font> : value<font face='Lucida Console'>(</font>std::move<font face='Lucida Console'>(</font>value<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>
    T <font color='#5555FF'>*</font><b><a name='operator'></a>operator</b><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#5555FF'>&amp;</font>value; <b>}</b>
<b>}</b>;

<font color='#009900'>/// Lightweight iterator policy using just a simple pointer: see ``PySequence_Fast_ITEMS``
</font><font color='#0000FF'>class</font> <b><a name='sequence_fast_readonly'></a>sequence_fast_readonly</b> <b>{</b>
<font color='#0000FF'>protected</font>:
    <font color='#0000FF'>using</font> iterator_category <font color='#5555FF'>=</font> std::random_access_iterator_tag;
    <font color='#0000FF'>using</font> value_type <font color='#5555FF'>=</font> handle;
    <font color='#0000FF'>using</font> reference <font color='#5555FF'>=</font> <font color='#0000FF'>const</font> handle;
    <font color='#0000FF'>using</font> pointer <font color='#5555FF'>=</font> arrow_proxy<font color='#5555FF'>&lt;</font><font color='#0000FF'>const</font> handle<font color='#5555FF'>&gt;</font>;

    <b><a name='sequence_fast_readonly'></a>sequence_fast_readonly</b><font face='Lucida Console'>(</font>handle obj, ssize_t n<font face='Lucida Console'>)</font> : ptr<font face='Lucida Console'>(</font>PySequence_Fast_ITEMS<font face='Lucida Console'>(</font>obj.ptr<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>+</font> n<font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

    reference <b><a name='dereference'></a>dereference</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#5555FF'>*</font>ptr; <b>}</b>
    <font color='#0000FF'><u>void</u></font> <b><a name='increment'></a>increment</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#5555FF'>+</font><font color='#5555FF'>+</font>ptr; <b>}</b>
    <font color='#0000FF'><u>void</u></font> <b><a name='decrement'></a>decrement</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#5555FF'>-</font><font color='#5555FF'>-</font>ptr; <b>}</b>
    <font color='#0000FF'><u>void</u></font> <b><a name='advance'></a>advance</b><font face='Lucida Console'>(</font>ssize_t n<font face='Lucida Console'>)</font> <b>{</b> ptr <font color='#5555FF'>+</font><font color='#5555FF'>=</font> n; <b>}</b>
    <font color='#0000FF'><u>bool</u></font> <b><a name='equal'></a>equal</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> sequence_fast_readonly <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> ptr <font color='#5555FF'>=</font><font color='#5555FF'>=</font> b.ptr; <b>}</b>
    ssize_t <b><a name='distance_to'></a>distance_to</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> sequence_fast_readonly <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> ptr <font color='#5555FF'>-</font> b.ptr; <b>}</b>

<font color='#0000FF'>private</font>:
    PyObject <font color='#5555FF'>*</font><font color='#5555FF'>*</font>ptr;
<b>}</b>;

<font color='#009900'>/// Full read and write access using the sequence protocol: see ``detail::sequence_accessor``
</font><font color='#0000FF'>class</font> <b><a name='sequence_slow_readwrite'></a>sequence_slow_readwrite</b> <b>{</b>
<font color='#0000FF'>protected</font>:
    <font color='#0000FF'>using</font> iterator_category <font color='#5555FF'>=</font> std::random_access_iterator_tag;
    <font color='#0000FF'>using</font> value_type <font color='#5555FF'>=</font> object;
    <font color='#0000FF'>using</font> reference <font color='#5555FF'>=</font> sequence_accessor;
    <font color='#0000FF'>using</font> pointer <font color='#5555FF'>=</font> arrow_proxy<font color='#5555FF'>&lt;</font><font color='#0000FF'>const</font> sequence_accessor<font color='#5555FF'>&gt;</font>;

    <b><a name='sequence_slow_readwrite'></a>sequence_slow_readwrite</b><font face='Lucida Console'>(</font>handle obj, ssize_t index<font face='Lucida Console'>)</font> : obj<font face='Lucida Console'>(</font>obj<font face='Lucida Console'>)</font>, index<font face='Lucida Console'>(</font>index<font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

    reference <b><a name='dereference'></a>dereference</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b>obj, <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>size_t</u></font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>index<font face='Lucida Console'>)</font><b>}</b>; <b>}</b>
    <font color='#0000FF'><u>void</u></font> <b><a name='increment'></a>increment</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#5555FF'>+</font><font color='#5555FF'>+</font>index; <b>}</b>
    <font color='#0000FF'><u>void</u></font> <b><a name='decrement'></a>decrement</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#5555FF'>-</font><font color='#5555FF'>-</font>index; <b>}</b>
    <font color='#0000FF'><u>void</u></font> <b><a name='advance'></a>advance</b><font face='Lucida Console'>(</font>ssize_t n<font face='Lucida Console'>)</font> <b>{</b> index <font color='#5555FF'>+</font><font color='#5555FF'>=</font> n; <b>}</b>
    <font color='#0000FF'><u>bool</u></font> <b><a name='equal'></a>equal</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> sequence_slow_readwrite <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> index <font color='#5555FF'>=</font><font color='#5555FF'>=</font> b.index; <b>}</b>
    ssize_t <b><a name='distance_to'></a>distance_to</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> sequence_slow_readwrite <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> index <font color='#5555FF'>-</font> b.index; <b>}</b>

<font color='#0000FF'>private</font>:
    handle obj;
    ssize_t index;
<b>}</b>;

<font color='#009900'>/// Python's dictionary protocol permits this to be a forward iterator
</font><font color='#0000FF'>class</font> <b><a name='dict_readonly'></a>dict_readonly</b> <b>{</b>
<font color='#0000FF'>protected</font>:
    <font color='#0000FF'>using</font> iterator_category <font color='#5555FF'>=</font> std::forward_iterator_tag;
    <font color='#0000FF'>using</font> value_type <font color='#5555FF'>=</font> std::pair<font color='#5555FF'>&lt;</font>handle, handle<font color='#5555FF'>&gt;</font>;
    <font color='#0000FF'>using</font> reference <font color='#5555FF'>=</font> <font color='#0000FF'>const</font> value_type;
    <font color='#0000FF'>using</font> pointer <font color='#5555FF'>=</font> arrow_proxy<font color='#5555FF'>&lt;</font><font color='#0000FF'>const</font> value_type<font color='#5555FF'>&gt;</font>;

    <b><a name='dict_readonly'></a>dict_readonly</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> <font color='#0000FF'>default</font>;
    <b><a name='dict_readonly'></a>dict_readonly</b><font face='Lucida Console'>(</font>handle obj, ssize_t pos<font face='Lucida Console'>)</font> : obj<font face='Lucida Console'>(</font>obj<font face='Lucida Console'>)</font>, pos<font face='Lucida Console'>(</font>pos<font face='Lucida Console'>)</font> <b>{</b> <font color='#BB00BB'>increment</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>

    reference <b><a name='dereference'></a>dereference</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b>key, value<b>}</b>; <b>}</b>
    <font color='#0000FF'><u>void</u></font> <b><a name='increment'></a>increment</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font><font color='#BB00BB'>PyDict_Next</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#5555FF'>&amp;</font>pos, <font color='#5555FF'>&amp;</font>key, <font color='#5555FF'>&amp;</font>value<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> pos <font color='#5555FF'>=</font> <font color='#5555FF'>-</font><font color='#979000'>1</font>; <b>}</b> <b>}</b>
    <font color='#0000FF'><u>bool</u></font> <b><a name='equal'></a>equal</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> dict_readonly <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> pos <font color='#5555FF'>=</font><font color='#5555FF'>=</font> b.pos; <b>}</b>

<font color='#0000FF'>private</font>:
    handle obj;
    PyObject <font color='#5555FF'>*</font>key, <font color='#5555FF'>*</font>value;
    ssize_t pos <font color='#5555FF'>=</font> <font color='#5555FF'>-</font><font color='#979000'>1</font>;
<b>}</b>;
<b><a name='NAMESPACE_END'></a>NAMESPACE_END</b><font face='Lucida Console'>(</font>iterator_policies<font face='Lucida Console'>)</font>

<font color='#0000FF'>#if</font> <font color='#5555FF'>!</font>defined<font face='Lucida Console'>(</font>PYPY_VERSION<font face='Lucida Console'>)</font>
<font color='#0000FF'>using</font> tuple_iterator <font color='#5555FF'>=</font> generic_iterator<font color='#5555FF'>&lt;</font>iterator_policies::sequence_fast_readonly<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>using</font> list_iterator <font color='#5555FF'>=</font> generic_iterator<font color='#5555FF'>&lt;</font>iterator_policies::sequence_fast_readonly<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>#else</font>
<font color='#0000FF'>using</font> tuple_iterator <font color='#5555FF'>=</font> generic_iterator<font color='#5555FF'>&lt;</font>iterator_policies::sequence_slow_readwrite<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>using</font> list_iterator <font color='#5555FF'>=</font> generic_iterator<font color='#5555FF'>&lt;</font>iterator_policies::sequence_slow_readwrite<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>#endif</font>

<font color='#0000FF'>using</font> sequence_iterator <font color='#5555FF'>=</font> generic_iterator<font color='#5555FF'>&lt;</font>iterator_policies::sequence_slow_readwrite<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>using</font> dict_iterator <font color='#5555FF'>=</font> generic_iterator<font color='#5555FF'>&lt;</font>iterator_policies::dict_readonly<font color='#5555FF'>&gt;</font>;

<font color='#0000FF'>inline</font> <font color='#0000FF'><u>bool</u></font> <b><a name='PyIterable_Check'></a>PyIterable_Check</b><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>obj<font face='Lucida Console'>)</font> <b>{</b>
    PyObject <font color='#5555FF'>*</font>iter <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_GetIter</font><font face='Lucida Console'>(</font>obj<font face='Lucida Console'>)</font>;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>iter<font face='Lucida Console'>)</font> <b>{</b>
        <font color='#BB00BB'>Py_DECREF</font><font face='Lucida Console'>(</font>iter<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> <font color='#979000'>true</font>;
    <b>}</b> <font color='#0000FF'>else</font> <b>{</b>
        <font color='#BB00BB'>PyErr_Clear</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> <font color='#979000'>false</font>;
    <b>}</b>
<b>}</b>

<font color='#0000FF'>inline</font> <font color='#0000FF'><u>bool</u></font> <b><a name='PyNone_Check'></a>PyNone_Check</b><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>o<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> o <font color='#5555FF'>=</font><font color='#5555FF'>=</font> Py_None; <b>}</b>

<font color='#0000FF'>inline</font> <font color='#0000FF'><u>bool</u></font> <b><a name='PyUnicode_Check_Permissive'></a>PyUnicode_Check_Permissive</b><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>o<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>PyUnicode_Check</font><font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font> <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>PYBIND11_BYTES_CHECK</font><font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>class</font> <b><a name='kwargs_proxy'></a>kwargs_proxy</b> : <font color='#0000FF'>public</font> handle <b>{</b>
<font color='#0000FF'>public</font>:
    <font color='#0000FF'>explicit</font> <b><a name='kwargs_proxy'></a>kwargs_proxy</b><font face='Lucida Console'>(</font>handle h<font face='Lucida Console'>)</font> : handle<font face='Lucida Console'>(</font>h<font face='Lucida Console'>)</font> <b>{</b> <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='args_proxy'></a>args_proxy</b> : <font color='#0000FF'>public</font> handle <b>{</b>
<font color='#0000FF'>public</font>:
    <font color='#0000FF'>explicit</font> <b><a name='args_proxy'></a>args_proxy</b><font face='Lucida Console'>(</font>handle h<font face='Lucida Console'>)</font> : handle<font face='Lucida Console'>(</font>h<font face='Lucida Console'>)</font> <b>{</b> <b>}</b>
    kwargs_proxy <b><a name='operator'></a>operator</b><font color='#5555FF'>*</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>kwargs_proxy</font><font face='Lucida Console'>(</font><font color='#5555FF'>*</font><font color='#0000FF'>this</font><font face='Lucida Console'>)</font>; <b>}</b>
<b>}</b>;

<font color='#009900'>/// Python argument categories (using PEP 448 terms)
</font><font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'>using</font> is_keyword <font color='#5555FF'>=</font> std::is_base_of<font color='#5555FF'>&lt;</font>arg, T<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'>using</font> is_s_unpacking <font color='#5555FF'>=</font> std::is_same<font color='#5555FF'>&lt;</font>args_proxy, T<font color='#5555FF'>&gt;</font>; <font color='#009900'>// * unpacking
</font><font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'>using</font> is_ds_unpacking <font color='#5555FF'>=</font> std::is_same<font color='#5555FF'>&lt;</font>kwargs_proxy, T<font color='#5555FF'>&gt;</font>; <font color='#009900'>// ** unpacking
</font><font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'>using</font> is_positional <font color='#5555FF'>=</font> satisfies_none_of<font color='#5555FF'>&lt;</font>T,
    is_keyword, is_s_unpacking, is_ds_unpacking
<font color='#5555FF'>&gt;</font>;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'>using</font> is_keyword_or_ds <font color='#5555FF'>=</font> satisfies_any_of<font color='#5555FF'>&lt;</font>T, is_keyword, is_ds_unpacking<font color='#5555FF'>&gt;</font>;

<font color='#009900'>// Call argument collector forward declarations
</font><font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>return_value_policy policy <font color='#5555FF'>=</font> return_value_policy::automatic_reference<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>class</font> simple_collector;
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font>return_value_policy policy <font color='#5555FF'>=</font> return_value_policy::automatic_reference<font color='#5555FF'>&gt;</font>
<font color='#0000FF'>class</font> unpacking_collector;

<b><a name='NAMESPACE_END'></a>NAMESPACE_END</b><font face='Lucida Console'>(</font>detail<font face='Lucida Console'>)</font>

<font color='#009900'>// TODO: After the deprecated constructors are removed, this macro can be simplified by
</font><font color='#009900'>//       inheriting ctors: `using Parent::Parent`. It's not an option right now because
</font><font color='#009900'>//       the `using` statement triggers the parent deprecation warning even if the ctor
</font><font color='#009900'>//       isn't even used.
</font><font color='#0000FF'>#define</font> PYBIND11_OBJECT_COMMON<font face='Lucida Console'>(</font>Name, Parent, CheckFun<font face='Lucida Console'>)</font> \
    <font color='#0000FF'>public</font>: \
        <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use reinterpret_borrow&lt;</font>"#Name"<font color='#CC0000'>&gt;() or reinterpret_steal&lt;</font>"#Name"<font color='#CC0000'>&gt;()</font>"<font face='Lucida Console'>)</font> \
        <b><a name='Name'></a>Name</b><font face='Lucida Console'>(</font>handle h, <font color='#0000FF'><u>bool</u></font> is_borrowed<font face='Lucida Console'>)</font> : Parent<font face='Lucida Console'>(</font>is_borrowed ? Parent<font face='Lucida Console'>(</font>h, borrowed_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> : Parent<font face='Lucida Console'>(</font>h, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <b>}</b> \
        <b><a name='Name'></a>Name</b><font face='Lucida Console'>(</font>handle h, borrowed_t<font face='Lucida Console'>)</font> : Parent<font face='Lucida Console'>(</font>h, borrowed_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b> <b>}</b> \
        <b><a name='Name'></a>Name</b><font face='Lucida Console'>(</font>handle h, stolen_t<font face='Lucida Console'>)</font> : Parent<font face='Lucida Console'>(</font>h, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b> <b>}</b> \
        <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use py::isinstance&lt;py::python_type&gt;(obj) instead</font>"<font face='Lucida Console'>)</font> \
        <font color='#0000FF'><u>bool</u></font> <b><a name='check'></a>check</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> m_ptr <font color='#5555FF'>!</font><font color='#5555FF'>=</font> nullptr <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>bool</u></font><font face='Lucida Console'>)</font> <font color='#BB00BB'>CheckFun</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <b>}</b> \
        <font color='#0000FF'>static</font> <font color='#0000FF'><u>bool</u></font> <b><a name='check_'></a>check_</b><font face='Lucida Console'>(</font>handle h<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> h.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> nullptr <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#BB00BB'>CheckFun</font><font face='Lucida Console'>(</font>h.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>#define</font> PYBIND11_OBJECT_CVT<font face='Lucida Console'>(</font>Name, Parent, CheckFun, ConvertFun<font face='Lucida Console'>)</font> \
    <b><a name='PYBIND11_OBJECT_COMMON'></a>PYBIND11_OBJECT_COMMON</b><font face='Lucida Console'>(</font>Name, Parent, CheckFun<font face='Lucida Console'>)</font> \
    <font color='#009900'>/* This is deliberately not 'explicit' to allow implicit conversion from object: */</font> \
    <b><a name='Name'></a>Name</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> object <font color='#5555FF'>&amp;</font>o<font face='Lucida Console'>)</font> \
    : <b><a name='Parent'></a>Parent</b><font face='Lucida Console'>(</font><font color='#BB00BB'>check_</font><font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font> ? o.<font color='#BB00BB'>inc_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> : ConvertFun<font face='Lucida Console'>(</font>o.ptr<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> \
    <b>{</b> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b> \
    <b><a name='Name'></a>Name</b><font face='Lucida Console'>(</font>object <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>o<font face='Lucida Console'>)</font> \
    : <b><a name='Parent'></a>Parent</b><font face='Lucida Console'>(</font><font color='#BB00BB'>check_</font><font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font> ? o.<font color='#BB00BB'>release</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> : ConvertFun<font face='Lucida Console'>(</font>o.ptr<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> \
    <b>{</b> <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b> \
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> Policy_<font color='#5555FF'>&gt;</font> \
    <b><a name='Name'></a>Name</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> ::pybind11::detail::accessor<font color='#5555FF'>&lt;</font>Policy_<font color='#5555FF'>&gt;</font> <font color='#5555FF'>&amp;</font>a<font face='Lucida Console'>)</font> : Name<font face='Lucida Console'>(</font>object<font face='Lucida Console'>(</font>a<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

<font color='#0000FF'>#define</font> PYBIND11_OBJECT<font face='Lucida Console'>(</font>Name, Parent, CheckFun<font face='Lucida Console'>)</font> \
    <b><a name='PYBIND11_OBJECT_COMMON'></a>PYBIND11_OBJECT_COMMON</b><font face='Lucida Console'>(</font>Name, Parent, CheckFun<font face='Lucida Console'>)</font> \
    <font color='#009900'>/* This is deliberately not 'explicit' to allow implicit conversion from object: */</font> \
    <b><a name='Name'></a>Name</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> object <font color='#5555FF'>&amp;</font>o<font face='Lucida Console'>)</font> : Parent<font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font> <b>{</b> <b>}</b> \
    <b><a name='Name'></a>Name</b><font face='Lucida Console'>(</font>object <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>o<font face='Lucida Console'>)</font> : Parent<font face='Lucida Console'>(</font>std::move<font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

<font color='#0000FF'>#define</font> PYBIND11_OBJECT_DEFAULT<font face='Lucida Console'>(</font>Name, Parent, CheckFun<font face='Lucida Console'>)</font> \
    <b><a name='PYBIND11_OBJECT'></a>PYBIND11_OBJECT</b><font face='Lucida Console'>(</font>Name, Parent, CheckFun<font face='Lucida Console'>)</font> \
    <b><a name='Name'></a>Name</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> : Parent<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

<font color='#009900'>/// \addtogroup pytypes
</font><font color='#009900'>/// @{
</font>
<font color='#009900'>/** \rst
    Wraps a Python iterator so that it can also be used as a C++ input iterator

    Caveat: copying an iterator does not (and cannot) clone the internal
    state of the Python iterable. This also applies to the post-increment
    operator. This iterator should only be used to retrieve the current
    value using ``operator*()``.
\endrst */</font>
<font color='#0000FF'>class</font> <b><a name='iterator'></a>iterator</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <font color='#0000FF'>using</font> iterator_category <font color='#5555FF'>=</font> std::input_iterator_tag;
    <font color='#0000FF'>using</font> difference_type <font color='#5555FF'>=</font> ssize_t;
    <font color='#0000FF'>using</font> value_type <font color='#5555FF'>=</font> handle;
    <font color='#0000FF'>using</font> reference <font color='#5555FF'>=</font> <font color='#0000FF'>const</font> handle;
    <font color='#0000FF'>using</font> pointer <font color='#5555FF'>=</font> <font color='#0000FF'>const</font> handle <font color='#5555FF'>*</font>;

    <b><a name='PYBIND11_OBJECT_DEFAULT'></a>PYBIND11_OBJECT_DEFAULT</b><font face='Lucida Console'>(</font>iterator, object, PyIter_Check<font face='Lucida Console'>)</font>

    iterator<font color='#5555FF'>&amp;</font> <b><a name='operator'></a>operator</b><font color='#5555FF'>+</font><font color='#5555FF'>+</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#BB00BB'>advance</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>;
    <b>}</b>

    iterator <b><a name='operator'></a>operator</b><font color='#5555FF'>+</font><font color='#5555FF'>+</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>auto</font> rv <font color='#5555FF'>=</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>;
        <font color='#BB00BB'>advance</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> rv;
    <b>}</b>

    reference <b><a name='operator'></a>operator</b><font color='#5555FF'>*</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>m_ptr <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#5555FF'>!</font>value.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b>
            <font color='#0000FF'>auto</font><font color='#5555FF'>&amp;</font> self <font color='#5555FF'>=</font> <font color='#0000FF'>const_cast</font><font color='#5555FF'>&lt;</font>iterator <font color='#5555FF'>&amp;</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#5555FF'>*</font><font color='#0000FF'>this</font><font face='Lucida Console'>)</font>;
            self.<font color='#BB00BB'>advance</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>return</font> value;
    <b>}</b>

    pointer <b><a name='operator'></a>operator</b><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>operator</font><font color='#5555FF'>*</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <font color='#0000FF'>return</font> <font color='#5555FF'>&amp;</font>value; <b>}</b>

    <font color='#009900'>/** \rst
         The value which marks the end of the iteration. ``it == iterator::sentinel()``
         is equivalent to catching ``StopIteration`` in Python.

         .. code-block:: cpp

             void foo(py::iterator it) {
                 while (it != py::iterator::sentinel()) {
                    // use `*it`
                    ++it;
                 }
             }
    \endrst */</font>
    <font color='#0000FF'>static</font> iterator <b><a name='sentinel'></a>sentinel</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><b>}</b>; <b>}</b>

    <font color='#0000FF'>friend</font> <font color='#0000FF'><u>bool</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>=</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> iterator <font color='#5555FF'>&amp;</font>a, <font color='#0000FF'>const</font> iterator <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> a<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> b<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>friend</font> <font color='#0000FF'><u>bool</u></font> <b><a name='operator'></a>operator</b><font color='#5555FF'>!</font><font color='#5555FF'>=</font><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> iterator <font color='#5555FF'>&amp;</font>a, <font color='#0000FF'>const</font> iterator <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> a<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> b<font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>private</font>:
    <font color='#0000FF'><u>void</u></font> <b><a name='advance'></a>advance</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <b>{</b>
        value <font color='#5555FF'>=</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>PyIter_Next</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyErr_Occurred</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <b>}</b>

<font color='#0000FF'>private</font>:
    object value <font color='#5555FF'>=</font> <b>{</b><b>}</b>;
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='iterable'></a>iterable</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_DEFAULT'></a>PYBIND11_OBJECT_DEFAULT</b><font face='Lucida Console'>(</font>iterable, object, detail::PyIterable_Check<font face='Lucida Console'>)</font>
<b>}</b>;

<font color='#0000FF'>class</font> bytes;

<font color='#0000FF'>class</font> <b><a name='str'></a>str</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_CVT'></a>PYBIND11_OBJECT_CVT</b><font face='Lucida Console'>(</font>str, object, detail::PyUnicode_Check_Permissive, raw_str<font face='Lucida Console'>)</font>

    <b><a name='str'></a>str</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>c, <font color='#0000FF'><u>size_t</u></font> n<font face='Lucida Console'>)</font>
        : object<font face='Lucida Console'>(</font>PyUnicode_FromStringAndSize<font face='Lucida Console'>(</font>c, <font face='Lucida Console'>(</font>ssize_t<font face='Lucida Console'>)</font> n<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate string object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#009900'>// 'explicit' is explicitly omitted from the following constructors to allow implicit conversion to py::str from C++ string-like objects
</font>    <b><a name='str'></a>str</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>c <font color='#5555FF'>=</font> "<font color='#CC0000'></font>"<font face='Lucida Console'>)</font>
        : object<font face='Lucida Console'>(</font>PyUnicode_FromString<font face='Lucida Console'>(</font>c<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate string object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <b><a name='str'></a>str</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> std::string <font color='#5555FF'>&amp;</font>s<font face='Lucida Console'>)</font> : str<font face='Lucida Console'>(</font>s.data<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, s.size<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

    <font color='#0000FF'>explicit</font> <b><a name='str'></a>str</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> bytes <font color='#5555FF'>&amp;</font>b<font face='Lucida Console'>)</font>;

    <font color='#009900'>/** \rst
        Return a string representation of the object. This is analogous to
        the ``str()`` function in Python.
    \endrst */</font>
    <font color='#0000FF'>explicit</font> <b><a name='str'></a>str</b><font face='Lucida Console'>(</font>handle h<font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>raw_str<font face='Lucida Console'>(</font>h.ptr<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

    <b><a name='operator'></a>operator</b> std::<b><a name='string'></a>string</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        object temp <font color='#5555FF'>=</font> <font color='#5555FF'>*</font><font color='#0000FF'>this</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyUnicode_Check</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b>
            temp <font color='#5555FF'>=</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>PyUnicode_AsUTF8String</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>temp<font face='Lucida Console'>)</font>
                <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Unable to extract string contents! (encoding issue)</font>"<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>buffer;
        ssize_t length;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PYBIND11_BYTES_AS_STRING_AND_SIZE</font><font face='Lucida Console'>(</font>temp.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#5555FF'>&amp;</font>buffer, <font color='#5555FF'>&amp;</font>length<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Unable to extract string contents! (invalid type)</font>"<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> std::<font color='#BB00BB'>string</font><font face='Lucida Console'>(</font>buffer, <font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font><font face='Lucida Console'>)</font> length<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font>... Args<font color='#5555FF'>&gt;</font>
    str <b><a name='format'></a>format</b><font face='Lucida Console'>(</font>Args <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>...args<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#0000FF'>return</font> <font color='#BB00BB'>attr</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>format</font>"<font face='Lucida Console'>)</font><font face='Lucida Console'>(</font>std::forward<font color='#5555FF'>&lt;</font>Args<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>args<font face='Lucida Console'>)</font>...<font face='Lucida Console'>)</font>;
    <b>}</b>

<font color='#0000FF'>private</font>:
    <font color='#009900'>/// Return string representation -- always returns a new reference, even if already a str
</font>    <font color='#0000FF'>static</font> PyObject <font color='#5555FF'>*</font><b><a name='raw_str'></a>raw_str</b><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>op<font face='Lucida Console'>)</font> <b>{</b>
        PyObject <font color='#5555FF'>*</font>str_value <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_Str</font><font face='Lucida Console'>(</font>op<font face='Lucida Console'>)</font>;
<font color='#0000FF'>#if</font> PY_MAJOR_VERSION <font color='#5555FF'>&lt;</font> <font color='#979000'>3</font>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>str_value<font face='Lucida Console'>)</font> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        PyObject <font color='#5555FF'>*</font>unicode <font color='#5555FF'>=</font> <font color='#BB00BB'>PyUnicode_FromEncodedObject</font><font face='Lucida Console'>(</font>str_value, "<font color='#CC0000'>utf-8</font>", nullptr<font face='Lucida Console'>)</font>;
        <font color='#BB00BB'>Py_XDECREF</font><font face='Lucida Console'>(</font>str_value<font face='Lucida Console'>)</font>; str_value <font color='#5555FF'>=</font> unicode;
<font color='#0000FF'>#endif</font>
        <font color='#0000FF'>return</font> str_value;
    <b>}</b>
<b>}</b>;
<font color='#009900'>/// @} pytypes
</font>
<font color='#0000FF'>inline</font> <font color='#0000FF'>namespace</font> literals <b>{</b>
<font color='#009900'>/** \rst
    String literal version of `str`
 \endrst */</font>
<font color='#0000FF'>inline</font> str <b><a name='operator'></a>operator</b>"<font color='#CC0000'></font>" <b><a name='_s'></a>_s</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>s, <font color='#0000FF'><u>size_t</u></font> size<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b>s, size<b>}</b>; <b>}</b>
<b>}</b>

<font color='#009900'>/// \addtogroup pytypes
</font><font color='#009900'>/// @{
</font><font color='#0000FF'>class</font> <b><a name='bytes'></a>bytes</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT'></a>PYBIND11_OBJECT</b><font face='Lucida Console'>(</font>bytes, object, PYBIND11_BYTES_CHECK<font face='Lucida Console'>)</font>

    <font color='#009900'>// Allow implicit conversion:
</font>    <b><a name='bytes'></a>bytes</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>c <font color='#5555FF'>=</font> "<font color='#CC0000'></font>"<font face='Lucida Console'>)</font>
        : object<font face='Lucida Console'>(</font>PYBIND11_BYTES_FROM_STRING<font face='Lucida Console'>(</font>c<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate bytes object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <b><a name='bytes'></a>bytes</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>c, <font color='#0000FF'><u>size_t</u></font> n<font face='Lucida Console'>)</font>
        : object<font face='Lucida Console'>(</font>PYBIND11_BYTES_FROM_STRING_AND_SIZE<font face='Lucida Console'>(</font>c, <font face='Lucida Console'>(</font>ssize_t<font face='Lucida Console'>)</font> n<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate bytes object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#009900'>// Allow implicit conversion:
</font>    <b><a name='bytes'></a>bytes</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> std::string <font color='#5555FF'>&amp;</font>s<font face='Lucida Console'>)</font> : bytes<font face='Lucida Console'>(</font>s.data<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, s.size<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

    <font color='#0000FF'>explicit</font> <b><a name='bytes'></a>bytes</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> pybind11::str <font color='#5555FF'>&amp;</font>s<font face='Lucida Console'>)</font>;

    <b><a name='operator'></a>operator</b> std::<b><a name='string'></a>string</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>buffer;
        ssize_t length;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PYBIND11_BYTES_AS_STRING_AND_SIZE</font><font face='Lucida Console'>(</font>m_ptr, <font color='#5555FF'>&amp;</font>buffer, <font color='#5555FF'>&amp;</font>length<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Unable to extract bytes contents!</font>"<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> std::<font color='#BB00BB'>string</font><font face='Lucida Console'>(</font>buffer, <font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font><font face='Lucida Console'>)</font> length<font face='Lucida Console'>)</font>;
    <b>}</b>
<b>}</b>;

<font color='#0000FF'>inline</font> bytes::<b><a name='bytes'></a>bytes</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> pybind11::str <font color='#5555FF'>&amp;</font>s<font face='Lucida Console'>)</font> <b>{</b>
    object temp <font color='#5555FF'>=</font> s;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyUnicode_Check</font><font face='Lucida Console'>(</font>s.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b>
        temp <font color='#5555FF'>=</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>PyUnicode_AsUTF8String</font><font face='Lucida Console'>(</font>s.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>temp<font face='Lucida Console'>)</font>
            <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Unable to extract string contents! (encoding issue)</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>
    <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>buffer;
    ssize_t length;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PYBIND11_BYTES_AS_STRING_AND_SIZE</font><font face='Lucida Console'>(</font>temp.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#5555FF'>&amp;</font>buffer, <font color='#5555FF'>&amp;</font>length<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Unable to extract string contents! (invalid type)</font>"<font face='Lucida Console'>)</font>;
    <font color='#0000FF'>auto</font> obj <font color='#5555FF'>=</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>PYBIND11_BYTES_FROM_STRING_AND_SIZE</font><font face='Lucida Console'>(</font>buffer, length<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>obj<font face='Lucida Console'>)</font>
        <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate bytes object!</font>"<font face='Lucida Console'>)</font>;
    m_ptr <font color='#5555FF'>=</font> obj.<font color='#BB00BB'>release</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#0000FF'>inline</font> str::<b><a name='str'></a>str</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> bytes<font color='#5555FF'>&amp;</font> b<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>buffer;
    ssize_t length;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PYBIND11_BYTES_AS_STRING_AND_SIZE</font><font face='Lucida Console'>(</font>b.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, <font color='#5555FF'>&amp;</font>buffer, <font color='#5555FF'>&amp;</font>length<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Unable to extract bytes contents!</font>"<font face='Lucida Console'>)</font>;
    <font color='#0000FF'>auto</font> obj <font color='#5555FF'>=</font> reinterpret_steal<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>PyUnicode_FromStringAndSize</font><font face='Lucida Console'>(</font>buffer, <font face='Lucida Console'>(</font>ssize_t<font face='Lucida Console'>)</font> length<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>obj<font face='Lucida Console'>)</font>
        <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate string object!</font>"<font face='Lucida Console'>)</font>;
    m_ptr <font color='#5555FF'>=</font> obj.<font color='#BB00BB'>release</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#0000FF'>class</font> <b><a name='none'></a>none</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT'></a>PYBIND11_OBJECT</b><font face='Lucida Console'>(</font>none, object, detail::PyNone_Check<font face='Lucida Console'>)</font>
    <b><a name='none'></a>none</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>Py_None, borrowed_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='bool_'></a>bool_</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_CVT'></a>PYBIND11_OBJECT_CVT</b><font face='Lucida Console'>(</font>bool_, object, PyBool_Check, raw_bool<font face='Lucida Console'>)</font>
    <b><a name='bool_'></a>bool_</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>Py_False, borrowed_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>
    <font color='#009900'>// Allow implicit conversion from and to `bool`:
</font>    <b><a name='bool_'></a>bool_</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>bool</u></font> value<font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>value ? Py_True : Py_False, borrowed_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>
    <b><a name='operator'></a>operator</b> <font color='#0000FF'><u>bool</u></font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> m_ptr <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#BB00BB'>PyLong_AsLong</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font>; <b>}</b>

<font color='#0000FF'>private</font>:
    <font color='#009900'>/// Return the truth value of an object -- always returns a new reference
</font>    <font color='#0000FF'>static</font> PyObject <font color='#5555FF'>*</font><b><a name='raw_bool'></a>raw_bool</b><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>op<font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>const</font> <font color='#0000FF'>auto</font> value <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_IsTrue</font><font face='Lucida Console'>(</font>op<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>value <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#5555FF'>-</font><font color='#979000'>1</font><font face='Lucida Console'>)</font> <font color='#0000FF'>return</font> nullptr;
        <font color='#0000FF'>return</font> <font color='#BB00BB'>handle</font><font face='Lucida Console'>(</font>value ? Py_True : Py_False<font face='Lucida Console'>)</font>.<font color='#BB00BB'>inc_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
    <b>}</b>
<b>}</b>;

<b><a name='NAMESPACE_BEGIN'></a>NAMESPACE_BEGIN</b><font face='Lucida Console'>(</font>detail<font face='Lucida Console'>)</font>
<font color='#009900'>// Converts a value to the given unsigned type.  If an error occurs, you get back (Unsigned) -1;
</font><font color='#009900'>// otherwise you get back the unsigned long or unsigned long long value cast to (Unsigned).
</font><font color='#009900'>// (The distinction is critically important when casting a returned -1 error value to some other
</font><font color='#009900'>// unsigned type: (A)-1 != (B)-1 when A and B are unsigned types of different sizes).
</font><font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> Unsigned<font color='#5555FF'>&gt;</font>
Unsigned <b><a name='as_unsigned'></a>as_unsigned</b><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>o<font face='Lucida Console'>)</font> <b>{</b>
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>Unsigned<font face='Lucida Console'>)</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font>
<font color='#0000FF'>#if</font> PY_VERSION_HEX <font color='#5555FF'>&lt;</font> <font color='#979000'>0x03000000</font>
            <font color='#5555FF'>|</font><font color='#5555FF'>|</font> <font color='#BB00BB'>PyInt_Check</font><font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font>
<font color='#0000FF'>#endif</font>
    <font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> v <font color='#5555FF'>=</font> <font color='#BB00BB'>PyLong_AsUnsignedLong</font><font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> v <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>-</font><font color='#979000'>1</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#BB00BB'>PyErr_Occurred</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> ? <font face='Lucida Console'>(</font>Unsigned<font face='Lucida Console'>)</font> <font color='#5555FF'>-</font><font color='#979000'>1</font> : <font face='Lucida Console'>(</font>Unsigned<font face='Lucida Console'>)</font> v;
    <b>}</b>
    <font color='#0000FF'>else</font> <b>{</b>
        <font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> <font color='#0000FF'><u>long</u></font> v <font color='#5555FF'>=</font> <font color='#BB00BB'>PyLong_AsUnsignedLongLong</font><font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> v <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> <font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> <font color='#5555FF'>-</font><font color='#979000'>1</font> <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#BB00BB'>PyErr_Occurred</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> ? <font face='Lucida Console'>(</font>Unsigned<font face='Lucida Console'>)</font> <font color='#5555FF'>-</font><font color='#979000'>1</font> : <font face='Lucida Console'>(</font>Unsigned<font face='Lucida Console'>)</font> v;
    <b>}</b>
<b>}</b>
<b><a name='NAMESPACE_END'></a>NAMESPACE_END</b><font face='Lucida Console'>(</font>detail<font face='Lucida Console'>)</font>

<font color='#0000FF'>class</font> <b><a name='int_'></a>int_</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_CVT'></a>PYBIND11_OBJECT_CVT</b><font face='Lucida Console'>(</font>int_, object, PYBIND11_LONG_CHECK, PyNumber_Long<font face='Lucida Console'>)</font>
    <b><a name='int_'></a>int_</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>PyLong_FromLong<font face='Lucida Console'>(</font><font color='#979000'>0</font><font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>
    <font color='#009900'>// Allow implicit conversion from C++ integral types:
</font>    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T,
              detail::enable_if_t<font color='#5555FF'>&lt;</font>std::is_integral<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value, <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font> <font color='#5555FF'>=</font> <font color='#979000'>0</font><font color='#5555FF'>&gt;</font>
    <b><a name='int_'></a>int_</b><font face='Lucida Console'>(</font>T value<font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>T<font face='Lucida Console'>)</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>std::is_signed<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
                m_ptr <font color='#5555FF'>=</font> <font color='#BB00BB'>PyLong_FromLong</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>else</font>
                m_ptr <font color='#5555FF'>=</font> <font color='#BB00BB'>PyLong_FromUnsignedLong</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> value<font face='Lucida Console'>)</font>;
        <b>}</b> <font color='#0000FF'>else</font> <b>{</b>
            <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>std::is_signed<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value<font face='Lucida Console'>)</font>
                m_ptr <font color='#5555FF'>=</font> <font color='#BB00BB'>PyLong_FromLongLong</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font> <font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> value<font face='Lucida Console'>)</font>;
            <font color='#0000FF'>else</font>
                m_ptr <font color='#5555FF'>=</font> <font color='#BB00BB'>PyLong_FromUnsignedLongLong</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>unsigned</u></font> <font color='#0000FF'><u>long</u></font> <font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font> value<font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate int object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T,
              detail::enable_if_t<font color='#5555FF'>&lt;</font>std::is_integral<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value, <font color='#0000FF'><u>int</u></font><font color='#5555FF'>&gt;</font> <font color='#5555FF'>=</font> <font color='#979000'>0</font><font color='#5555FF'>&gt;</font>
    <b><a name='operator'></a>operator</b> <b><a name='T'></a>T</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#0000FF'>return</font> std::is_unsigned<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font>::value
            ? detail::as_unsigned<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>
            : <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font>T<font face='Lucida Console'>)</font> <font color='#5555FF'>&lt;</font><font color='#5555FF'>=</font> <font color='#0000FF'>sizeof</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>long</u></font><font face='Lucida Console'>)</font>
              ? <font face='Lucida Console'>(</font>T<font face='Lucida Console'>)</font> <font color='#BB00BB'>PyLong_AsLong</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>
              : <font face='Lucida Console'>(</font>T<font face='Lucida Console'>)</font> <font color='#BB00BB'>PYBIND11_LONG_AS_LONGLONG</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>;
    <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='float_'></a>float_</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_CVT'></a>PYBIND11_OBJECT_CVT</b><font face='Lucida Console'>(</font>float_, object, PyFloat_Check, PyNumber_Float<font face='Lucida Console'>)</font>
    <font color='#009900'>// Allow implicit conversion from float/double:
</font>    <b><a name='float_'></a>float_</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>float</u></font> value<font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>PyFloat_FromDouble<font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>double</u></font><font face='Lucida Console'>)</font> value<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate float object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>
    <b><a name='float_'></a>float_</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>double</u></font> value <font color='#5555FF'>=</font> .<font color='#979000'>0</font><font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>PyFloat_FromDouble<font face='Lucida Console'>(</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>double</u></font><font face='Lucida Console'>)</font> value<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate float object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>
    <b><a name='operator'></a>operator</b> <font color='#0000FF'><u>float</u></font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>float</u></font><font face='Lucida Console'>)</font> <font color='#BB00BB'>PyFloat_AsDouble</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <b>}</b>
    <b><a name='operator'></a>operator</b> <font color='#0000FF'><u>double</u></font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>double</u></font><font face='Lucida Console'>)</font> <font color='#BB00BB'>PyFloat_AsDouble</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='weakref'></a>weakref</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_DEFAULT'></a>PYBIND11_OBJECT_DEFAULT</b><font face='Lucida Console'>(</font>weakref, object, PyWeakref_Check<font face='Lucida Console'>)</font>
    <font color='#0000FF'>explicit</font> <b><a name='weakref'></a>weakref</b><font face='Lucida Console'>(</font>handle obj, handle callback <font color='#5555FF'>=</font> <b>{</b><b>}</b><font face='Lucida Console'>)</font>
        : object<font face='Lucida Console'>(</font>PyWeakref_NewRef<font face='Lucida Console'>(</font>obj.ptr<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, callback.ptr<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate weak reference!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='slice'></a>slice</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_DEFAULT'></a>PYBIND11_OBJECT_DEFAULT</b><font face='Lucida Console'>(</font>slice, object, PySlice_Check<font face='Lucida Console'>)</font>
    <b><a name='slice'></a>slice</b><font face='Lucida Console'>(</font>ssize_t start_, ssize_t stop_, ssize_t step_<font face='Lucida Console'>)</font> <b>{</b>
        int_ <font color='#BB00BB'>start</font><font face='Lucida Console'>(</font>start_<font face='Lucida Console'>)</font>, <font color='#BB00BB'>stop</font><font face='Lucida Console'>(</font>stop_<font face='Lucida Console'>)</font>, <font color='#BB00BB'>step</font><font face='Lucida Console'>(</font>step_<font face='Lucida Console'>)</font>;
        m_ptr <font color='#5555FF'>=</font> <font color='#BB00BB'>PySlice_New</font><font face='Lucida Console'>(</font>start.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, stop.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, step.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate slice object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>
    <font color='#0000FF'><u>bool</u></font> <b><a name='compute'></a>compute</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> length, <font color='#0000FF'><u>size_t</u></font> <font color='#5555FF'>*</font>start, <font color='#0000FF'><u>size_t</u></font> <font color='#5555FF'>*</font>stop, <font color='#0000FF'><u>size_t</u></font> <font color='#5555FF'>*</font>step,
                 <font color='#0000FF'><u>size_t</u></font> <font color='#5555FF'>*</font>slicelength<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#0000FF'>return</font> <font color='#BB00BB'>PySlice_GetIndicesEx</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font>PYBIND11_SLICE_OBJECT <font color='#5555FF'>*</font><font face='Lucida Console'>)</font> m_ptr,
                                    <font face='Lucida Console'>(</font>ssize_t<font face='Lucida Console'>)</font> length, <font face='Lucida Console'>(</font>ssize_t <font color='#5555FF'>*</font><font face='Lucida Console'>)</font> start,
                                    <font face='Lucida Console'>(</font>ssize_t <font color='#5555FF'>*</font><font face='Lucida Console'>)</font> stop, <font face='Lucida Console'>(</font>ssize_t <font color='#5555FF'>*</font><font face='Lucida Console'>)</font> step,
                                    <font face='Lucida Console'>(</font>ssize_t <font color='#5555FF'>*</font><font face='Lucida Console'>)</font> slicelength<font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='capsule'></a>capsule</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_DEFAULT'></a>PYBIND11_OBJECT_DEFAULT</b><font face='Lucida Console'>(</font>capsule, object, PyCapsule_CheckExact<font face='Lucida Console'>)</font>
    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Use reinterpret_borrow&lt;capsule&gt;() or reinterpret_steal&lt;capsule&gt;()</font>"<font face='Lucida Console'>)</font>
    <b><a name='capsule'></a>capsule</b><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>ptr, <font color='#0000FF'><u>bool</u></font> is_borrowed<font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>is_borrowed ? object<font face='Lucida Console'>(</font>ptr, borrowed_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>ptr, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

    <font color='#0000FF'>explicit</font> <b><a name='capsule'></a>capsule</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>void</u></font> <font color='#5555FF'>*</font>value, <font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>name <font color='#5555FF'>=</font> nullptr, <font color='#0000FF'><u>void</u></font> <font face='Lucida Console'>(</font><font color='#5555FF'>*</font>destructor<font face='Lucida Console'>)</font><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font> nullptr<font face='Lucida Console'>)</font>
        : object<font face='Lucida Console'>(</font>PyCapsule_New<font face='Lucida Console'>(</font><font color='#0000FF'>const_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>void</u></font> <font color='#5555FF'>*</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>value<font face='Lucida Console'>)</font>, name, destructor<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font>
            <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate capsule object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <b><a name='PYBIND11_DEPRECATED'></a>PYBIND11_DEPRECATED</b><font face='Lucida Console'>(</font>"<font color='#CC0000'>Please pass a destructor that takes a void pointer as input</font>"<font face='Lucida Console'>)</font>
    <b><a name='capsule'></a>capsule</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>void</u></font> <font color='#5555FF'>*</font>value, <font color='#0000FF'><u>void</u></font> <font face='Lucida Console'>(</font><font color='#5555FF'>*</font>destruct<font face='Lucida Console'>)</font><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
        : object<font face='Lucida Console'>(</font>PyCapsule_New<font face='Lucida Console'>(</font><font color='#0000FF'>const_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>void</u></font><font color='#5555FF'>*</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>value<font face='Lucida Console'>)</font>, nullptr, destruct<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font>
            <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate capsule object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <b><a name='capsule'></a>capsule</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>void</u></font> <font color='#5555FF'>*</font>value, <font color='#0000FF'><u>void</u></font> <font face='Lucida Console'>(</font><font color='#5555FF'>*</font>destructor<font face='Lucida Console'>)</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>void</u></font> <font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b>
        m_ptr <font color='#5555FF'>=</font> <font color='#BB00BB'>PyCapsule_New</font><font face='Lucida Console'>(</font><font color='#0000FF'>const_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>void</u></font> <font color='#5555FF'>*</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>value<font face='Lucida Console'>)</font>, nullptr, []<font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>o<font face='Lucida Console'>)</font> <b>{</b>
            <font color='#0000FF'>auto</font> destructor <font color='#5555FF'>=</font> <font color='#0000FF'>reinterpret_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>void</u></font> <font face='Lucida Console'>(</font><font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font face='Lucida Console'>(</font><font color='#0000FF'><u>void</u></font> <font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>PyCapsule_GetContext</font><font face='Lucida Console'>(</font>o<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <font color='#0000FF'><u>void</u></font> <font color='#5555FF'>*</font>ptr <font color='#5555FF'>=</font> <font color='#BB00BB'>PyCapsule_GetPointer</font><font face='Lucida Console'>(</font>o, nullptr<font face='Lucida Console'>)</font>;
            <font color='#BB00BB'>destructor</font><font face='Lucida Console'>(</font>ptr<font face='Lucida Console'>)</font>;
        <b>}</b><font face='Lucida Console'>)</font>;

        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font>
            <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate capsule object!</font>"<font face='Lucida Console'>)</font>;

        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyCapsule_SetContext</font><font face='Lucida Console'>(</font>m_ptr, <font face='Lucida Console'>(</font><font color='#0000FF'><u>void</u></font> <font color='#5555FF'>*</font><font face='Lucida Console'>)</font> destructor<font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font>
            <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not set capsule context!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <b><a name='capsule'></a>capsule</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>void</u></font> <font face='Lucida Console'>(</font><font color='#5555FF'>*</font>destructor<font face='Lucida Console'>)</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b>
        m_ptr <font color='#5555FF'>=</font> <font color='#BB00BB'>PyCapsule_New</font><font face='Lucida Console'>(</font><font color='#0000FF'>reinterpret_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>void</u></font> <font color='#5555FF'>*</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>destructor<font face='Lucida Console'>)</font>, nullptr, []<font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>o<font face='Lucida Console'>)</font> <b>{</b>
            <font color='#0000FF'>auto</font> destructor <font color='#5555FF'>=</font> <font color='#0000FF'>reinterpret_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>void</u></font> <font face='Lucida Console'>(</font><font color='#5555FF'>*</font><font face='Lucida Console'>)</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>PyCapsule_GetPointer</font><font face='Lucida Console'>(</font>o, nullptr<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
            <font color='#BB00BB'>destructor</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <b>}</b><font face='Lucida Console'>)</font>;

        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font>
            <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate capsule object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <b><a name='operator'></a>operator</b> T <font color='#5555FF'>*</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#0000FF'>auto</font> name <font color='#5555FF'>=</font> <font color='#0000FF'>this</font><font color='#5555FF'>-</font><font color='#5555FF'>&gt;</font><font color='#BB00BB'>name</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        T <font color='#5555FF'>*</font> result <font color='#5555FF'>=</font> <font color='#0000FF'>static_cast</font><font color='#5555FF'>&lt;</font>T <font color='#5555FF'>*</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font color='#BB00BB'>PyCapsule_GetPointer</font><font face='Lucida Console'>(</font>m_ptr, name<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>result<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Unable to extract capsule contents!</font>"<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> result;
    <b>}</b>

    <font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font><b><a name='name'></a>name</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>PyCapsule_GetName</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='tuple'></a>tuple</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_CVT'></a>PYBIND11_OBJECT_CVT</b><font face='Lucida Console'>(</font>tuple, object, PyTuple_Check, PySequence_Tuple<font face='Lucida Console'>)</font>
    <font color='#0000FF'>explicit</font> <b><a name='tuple'></a>tuple</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> size <font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>PyTuple_New<font face='Lucida Console'>(</font><font face='Lucida Console'>(</font>ssize_t<font face='Lucida Console'>)</font> size<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate tuple object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>
    <font color='#0000FF'><u>size_t</u></font> <b><a name='size'></a>size</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font><font face='Lucida Console'>)</font> <font color='#BB00BB'>PyTuple_Size</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <b>}</b>
    detail::tuple_accessor <b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> index<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><font color='#5555FF'>*</font><font color='#0000FF'>this</font>, index<b>}</b>; <b>}</b>
    detail::tuple_iterator <b><a name='begin'></a>begin</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><font color='#5555FF'>*</font><font color='#0000FF'>this</font>, <font color='#979000'>0</font><b>}</b>; <b>}</b>
    detail::tuple_iterator <b><a name='end'></a>end</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><font color='#5555FF'>*</font><font color='#0000FF'>this</font>, <font color='#BB00BB'>PyTuple_GET_SIZE</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font><b>}</b>; <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='dict'></a>dict</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_CVT'></a>PYBIND11_OBJECT_CVT</b><font face='Lucida Console'>(</font>dict, object, PyDict_Check, raw_dict<font face='Lucida Console'>)</font>
    <b><a name='dict'></a>dict</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>PyDict_New<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate dict object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font>... Args,
              <font color='#0000FF'>typename</font> <font color='#5555FF'>=</font> detail::enable_if_t<font color='#5555FF'>&lt;</font>detail::all_of<font color='#5555FF'>&lt;</font>detail::is_keyword_or_ds<font color='#5555FF'>&lt;</font>Args<font color='#5555FF'>&gt;</font>...<font color='#5555FF'>&gt;</font>::value<font color='#5555FF'>&gt;</font>,
              <font color='#009900'>// MSVC workaround: it can't compile an out-of-line definition, so defer the collector
</font>              <font color='#0000FF'>typename</font> collector <font color='#5555FF'>=</font> detail::deferred_t<font color='#5555FF'>&lt;</font>detail::unpacking_collector<font color='#5555FF'>&lt;</font><font color='#5555FF'>&gt;</font>, Args...<font color='#5555FF'>&gt;</font><font color='#5555FF'>&gt;</font>
    <font color='#0000FF'>explicit</font> <b><a name='dict'></a>dict</b><font face='Lucida Console'>(</font>Args <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>...args<font face='Lucida Console'>)</font> : dict<font face='Lucida Console'>(</font>collector<font face='Lucida Console'>(</font>std::forward<font color='#5555FF'>&lt;</font>Args<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>args<font face='Lucida Console'>)</font>...<font face='Lucida Console'>)</font>.kwargs<font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <b>{</b> <b>}</b>

    <font color='#0000FF'><u>size_t</u></font> <b><a name='size'></a>size</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font><font face='Lucida Console'>)</font> <font color='#BB00BB'>PyDict_Size</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <b>}</b>
    detail::dict_iterator <b><a name='begin'></a>begin</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><font color='#5555FF'>*</font><font color='#0000FF'>this</font>, <font color='#979000'>0</font><b>}</b>; <b>}</b>
    detail::dict_iterator <b><a name='end'></a>end</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><b>}</b>; <b>}</b>
    <font color='#0000FF'><u>void</u></font> <b><a name='clear'></a>clear</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#BB00BB'>PyDict_Clear</font><font face='Lucida Console'>(</font><font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'><u>bool</u></font> <b><a name='contains'></a>contains</b><font face='Lucida Console'>(</font>handle key<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>PyDict_Contains</font><font face='Lucida Console'>(</font><font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, key.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#979000'>1</font>; <b>}</b>
    <font color='#0000FF'><u>bool</u></font> <b><a name='contains'></a>contains</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>key<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>PyDict_Contains</font><font face='Lucida Console'>(</font><font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, pybind11::<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font>key<font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#979000'>1</font>; <b>}</b>

<font color='#0000FF'>private</font>:
    <font color='#009900'>/// Call the `dict` Python type -- always returns a new reference
</font>    <font color='#0000FF'>static</font> PyObject <font color='#5555FF'>*</font><b><a name='raw_dict'></a>raw_dict</b><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font>op<font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyDict_Check</font><font face='Lucida Console'>(</font>op<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <font color='#0000FF'>return</font> <font color='#BB00BB'>handle</font><font face='Lucida Console'>(</font>op<font face='Lucida Console'>)</font>.<font color='#BB00BB'>inc_ref</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>return</font> <font color='#BB00BB'>PyObject_CallFunctionObjArgs</font><font face='Lucida Console'>(</font><font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font><font face='Lucida Console'>)</font> <font color='#5555FF'>&amp;</font>PyDict_Type, op, nullptr<font face='Lucida Console'>)</font>;
    <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='sequence'></a>sequence</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_DEFAULT'></a>PYBIND11_OBJECT_DEFAULT</b><font face='Lucida Console'>(</font>sequence, object, PySequence_Check<font face='Lucida Console'>)</font>
    <font color='#0000FF'><u>size_t</u></font> <b><a name='size'></a>size</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font><font face='Lucida Console'>)</font> <font color='#BB00BB'>PySequence_Size</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <b>}</b>
    detail::sequence_accessor <b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> index<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><font color='#5555FF'>*</font><font color='#0000FF'>this</font>, index<b>}</b>; <b>}</b>
    detail::sequence_iterator <b><a name='begin'></a>begin</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><font color='#5555FF'>*</font><font color='#0000FF'>this</font>, <font color='#979000'>0</font><b>}</b>; <b>}</b>
    detail::sequence_iterator <b><a name='end'></a>end</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><font color='#5555FF'>*</font><font color='#0000FF'>this</font>, <font color='#BB00BB'>PySequence_Size</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font><b>}</b>; <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='list'></a>list</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_CVT'></a>PYBIND11_OBJECT_CVT</b><font face='Lucida Console'>(</font>list, object, PyList_Check, PySequence_List<font face='Lucida Console'>)</font>
    <font color='#0000FF'>explicit</font> <b><a name='list'></a>list</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> size <font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>PyList_New<font face='Lucida Console'>(</font><font face='Lucida Console'>(</font>ssize_t<font face='Lucida Console'>)</font> size<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate list object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>
    <font color='#0000FF'><u>size_t</u></font> <b><a name='size'></a>size</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font><font face='Lucida Console'>)</font> <font color='#BB00BB'>PyList_Size</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <b>}</b>
    detail::list_accessor <b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> index<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><font color='#5555FF'>*</font><font color='#0000FF'>this</font>, index<b>}</b>; <b>}</b>
    detail::list_iterator <b><a name='begin'></a>begin</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><font color='#5555FF'>*</font><font color='#0000FF'>this</font>, <font color='#979000'>0</font><b>}</b>; <b>}</b>
    detail::list_iterator <b><a name='end'></a>end</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <b>{</b><font color='#5555FF'>*</font><font color='#0000FF'>this</font>, <font color='#BB00BB'>PyList_GET_SIZE</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font><b>}</b>; <b>}</b>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'><u>void</u></font> <b><a name='append'></a>append</b><font face='Lucida Console'>(</font>T <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>val<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#BB00BB'>PyList_Append</font><font face='Lucida Console'>(</font>m_ptr, detail::<font color='#BB00BB'>object_or_cast</font><font face='Lucida Console'>(</font>std::forward<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>val<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='args'></a>args</b> : <font color='#0000FF'>public</font> tuple <b>{</b> <b><a name='PYBIND11_OBJECT_DEFAULT'></a>PYBIND11_OBJECT_DEFAULT</b><font face='Lucida Console'>(</font>args, tuple, PyTuple_Check<font face='Lucida Console'>)</font> <b>}</b>;
<font color='#0000FF'>class</font> <b><a name='kwargs'></a>kwargs</b> : <font color='#0000FF'>public</font> dict <b>{</b> <b><a name='PYBIND11_OBJECT_DEFAULT'></a>PYBIND11_OBJECT_DEFAULT</b><font face='Lucida Console'>(</font>kwargs, dict, PyDict_Check<font face='Lucida Console'>)</font>  <b>}</b>;

<font color='#0000FF'>class</font> <b><a name='set'></a>set</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_CVT'></a>PYBIND11_OBJECT_CVT</b><font face='Lucida Console'>(</font>set, object, PySet_Check, PySet_New<font face='Lucida Console'>)</font>
    <b><a name='set'></a>set</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> : object<font face='Lucida Console'>(</font>PySet_New<font face='Lucida Console'>(</font>nullptr<font face='Lucida Console'>)</font>, stolen_t<b>{</b><b>}</b><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font> <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Could not allocate set object!</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>
    <font color='#0000FF'><u>size_t</u></font> <b><a name='size'></a>size</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font><font face='Lucida Console'>)</font> <font color='#BB00BB'>PySet_Size</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'><u>bool</u></font> <b><a name='add'></a>add</b><font face='Lucida Console'>(</font>T <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>val<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        <font color='#0000FF'>return</font> <font color='#BB00BB'>PySet_Add</font><font face='Lucida Console'>(</font>m_ptr, detail::<font color='#BB00BB'>object_or_cast</font><font face='Lucida Console'>(</font>std::forward<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>val<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font> <font color='#5555FF'>=</font><font color='#5555FF'>=</font> <font color='#979000'>0</font>;
    <b>}</b>
    <font color='#0000FF'><u>void</u></font> <b><a name='clear'></a>clear</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#BB00BB'>PySet_Clear</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>; <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='function'></a>function</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_DEFAULT'></a>PYBIND11_OBJECT_DEFAULT</b><font face='Lucida Console'>(</font>function, object, PyCallable_Check<font face='Lucida Console'>)</font>
    handle <b><a name='cpp_function'></a>cpp_function</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
        handle fun <font color='#5555FF'>=</font> detail::<font color='#BB00BB'>get_function</font><font face='Lucida Console'>(</font>m_ptr<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>fun <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font> <font color='#BB00BB'>PyCFunction_Check</font><font face='Lucida Console'>(</font>fun.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>
            <font color='#0000FF'>return</font> fun;
        <font color='#0000FF'>return</font> <font color='#BB00BB'>handle</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
    <b>}</b>
    <font color='#0000FF'><u>bool</u></font> <b><a name='is_cpp_function'></a>is_cpp_function</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>bool</u></font><font face='Lucida Console'>)</font> <font color='#BB00BB'>cpp_function</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='buffer'></a>buffer</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <b><a name='PYBIND11_OBJECT_DEFAULT'></a>PYBIND11_OBJECT_DEFAULT</b><font face='Lucida Console'>(</font>buffer, object, PyObject_CheckBuffer<font face='Lucida Console'>)</font>

    buffer_info <b><a name='request'></a>request</b><font face='Lucida Console'>(</font><font color='#0000FF'><u>bool</u></font> writable <font color='#5555FF'>=</font> <font color='#979000'>false</font><font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'><u>int</u></font> flags <font color='#5555FF'>=</font> PyBUF_STRIDES <font color='#5555FF'>|</font> PyBUF_FORMAT;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>writable<font face='Lucida Console'>)</font> flags <font color='#5555FF'>|</font><font color='#5555FF'>=</font> PyBUF_WRITABLE;
        Py_buffer <font color='#5555FF'>*</font>view <font color='#5555FF'>=</font> <font color='#0000FF'>new</font> <font color='#BB00BB'>Py_buffer</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#BB00BB'>PyObject_GetBuffer</font><font face='Lucida Console'>(</font>m_ptr, view, flags<font face='Lucida Console'>)</font> <font color='#5555FF'>!</font><font color='#5555FF'>=</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font> <b>{</b>
            <font color='#0000FF'>delete</font> view;
            <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <b>}</b>
        <font color='#0000FF'>return</font> <font color='#BB00BB'>buffer_info</font><font face='Lucida Console'>(</font>view<font face='Lucida Console'>)</font>;
    <b>}</b>
<b>}</b>;

<font color='#0000FF'>class</font> <b><a name='memoryview'></a>memoryview</b> : <font color='#0000FF'>public</font> object <b>{</b>
<font color='#0000FF'>public</font>:
    <font color='#0000FF'>explicit</font> <b><a name='memoryview'></a>memoryview</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> buffer_info<font color='#5555FF'>&amp;</font> info<font face='Lucida Console'>)</font> <b>{</b>
        <font color='#0000FF'>static</font> Py_buffer buf <b>{</b> <b>}</b>;
        <font color='#009900'>// Py_buffer uses signed sizes, strides and shape!..
</font>        <font color='#0000FF'>static</font> std::vector<font color='#5555FF'>&lt;</font>Py_ssize_t<font color='#5555FF'>&gt;</font> py_strides <b>{</b> <b>}</b>;
        <font color='#0000FF'>static</font> std::vector<font color='#5555FF'>&lt;</font>Py_ssize_t<font color='#5555FF'>&gt;</font> py_shape <b>{</b> <b>}</b>;
        buf.buf <font color='#5555FF'>=</font> info.ptr;
        buf.itemsize <font color='#5555FF'>=</font> info.itemsize;
        buf.format <font color='#5555FF'>=</font> <font color='#0000FF'>const_cast</font><font color='#5555FF'>&lt;</font><font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>info.format.<font color='#BB00BB'>c_str</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
        buf.ndim <font color='#5555FF'>=</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>int</u></font><font face='Lucida Console'>)</font> info.ndim;
        buf.len <font color='#5555FF'>=</font> info.size;
        py_strides.<font color='#BB00BB'>clear</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        py_shape.<font color='#BB00BB'>clear</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        <font color='#0000FF'>for</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font> i <font color='#5555FF'>=</font> <font color='#979000'>0</font>; i <font color='#5555FF'>&lt;</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font><font face='Lucida Console'>)</font> info.ndim; <font color='#5555FF'>+</font><font color='#5555FF'>+</font>i<font face='Lucida Console'>)</font> <b>{</b>
            py_strides.<font color='#BB00BB'>push_back</font><font face='Lucida Console'>(</font>info.strides[i]<font face='Lucida Console'>)</font>;
            py_shape.<font color='#BB00BB'>push_back</font><font face='Lucida Console'>(</font>info.shape[i]<font face='Lucida Console'>)</font>;
        <b>}</b>
        buf.strides <font color='#5555FF'>=</font> py_strides.<font color='#BB00BB'>data</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        buf.shape <font color='#5555FF'>=</font> py_shape.<font color='#BB00BB'>data</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
        buf.suboffsets <font color='#5555FF'>=</font> nullptr;
        buf.readonly <font color='#5555FF'>=</font> <font color='#979000'>false</font>;
        buf.internal <font color='#5555FF'>=</font> nullptr;

        m_ptr <font color='#5555FF'>=</font> <font color='#BB00BB'>PyMemoryView_FromBuffer</font><font face='Lucida Console'>(</font><font color='#5555FF'>&amp;</font>buf<font face='Lucida Console'>)</font>;
        <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>m_ptr<font face='Lucida Console'>)</font>
            <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Unable to create memoryview from buffer descriptor</font>"<font face='Lucida Console'>)</font>;
    <b>}</b>

    <b><a name='PYBIND11_OBJECT_CVT'></a>PYBIND11_OBJECT_CVT</b><font face='Lucida Console'>(</font>memoryview, object, PyMemoryView_Check, PyMemoryView_FromObject<font face='Lucida Console'>)</font>
<b>}</b>;
<font color='#009900'>/// @} pytypes
</font>
<font color='#009900'>/// \addtogroup python_builtins
</font><font color='#009900'>/// @{
</font><font color='#0000FF'>inline</font> <font color='#0000FF'><u>size_t</u></font> <b><a name='len'></a>len</b><font face='Lucida Console'>(</font>handle h<font face='Lucida Console'>)</font> <b>{</b>
    ssize_t result <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_Length</font><font face='Lucida Console'>(</font>h.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font>result <font color='#5555FF'>&lt;</font> <font color='#979000'>0</font><font face='Lucida Console'>)</font>
        <font color='#BB00BB'>pybind11_fail</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>Unable to compute length of object</font>"<font face='Lucida Console'>)</font>;
    <font color='#0000FF'>return</font> <font face='Lucida Console'>(</font><font color='#0000FF'><u>size_t</u></font><font face='Lucida Console'>)</font> result;
<b>}</b>

<font color='#0000FF'>inline</font> str <b><a name='repr'></a>repr</b><font face='Lucida Console'>(</font>handle h<font face='Lucida Console'>)</font> <b>{</b>
    PyObject <font color='#5555FF'>*</font>str_value <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_Repr</font><font face='Lucida Console'>(</font>h.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>str_value<font face='Lucida Console'>)</font> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
<font color='#0000FF'>#if</font> PY_MAJOR_VERSION <font color='#5555FF'>&lt;</font> <font color='#979000'>3</font>
    PyObject <font color='#5555FF'>*</font>unicode <font color='#5555FF'>=</font> <font color='#BB00BB'>PyUnicode_FromEncodedObject</font><font face='Lucida Console'>(</font>str_value, "<font color='#CC0000'>utf-8</font>", nullptr<font face='Lucida Console'>)</font>;
    <font color='#BB00BB'>Py_XDECREF</font><font face='Lucida Console'>(</font>str_value<font face='Lucida Console'>)</font>; str_value <font color='#5555FF'>=</font> unicode;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>str_value<font face='Lucida Console'>)</font> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
<font color='#0000FF'>#endif</font>
    <font color='#0000FF'>return</font> reinterpret_steal<font color='#5555FF'>&lt;</font>str<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>str_value<font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#0000FF'>inline</font> iterator <b><a name='iter'></a>iter</b><font face='Lucida Console'>(</font>handle obj<font face='Lucida Console'>)</font> <b>{</b>
    PyObject <font color='#5555FF'>*</font>result <font color='#5555FF'>=</font> <font color='#BB00BB'>PyObject_GetIter</font><font face='Lucida Console'>(</font>obj.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
    <font color='#0000FF'>if</font> <font face='Lucida Console'>(</font><font color='#5555FF'>!</font>result<font face='Lucida Console'>)</font> <b>{</b> <font color='#0000FF'>throw</font> <font color='#BB00BB'>error_already_set</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
    <font color='#0000FF'>return</font> reinterpret_steal<font color='#5555FF'>&lt;</font>iterator<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>result<font face='Lucida Console'>)</font>;
<b>}</b>
<font color='#009900'>/// @} python_builtins
</font>
<b><a name='NAMESPACE_BEGIN'></a>NAMESPACE_BEGIN</b><font face='Lucida Console'>(</font>detail<font face='Lucida Console'>)</font>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font> iterator object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='begin'></a>begin</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>iter</font><font face='Lucida Console'>(</font><font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font> iterator object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='end'></a>end</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> iterator::<font color='#BB00BB'>sentinel</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>; <b>}</b>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font> item_accessor object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font>handle key<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
    <font color='#0000FF'>return</font> <b>{</b><font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, reinterpret_borrow<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>key<font face='Lucida Console'>)</font><b>}</b>;
<b>}</b>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font> item_accessor object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='operator'></a>operator</b>[]<font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>key<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
    <font color='#0000FF'>return</font> <b>{</b><font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, pybind11::<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font>key<font face='Lucida Console'>)</font><b>}</b>;
<b>}</b>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font> obj_attr_accessor object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='attr'></a>attr</b><font face='Lucida Console'>(</font>handle key<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
    <font color='#0000FF'>return</font> <b>{</b><font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, reinterpret_borrow<font color='#5555FF'>&lt;</font>object<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>key<font face='Lucida Console'>)</font><b>}</b>;
<b>}</b>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font> str_attr_accessor object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='attr'></a>attr</b><font face='Lucida Console'>(</font><font color='#0000FF'>const</font> <font color='#0000FF'><u>char</u></font> <font color='#5555FF'>*</font>key<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
    <font color='#0000FF'>return</font> <b>{</b><font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>, key<b>}</b>;
<b>}</b>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font> args_proxy object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='operator'></a>operator</b><font color='#5555FF'>*</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
    <font color='#0000FF'>return</font> <font color='#BB00BB'>args_proxy</font><font face='Lucida Console'>(</font><font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>;
<b>}</b>
<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font> <font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> T<font color='#5555FF'>&gt;</font> <font color='#0000FF'><u>bool</u></font> object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='contains'></a>contains</b><font face='Lucida Console'>(</font>T <font color='#5555FF'>&amp;</font><font color='#5555FF'>&amp;</font>item<font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b>
    <font color='#0000FF'>return</font> <font color='#BB00BB'>attr</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>__contains__</font>"<font face='Lucida Console'>)</font><font face='Lucida Console'>(</font>std::forward<font color='#5555FF'>&lt;</font>T<font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font>item<font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>.<font color='#0000FF'>template</font> cast<font color='#5555FF'>&lt;</font><font color='#0000FF'><u>bool</u></font><font color='#5555FF'>&gt;</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>;
<b>}</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font>
pybind11::str object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='str'></a>str</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> pybind11::<font color='#BB00BB'>str</font><font face='Lucida Console'>(</font><font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font>
str_attr_accessor object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='doc'></a>doc</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font color='#BB00BB'>attr</font><font face='Lucida Console'>(</font>"<font color='#CC0000'>__doc__</font>"<font face='Lucida Console'>)</font>; <b>}</b>

<font color='#0000FF'>template</font> <font color='#5555FF'>&lt;</font><font color='#0000FF'>typename</font> D<font color='#5555FF'>&gt;</font>
handle object_api<font color='#5555FF'>&lt;</font>D<font color='#5555FF'>&gt;</font>::<b><a name='get_type'></a>get_type</b><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font> <font color='#0000FF'>const</font> <b>{</b> <font color='#0000FF'>return</font> <font face='Lucida Console'>(</font>PyObject <font color='#5555FF'>*</font><font face='Lucida Console'>)</font> <font color='#BB00BB'>Py_TYPE</font><font face='Lucida Console'>(</font><font color='#BB00BB'>derived</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font>.<font color='#BB00BB'>ptr</font><font face='Lucida Console'>(</font><font face='Lucida Console'>)</font><font face='Lucida Console'>)</font>; <b>}</b>

<b><a name='NAMESPACE_END'></a>NAMESPACE_END</b><font face='Lucida Console'>(</font>detail<font face='Lucida Console'>)</font>
<b><a name='NAMESPACE_END'></a>NAMESPACE_END</b><font face='Lucida Console'>(</font>PYBIND11_NAMESPACE<font face='Lucida Console'>)</font>

</pre></body></html>